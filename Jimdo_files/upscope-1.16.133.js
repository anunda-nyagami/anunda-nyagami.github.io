!function(a,b,c,d){!function(){function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){return f(c[h][1][a]||a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}return b}()({1:[function(a,b,c){b.exports={default:a("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":13}],2:[function(a,b,c){b.exports={default:a("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":14}],3:[function(a,b,c){b.exports={default:a("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":15}],4:[function(a,b,c){b.exports={default:a("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":16}],5:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":17}],6:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":18}],7:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":19}],8:[function(a,b,c){b.exports={default:a("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":20}],9:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":21}],10:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":22}],11:[function(a,b,c){b.exports=a("regenerator-runtime")},{"regenerator-runtime":296}],12:[function(a,b,c){!function(a,e){"function"==typeof d&&d.amd?d([],e):"object"==typeof c?b.exports=e():a.compareVersions=e()}(this,function(){function a(a,b){return-1===a.indexOf(b)?a.length:a.indexOf(b)}function b(b){var c=b.replace(/^v/,"").replace(/\+.*$/,""),d=a(c,"-"),e=c.substring(0,d).split(".");return e.push(c.substring(d+1)),e}function c(a){return isNaN(Number(a))?a:Number(a)}function d(a){if("string"!=typeof a)throw new TypeError("Invalid argument expected string");if(!e.test(a))throw new Error("Invalid argument not valid semver ('"+a+"' received)")}var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;return function(a,e){[a,e].forEach(d);for(var f=b(a),g=b(e),h=0;h<Math.max(f.length-1,g.length-1);h++){var i=parseInt(f[h]||0,10),j=parseInt(g[h]||0,10);if(i>j)return 1;if(j>i)return-1}var k=f[f.length-1],l=g[g.length-1];if(k&&l){var m=k.split(".").map(c),n=l.split(".").map(c);for(h=0;h<Math.max(m.length,n.length);h++){if(void 0===m[h]||"string"==typeof n[h]&&"number"==typeof m[h])return-1;if(void 0===n[h]||"string"==typeof m[h]&&"number"==typeof n[h])return 1;if(m[h]>n[h])return 1;if(n[h]>m[h])return-1}}else if(k||l)return k?-1:1;return 0}})},{}],13:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/es6.array.from"),b.exports=a("../../modules/_core").Array.from},{"../../modules/_core":30,"../../modules/es6.array.from":100,"../../modules/es6.string.iterator":107}],14:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.get-iterator")},{"../modules/core.get-iterator":98,"../modules/es6.string.iterator":107,"../modules/web.dom.iterable":113}],15:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.is-iterable")},{"../modules/core.is-iterable":99,"../modules/es6.string.iterator":107,"../modules/web.dom.iterable":113}],16:[function(a,b,c){var d=a("../../modules/_core"),e=d.JSON||(d.JSON={stringify:JSON.stringify});b.exports=function(a){return e.stringify.apply(e,arguments)}},{"../../modules/_core":30}],17:[function(a,b,c){a("../../modules/es6.object.assign"),b.exports=a("../../modules/_core").Object.assign},{"../../modules/_core":30,"../../modules/es6.object.assign":102}],18:[function(a,b,c){a("../../modules/es6.object.define-property");var d=a("../../modules/_core").Object;b.exports=function(a,b,c){return d.defineProperty(a,b,c)}},{"../../modules/_core":30,"../../modules/es6.object.define-property":103}],19:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/_core").Object.keys},{"../../modules/_core":30,"../../modules/es6.object.keys":104}],20:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.promise"),a("../modules/es7.promise.finally"),a("../modules/es7.promise.try"),b.exports=a("../modules/_core").Promise},{"../modules/_core":30,"../modules/es6.object.to-string":105,"../modules/es6.promise":106,"../modules/es6.string.iterator":107,"../modules/es7.promise.finally":109,"../modules/es7.promise.try":110,"../modules/web.dom.iterable":113}],21:[function(a,b,c){a("../../modules/es6.symbol"),a("../../modules/es6.object.to-string"),a("../../modules/es7.symbol.async-iterator"),a("../../modules/es7.symbol.observable"),b.exports=a("../../modules/_core").Symbol},{"../../modules/_core":30,"../../modules/es6.object.to-string":105,"../../modules/es6.symbol":108,"../../modules/es7.symbol.async-iterator":111,"../../modules/es7.symbol.observable":112}],22:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/web.dom.iterable"),b.exports=a("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":95,"../../modules/es6.string.iterator":107,"../../modules/web.dom.iterable":113}],23:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],24:[function(a,b,c){b.exports=function(){}},{}],25:[function(a,b,c){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],26:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":50}],27:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_to-length"),f=a("./_to-absolute-index");b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{"./_to-absolute-index":86,"./_to-iobject":88,"./_to-length":89}],28:[function(a,b,c){var d=a("./_cof"),e=a("./_wks")("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};b.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},{"./_cof":29,"./_wks":96}],29:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],30:[function(a,b,c){var d=b.exports={version:"2.6.3"};"number"==typeof __e&&(__e=d)},{}],31:[function(a,b,c){"use strict";var d=a("./_object-dp"),e=a("./_property-desc");b.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},{"./_object-dp":63,"./_property-desc":76}],32:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":23}],33:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],34:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":39}],35:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":41,"./_is-object":50}],36:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],37:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie");b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":68,"./_object-keys":71,"./_object-pie":72}],38:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_ctx"),g=a("./_hide"),h=a("./_has"),i=function(a,b,c){var j,k,l,m=a&i.F,n=a&i.G,o=a&i.S,p=a&i.P,q=a&i.B,r=a&i.W,s=n?e:e[b]||(e[b]={}),t=s.prototype,u=n?d:o?d[b]:(d[b]||{}).prototype;n&&(c=b);for(j in c)(k=!m&&u&&void 0!==u[j])&&h(s,j)||(l=k?u[j]:c[j],s[j]=n&&"function"!=typeof u[j]?c[j]:q&&k?f(l,d):r&&u[j]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b.prototype=a.prototype,b}(l):p&&"function"==typeof l?f(Function.call,l):l,p&&((s.virtual||(s.virtual={}))[j]=l,a&i.R&&t&&!t[j]&&g(t,j,l)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,b.exports=i},{"./_core":30,"./_ctx":32,"./_global":41,"./_has":42,"./_hide":43}],39:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],40:[function(a,b,c){var d=a("./_ctx"),e=a("./_iter-call"),f=a("./_is-array-iter"),g=a("./_an-object"),h=a("./_to-length"),i=a("./core.get-iterator-method"),j={},k={},c=b.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if((q=b?s(g(o=a[t])[0],o[1]):s(a[t]))===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if((q=e(p,s,o.value,b))===j||q===k)return q};c.BREAK=j,c.RETURN=k},{"./_an-object":26,"./_ctx":32,"./_is-array-iter":48,"./_iter-call":51,"./_to-length":89,"./core.get-iterator-method":97}],41:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],42:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],43:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":34,"./_object-dp":63,"./_property-desc":76}],44:[function(a,b,c){var d=a("./_global").document;b.exports=d&&d.documentElement},{"./_global":41}],45:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":34,"./_dom-create":35,"./_fails":39}],46:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],47:[function(a,b,c){var d=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./_cof":29}],48:[function(a,b,c){var d=a("./_iterators"),e=a("./_wks")("iterator"),f=Array.prototype;b.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},{"./_iterators":56,"./_wks":96}],49:[function(a,b,c){var d=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./_cof":29}],50:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],51:[function(a,b,c){var d=a("./_an-object");b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},{"./_an-object":26}],52:[function(a,b,c){"use strict";var d=a("./_object-create"),e=a("./_property-desc"),f=a("./_set-to-string-tag"),g={};a("./_hide")(g,a("./_wks")("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},{"./_hide":43,"./_object-create":62,"./_property-desc":76,"./_set-to-string-tag":80,"./_wks":96}],53:[function(a,b,c){"use strict";var d=a("./_library"),e=a("./_export"),f=a("./_redefine"),g=a("./_hide"),h=a("./_iterators"),i=a("./_iter-create"),j=a("./_set-to-string-tag"),k=a("./_object-gpo"),l=a("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),n=function(){return this};b.exports=function(a,b,c,o,p,q,r){i(c,b,o);var s,t,u,v=function(a){if(!m&&a in z)return z[a];switch(a){case"keys":case"values":return function(){return new c(this,a)}}return function(){return new c(this,a)}},w=b+" Iterator",x="values"==p,y=!1,z=a.prototype,A=z[l]||z["@@iterator"]||p&&z[p],B=A||v(p),C=p?x?v("entries"):B:void 0,D="Array"==b?z.entries||A:A;if(D&&(u=k(D.call(new a)))!==Object.prototype&&u.next&&(j(u,w,!0),d||"function"==typeof u[l]||g(u,l,n)),x&&A&&"values"!==A.name&&(y=!0,B=function(){return A.call(this)}),d&&!r||!m&&!y&&z[l]||g(z,l,B),h[b]=B,h[w]=n,p)if(s={values:x?B:v("values"),keys:q?B:v("keys"),entries:C},r)for(t in s)t in z||f(z,t,s[t]);else e(e.P+e.F*(m||y),b,s);return s}},{"./_export":38,"./_hide":43,"./_iter-create":52,"./_iterators":56,"./_library":57,"./_object-gpo":69,"./_redefine":78,"./_set-to-string-tag":80,"./_wks":96}],54:[function(a,b,c){var d=a("./_wks")("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}b.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},{"./_wks":96}],55:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],56:[function(a,b,c){b.exports={}},{}],57:[function(a,b,c){b.exports=!0},{}],58:[function(a,b,c){var d=a("./_uid")("meta"),e=a("./_is-object"),f=a("./_has"),g=a("./_object-dp").f,h=0,i=Object.isExtensible||function(){return!0},j=!a("./_fails")(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},{"./_fails":39,"./_has":42,"./_is-object":50,"./_object-dp":63,"./_uid":92}],59:[function(a,b,c){var d=a("./_global"),e=a("./_task").set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==a("./_cof")(g);b.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve(void 0);c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},{"./_cof":29,"./_global":41,"./_task":85}],60:[function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=a("./_a-function");b.exports.f=function(a){return new d(a)}},{"./_a-function":23}],61:[function(a,b,c){"use strict";var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie"),g=a("./_to-object"),h=a("./_iobject"),i=Object.assign;b.exports=!i||a("./_fails")(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},{"./_fails":39,"./_iobject":47,"./_object-gops":68,"./_object-keys":71,"./_object-pie":72,"./_to-object":90}],62:[function(a,b,c){var d=a("./_an-object"),e=a("./_object-dps"),f=a("./_enum-bug-keys"),g=a("./_shared-key")("IE_PROTO"),h=function(){},i=function(){var b,c=a("./_dom-create")("iframe"),d=f.length;for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write("<script>document.F=Object<\/script>"),b.close(),i=b.F;d--;)delete i.prototype[f[d]];return i()};b.exports=Object.create||function(a,b){var c;return null!==a?(h.prototype=d(a),c=new h,h.prototype=null,c[g]=a):c=i(),void 0===b?c:e(c,b)}},{"./_an-object":26,"./_dom-create":35,"./_enum-bug-keys":36,"./_html":44,"./_object-dps":64,"./_shared-key":81}],63:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":26,"./_descriptors":34,"./_ie8-dom-define":45,"./_to-primitive":91}],64:[function(a,b,c){var d=a("./_object-dp"),e=a("./_an-object"),f=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{"./_an-object":26,"./_descriptors":34,"./_object-dp":63,"./_object-keys":71}],65:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{"./_descriptors":34,"./_has":42,"./_ie8-dom-define":45,"./_object-pie":72,"./_property-desc":76,"./_to-iobject":88,"./_to-primitive":91}],66:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopn").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./_object-gopn":67,"./_to-iobject":88}],67:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":36,"./_object-keys-internal":70}],68:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],69:[function(a,b,c){var d=a("./_has"),e=a("./_to-object"),f=a("./_shared-key")("IE_PROTO"),g=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},{"./_has":42,"./_shared-key":81,"./_to-object":90}],70:[function(a,b,c){var d=a("./_has"),e=a("./_to-iobject"),f=a("./_array-includes")(!1),g=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},{"./_array-includes":27,"./_has":42,"./_shared-key":81,"./_to-iobject":88}],71:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return d(a,e)}},{"./_enum-bug-keys":36,"./_object-keys-internal":70}],72:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],73:[function(a,b,c){var d=a("./_export"),e=a("./_core"),f=a("./_fails");b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{"./_core":30,"./_export":38,"./_fails":39}],74:[function(a,b,c){b.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}},{}],75:[function(a,b,c){var d=a("./_an-object"),e=a("./_is-object"),f=a("./_new-promise-capability");b.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a);return(0,c.resolve)(b),c.promise}},{"./_an-object":26,"./_is-object":50,"./_new-promise-capability":60}],76:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],77:[function(a,b,c){var d=a("./_hide");b.exports=function(a,b,c){for(var e in b)c&&a[e]?a[e]=b[e]:d(a,e,b[e]);return a}},{"./_hide":43}],78:[function(a,b,c){b.exports=a("./_hide")},{"./_hide":43}],79:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_core"),f=a("./_object-dp"),g=a("./_descriptors"),h=a("./_wks")("species");b.exports=function(a){var b="function"==typeof e[a]?e[a]:d[a];g&&b&&!b[h]&&f.f(b,h,{configurable:!0,get:function(){return this}})}},{"./_core":30,"./_descriptors":34,"./_global":41,"./_object-dp":63,"./_wks":96}],80:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_has"),f=a("./_wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./_has":42,"./_object-dp":63,"./_wks":96}],81:[function(a,b,c){var d=a("./_shared")("keys"),e=a("./_uid");b.exports=function(a){return d[a]||(d[a]=e(a))}},{"./_shared":82,"./_uid":92}],82:[function(a,b,c){var d=a("./_core"),e=a("./_global"),f=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(b.exports=function(a,b){return f[a]||(f[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:a("./_library")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":30,"./_global":41,"./_library":57}],83:[function(a,b,c){var d=a("./_an-object"),e=a("./_a-function"),f=a("./_wks")("species");b.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},{"./_a-function":23,"./_an-object":26,"./_wks":96}],84:[function(a,b,c){var d=a("./_to-integer"),e=a("./_defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):g-56320+(f-55296<<10)+65536)}}},{"./_defined":33,"./_to-integer":87}],85:[function(a,b,c){var d,e,f,g=a("./_ctx"),h=a("./_invoke"),i=a("./_html"),j=a("./_dom-create"),k=a("./_global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==a("./_cof")(l)?d=function(a){l.nextTick(g(s,a,1))}:p&&p.now?d=function(a){p.now(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d="onreadystatechange"in j("script")?function(a){i.appendChild(j("script")).onreadystatechange=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{"./_cof":29,"./_ctx":32,"./_dom-create":35,"./_global":41,"./_html":44,"./_invoke":46}],86:[function(a,b,c){var d=a("./_to-integer"),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{"./_to-integer":87}],87:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],88:[function(a,b,c){var d=a("./_iobject"),e=a("./_defined");b.exports=function(a){return d(e(a))}},{"./_defined":33,"./_iobject":47}],89:[function(a,b,c){var d=a("./_to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./_to-integer":87}],90:[function(a,b,c){var d=a("./_defined");b.exports=function(a){return Object(d(a))}},{"./_defined":33}],91:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":50}],92:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],93:[function(a,b,c){var d=a("./_global"),e=d.navigator;b.exports=e&&e.userAgent||""},{"./_global":41}],94:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_library"),g=a("./_wks-ext"),h=a("./_object-dp").f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},{"./_core":30,"./_global":41,"./_library":57,"./_object-dp":63,"./_wks-ext":95}],95:[function(a,b,c){c.f=a("./_wks")},{"./_wks":96}],96:[function(a,b,c){var d=a("./_shared")("wks"),e=a("./_uid"),f=a("./_global").Symbol,g="function"==typeof f;(b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},{"./_global":41,"./_shared":82,"./_uid":92}],97:[function(a,b,c){var d=a("./_classof"),e=a("./_wks")("iterator"),f=a("./_iterators");b.exports=a("./_core").getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},{"./_classof":28,"./_core":30,"./_iterators":56,"./_wks":96}],98:[function(a,b,c){var d=a("./_an-object"),e=a("./core.get-iterator-method");b.exports=a("./_core").getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},{"./_an-object":26,"./_core":30,"./core.get-iterator-method":97}],99:[function(a,b,c){var d=a("./_classof"),e=a("./_wks")("iterator"),f=a("./_iterators");b.exports=a("./_core").isIterable=function(a){var b=Object(a);return void 0!==b[e]||"@@iterator"in b||f.hasOwnProperty(d(b))}},{"./_classof":28,"./_core":30,"./_iterators":56,"./_wks":96}],100:[function(a,b,c){"use strict";var d=a("./_ctx"),e=a("./_export"),f=a("./_to-object"),g=a("./_iter-call"),h=a("./_is-array-iter"),i=a("./_to-length"),j=a("./_create-property"),k=a("./core.get-iterator-method");e(e.S+e.F*!a("./_iter-detect")(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},{"./_create-property":31,"./_ctx":32,"./_export":38,"./_is-array-iter":48,"./_iter-call":51,"./_iter-detect":54,"./_to-length":89,"./_to-object":90,"./core.get-iterator-method":97}],101:[function(a,b,c){"use strict";var d=a("./_add-to-unscopables"),e=a("./_iter-step"),f=a("./_iterators"),g=a("./_to-iobject");b.exports=a("./_iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./_add-to-unscopables":24,"./_iter-define":53,"./_iter-step":55,"./_iterators":56,"./_to-iobject":88}],102:[function(a,b,c){var d=a("./_export");d(d.S+d.F,"Object",{assign:a("./_object-assign")})},{"./_export":38,"./_object-assign":61}],103:[function(a,b,c){var d=a("./_export");d(d.S+d.F*!a("./_descriptors"),"Object",{defineProperty:a("./_object-dp").f})},{"./_descriptors":34,"./_export":38,"./_object-dp":63}],104:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return e(d(a))}})},{"./_object-keys":71,"./_object-sap":73,"./_to-object":90}],105:[function(a,b,c){},{}],106:[function(a,b,c){"use strict";var d,e,f,g,h=a("./_library"),i=a("./_global"),j=a("./_ctx"),k=a("./_classof"),l=a("./_export"),m=a("./_is-object"),n=a("./_a-function"),o=a("./_an-instance"),p=a("./_for-of"),q=a("./_species-constructor"),r=a("./_task").set,s=a("./_microtask")(),t=a("./_new-promise-capability"),u=a("./_perform"),v=a("./_user-agent"),w=a("./_promise-resolve"),x=i.TypeError,y=i.process,z=y&&y.versions,A=z&&z.v8||"",B=i.Promise,C="process"==k(y),D=function(){},E=e=t.f,F=!!function(){try{var b=B.resolve(1),c=(b.constructor={})[a("./_wks")("species")]=function(a){a(D,D)};return(C||"function"==typeof PromiseRejectionEvent)&&b.then(D)instanceof c&&0!==A.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(a){}}(),G=function(a){var b;return!(!m(a)||"function"!=typeof(b=a.then))&&b},H=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0;c.length>f;)!function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&K(a),a._h=1),!0===h?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(x("Promise-chain cycle")):(f=G(c))?f.call(c,i,j):i(c)):j(d)}catch(a){k&&!g&&k.exit(),j(a)}}(c[f++]);a._c=[],a._n=!1,b&&!a._h&&I(a)})}},I=function(a){r.call(i,function(){var b,c,d,e=a._v,f=J(a);if(f&&(b=u(function(){C?y.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=C||J(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},J=function(a){return 1!==a._h&&0===(a._a||a._c).length},K=function(a){r.call(i,function(){var b;C?y.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},L=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),H(b,!0))},M=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw x("Promise can't be resolved itself");(b=G(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(M,d,1),j(L,d,1))}catch(a){L.call(d,a)}}):(c._v=a,c._s=1,H(c,!1))}catch(a){L.call({_w:c,_d:!1},a)}}};F||(B=function(a){o(this,B,"Promise","_h"),n(a),d.call(this);try{a(j(M,this,1),j(L,this,1))}catch(a){L.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=a("./_redefine-all")(B.prototype,{then:function(a,b){var c=E(q(this,B));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=C?y.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&H(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(M,a,1),this.reject=j(L,a,1)},t.f=E=function(a){return a===B||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!F,{Promise:B}),a("./_set-to-string-tag")(B,"Promise"),a("./_set-species")("Promise"),g=a("./_core").Promise,l(l.S+l.F*!F,"Promise",{reject:function(a){var b=E(this);return(0,b.reject)(a),b.promise}}),l(l.S+l.F*(h||!F),"Promise",{resolve:function(a){return w(h&&this===g?B:this,a)}}),l(l.S+l.F*!(F&&a("./_iter-detect")(function(a){B.all(a).catch(D)})),"Promise",{all:function(a){var b=this,c=E(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=E(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},{"./_a-function":23,"./_an-instance":25,"./_classof":28,"./_core":30,"./_ctx":32,"./_export":38,"./_for-of":40,"./_global":41,"./_is-object":50,"./_iter-detect":54,"./_library":57,"./_microtask":59,"./_new-promise-capability":60,"./_perform":74,"./_promise-resolve":75,"./_redefine-all":77,"./_set-species":79,"./_set-to-string-tag":80,"./_species-constructor":83,"./_task":85,"./_user-agent":93,"./_wks":96}],
107:[function(a,b,c){"use strict";var d=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./_iter-define":53,"./_string-at":84}],108:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_has"),f=a("./_descriptors"),g=a("./_export"),h=a("./_redefine"),i=a("./_meta").KEY,j=a("./_fails"),k=a("./_shared"),l=a("./_set-to-string-tag"),m=a("./_uid"),n=a("./_wks"),o=a("./_wks-ext"),p=a("./_wks-define"),q=a("./_enum-keys"),r=a("./_is-array"),s=a("./_an-object"),t=a("./_is-object"),u=a("./_to-iobject"),v=a("./_to-primitive"),w=a("./_property-desc"),x=a("./_object-create"),y=a("./_object-gopn-ext"),z=a("./_object-gopd"),A=a("./_object-dp"),B=a("./_object-keys"),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I=n("_hidden"),J=n("toPrimitive"),K={}.propertyIsEnumerable,L=k("symbol-registry"),M=k("symbols"),N=k("op-symbols"),O=Object.prototype,P="function"==typeof F,Q=d.QObject,R=!Q||!Q.prototype||!Q.prototype.findChild,S=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(O,b);d&&delete O[b],D(a,b,c),d&&a!==O&&D(O,b,d)}:D,T=function(a){var b=M[a]=x(F.prototype);return b._k=a,b},U=P&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},V=function(a,b,c){return a===O&&V(N,b,c),s(a),b=v(b,!0),s(c),e(M,b)?(c.enumerable?(e(a,I)&&a[I][b]&&(a[I][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,I)||D(a,I,w(1,{})),a[I][b]=!0),S(a,b,c)):D(a,b,c)},W=function(a,b){s(a);for(var c,d=q(b=u(b)),e=0,f=d.length;f>e;)V(a,c=d[e++],b[c]);return a},X=function(a,b){return void 0===b?x(a):W(x(a),b)},Y=function(a){var b=K.call(this,a=v(a,!0));return!(this===O&&e(M,a)&&!e(N,a))&&(!(b||!e(this,a)||!e(M,a)||e(this,I)&&this[I][a])||b)},Z=function(a,b){if(a=u(a),b=v(b,!0),a!==O||!e(M,b)||e(N,b)){var c=C(a,b);return!c||!e(M,b)||e(a,I)&&a[I][b]||(c.enumerable=!0),c}},$=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(M,b=c[f++])||b==I||b==i||d.push(b);return d},_=function(a){for(var b,c=a===O,d=E(c?N:u(a)),f=[],g=0;d.length>g;)!e(M,b=d[g++])||c&&!e(O,b)||f.push(M[b]);return f};P||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===O&&b.call(N,c),e(this,I)&&e(this[I],a)&&(this[I][a]=!1),S(this,a,w(1,c))};return f&&R&&S(O,a,{configurable:!0,set:b}),T(a)},h(F.prototype,"toString",function(){return this._k}),z.f=Z,A.f=V,a("./_object-gopn").f=y.f=$,a("./_object-pie").f=Y,a("./_object-gops").f=_,f&&!a("./_library")&&h(O,"propertyIsEnumerable",Y,!0),o.f=function(a){return T(n(a))}),g(g.G+g.W+g.F*!P,{Symbol:F});for(var aa="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ba=0;aa.length>ba;)n(aa[ba++]);for(var ca=B(n.store),da=0;ca.length>da;)p(ca[da++]);g(g.S+g.F*!P,"Symbol",{for:function(a){return e(L,a+="")?L[a]:L[a]=F(a)},keyFor:function(a){if(!U(a))throw TypeError(a+" is not a symbol!");for(var b in L)if(L[b]===a)return b},useSetter:function(){R=!0},useSimple:function(){R=!1}}),g(g.S+g.F*!P,"Object",{create:X,defineProperty:V,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:_}),G&&g(g.S+g.F*(!P||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);if(c=b=d[1],(t(b)||void 0!==a)&&!U(a))return r(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!U(b))return b}),d[1]=b,H.apply(G,d)}}),F.prototype[J]||a("./_hide")(F.prototype,J,F.prototype.valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{"./_an-object":26,"./_descriptors":34,"./_enum-keys":37,"./_export":38,"./_fails":39,"./_global":41,"./_has":42,"./_hide":43,"./_is-array":49,"./_is-object":50,"./_library":57,"./_meta":58,"./_object-create":62,"./_object-dp":63,"./_object-gopd":65,"./_object-gopn":67,"./_object-gopn-ext":66,"./_object-gops":68,"./_object-keys":71,"./_object-pie":72,"./_property-desc":76,"./_redefine":78,"./_set-to-string-tag":80,"./_shared":82,"./_to-iobject":88,"./_to-primitive":91,"./_uid":92,"./_wks":96,"./_wks-define":94,"./_wks-ext":95}],109:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_core"),f=a("./_global"),g=a("./_species-constructor"),h=a("./_promise-resolve");d(d.P+d.R,"Promise",{finally:function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},{"./_core":30,"./_export":38,"./_global":41,"./_promise-resolve":75,"./_species-constructor":83}],110:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_new-promise-capability"),f=a("./_perform");d(d.S,"Promise",{try:function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},{"./_export":38,"./_new-promise-capability":60,"./_perform":74}],111:[function(a,b,c){a("./_wks-define")("asyncIterator")},{"./_wks-define":94}],112:[function(a,b,c){a("./_wks-define")("observable")},{"./_wks-define":94}],113:[function(a,b,c){a("./es6.array.iterator");for(var d=a("./_global"),e=a("./_hide"),f=a("./_iterators"),g=a("./_wks")("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<h.length;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},{"./_global":41,"./_hide":43,"./_iterators":56,"./_wks":96,"./es6.array.iterator":101}],114:[function(a,b,c){!function(a){function e(a,b){b=b||{},this._id=e._generateUUID(),this._promise=b.promise||Promise,this._frameId=b.frameId||"CrossStorageClient-"+this._id,this._origin=e._getOrigin(a),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=b.timeout||5e3,this._listener=null,this._installListener();var c;b.frameId&&(c=document.getElementById(b.frameId)),c&&this._poll(),c=c||this._createFrame(a),this._hub=c.contentWindow}e.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},e._getOrigin=function(a){var b,c,d;return b=document.createElement("a"),b.href=a,b.host||(b=window.location),c=b.protocol&&":"!==b.protocol?b.protocol:window.location.protocol,d=c+"//"+b.host,d=d.replace(/:80$|:443$/,"")},e._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})},e.prototype.onConnect=function(){var a=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(b,c){var d=setTimeout(function(){c(new Error("CrossStorageClient could not connect"))},a._timeout);a._requests.connect.push(function(a){if(clearTimeout(d),a)return c(a);b()})}))},e.prototype.set=function(a,b){return this._request("set",{key:a,value:b})},e.prototype.get=function(a){var b=Array.prototype.slice.call(arguments);return this._request("get",{keys:b})},e.prototype.del=function(){var a=Array.prototype.slice.call(arguments);return this._request("del",{keys:a})},e.prototype.clear=function(){return this._request("clear")},e.prototype.getKeys=function(){return this._request("getKeys")},e.prototype.close=function(){var a=document.getElementById(this._frameId);a&&a.parentNode.removeChild(a),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},e.prototype._installListener=function(){var a=this;this._listener=function(b){var c,d,e;if(!a._closed&&b.data&&"string"==typeof b.data&&("null"===b.origin?"file://":b.origin)===a._origin)if("cross-storage:unavailable"!==b.data){if(-1!==b.data.indexOf("cross-storage:")&&!a._connected){if(a._connected=!0,!a._requests.connect)return;for(c=0;c<a._requests.connect.length;c++)a._requests.connect[c](d);delete a._requests.connect}if("cross-storage:ready"!==b.data){try{e=JSON.parse(b.data)}catch(a){return}e.id&&a._requests[e.id]&&a._requests[e.id](e.error,e.result)}}else{if(a._closed||a.close(),!a._requests.connect)return;for(d=new Error("Closing client. Could not access localStorage in hub."),c=0;c<a._requests.connect.length;c++)a._requests.connect[c](d)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},e.prototype._poll=function(){var a,b,c;a=this,c="file://"===a._origin?"*":a._origin,b=setInterval(function(){if(a._connected)return clearInterval(b);a._hub&&a._hub.postMessage("cross-storage:poll",c)},1e3)},e.prototype._createFrame=function(a){var b,c;b=window.document.createElement("iframe"),b.id=this._frameId;for(c in e.frameStyle)e.frameStyle.hasOwnProperty(c)&&(b.style[c]=e.frameStyle[c]);return window.document.body.appendChild(b),b.src=a,b},e.prototype._request=function(a,b){var c,d;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(d=this,d._count++,c={id:this._id+":"+d._count,method:"cross-storage:"+a,params:b},new this._promise(function(a,b){var e,f,g;e=setTimeout(function(){d._requests[c.id]&&(delete d._requests[c.id],b(new Error("Timeout: could not perform "+c.method)))},d._timeout),d._requests[c.id]=function(f,g){if(clearTimeout(e),delete d._requests[c.id],f)return b(new Error(f));a(g)},Array.prototype.toJSON&&(f=Array.prototype.toJSON,Array.prototype.toJSON=null),g="file://"===d._origin?"*":d._origin,d._hub.postMessage(JSON.stringify(c),g),f&&(Array.prototype.toJSON=f)}))},void 0!==b&&b.exports?b.exports=e:void 0!==c?c.CrossStorageClient=e:"function"==typeof d&&d.amd?d([],function(){return e}):a.CrossStorageClient=e}(this)},{}],115:[function(a,b,c){!function(a){var e={};e.init=function(a){var b=!0;try{window.localStorage||(b=!1)}catch(a){b=!1}if(!b)try{return window.parent.postMessage("cross-storage:unavailable","*")}catch(a){return}e._permissions=a||[],e._installListener(),window.parent.postMessage("cross-storage:ready","*")},e._installListener=function(){var a=e._listener;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a)},e._listener=function(a){var b,c,d,f,g,h,i;if(b="null"===a.origin?"file://":a.origin,"cross-storage:poll"===a.data)return window.parent.postMessage("cross-storage:ready",a.origin);if("cross-storage:ready"!==a.data){try{d=JSON.parse(a.data)}catch(a){return}if(d&&"string"==typeof d.method&&(f=d.method.split("cross-storage:")[1])){if(e._permitted(b,f))try{h=e["_"+f](d.params)}catch(a){g=a.message}else g="Invalid permissions for "+f;i=JSON.stringify({id:d.id,error:g,result:h}),c="file://"===b?"*":b,window.parent.postMessage(i,c)}}},e._permitted=function(a,b){var c,d,f;if(c=["get","set","del","clear","getKeys"],!e._inArray(b,c))return!1;for(d=0;d<e._permissions.length;d++)if(f=e._permissions[d],f.origin instanceof RegExp&&f.allow instanceof Array&&f.origin.test(a)&&e._inArray(b,f.allow))return!0;return!1},e._set=function(a){window.localStorage.setItem(a.key,a.value)},e._get=function(a){var b,c,d,e;for(b=window.localStorage,c=[],d=0;d<a.keys.length;d++){try{e=b.getItem(a.keys[d])}catch(a){e=null}c.push(e)}return c.length>1?c:c[0]},e._del=function(a){for(var b=0;b<a.keys.length;b++)window.localStorage.removeItem(a.keys[b])},e._clear=function(){window.localStorage.clear()},e._getKeys=function(a){var b,c,d;for(d=[],c=window.localStorage.length,b=0;b<c;b++)d.push(window.localStorage.key(b));return d},e._inArray=function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1},e._now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},void 0!==b&&b.exports?b.exports=e:void 0!==c?c.CrossStorageHub=e:"function"==typeof d&&d.amd?d([],function(){return e}):a.CrossStorageHub=e}(this)},{}],116:[function(a,b,c){b.exports={CrossStorageClient:a("./client.js"),CrossStorageHub:a("./hub.js")}},{"./client.js":114,"./hub.js":115}],117:[function(a,b,c){(function(d){"use strict";function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function g(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+b.exports.humanize(this.diff),this.useColors){var c="color: "+this.color;a.splice(1,0,c,"color: inherit");var d=0,e=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(d++,"%c"===a&&(e=d))}),a.splice(e,0,c)}}function h(){var a;return"object"===("undefined"==typeof console?"undefined":e(console))&&console.log&&(a=console).log.apply(a,arguments)}function i(a){try{a?c.storage.setItem("debug",a):c.storage.removeItem("debug")}catch(a){}}function j(){var a;try{a=c.storage.getItem("debug")}catch(a){}return!a&&void 0!==d&&"env"in d&&(a=d.env.DEBUG),a}c.log=h,c.formatArgs=g,c.save=i,c.load=j,c.useColors=f,c.storage=function(){try{return localStorage}catch(a){}}(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.exports=a("./common")(c),b.exports.formatters.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}).call(this,a("_process"))},{"./common":118,_process:295}],118:[function(a,b,c){"use strict";function d(b){function c(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return d.colors[Math.abs(b)%d.colors.length]}function d(a){function b(){if(b.enabled){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];var f=b,h=Number(new Date),i=h-(g||h);f.diff=i,f.prev=g,f.curr=h,g=h,c[0]=d.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");var j=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(a,b){if("%%"===a)return a;j++;var e=d.formatters[b];if("function"==typeof e){var g=c[j];a=e.call(f,g),c.splice(j,1),j--}return a}),d.formatArgs.call(f,c);(f.log||d.log).apply(f,c)}}var g;return b.namespace=a,b.enabled=d.enabled(a),b.useColors=d.useColors(),b.color=c(a),b.destroy=e,b.extend=f,"function"==typeof d.init&&d.init(b),d.instances.push(b),b}function e(){var a=d.instances.indexOf(this);return-1!==a&&(d.instances.splice(a,1),!0)}function f(a,b){return d(this.namespace+(void 0===b?":":b)+a)}function g(a){d.save(a),d.names=[],d.skips=[];var b,c=("string"==typeof a?a:"").split(/[\s,]+/),e=c.length;for(b=0;b<e;b++)c[b]&&(a=c[b].replace(/\*/g,".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$")));for(b=0;b<d.instances.length;b++){var f=d.instances[b];f.enabled=d.enabled(f.namespace)}}function h(){d.enable("")}function i(a){if("*"===a[a.length-1])return!0;var b,c;for(b=0,c=d.skips.length;b<c;b++)if(d.skips[b].test(a))return!1;for(b=0,c=d.names.length;b<c;b++)if(d.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}return d.debug=d,d.default=d,d.coerce=j,d.disable=h,d.enable=g,d.enabled=i,d.humanize=a("ms"),Object.keys(b).forEach(function(a){d[a]=b[a]}),d.instances=[],d.names=[],d.skips=[],d.formatters={},d.selectColor=c,d.enable(d.load()),d}b.exports=d},{ms:293}],119:[function(a,b,c){(function(a){function c(){return"undefined"!=typeof navigator?f(navigator.userAgent):e()}function d(a){var b=h(),c=b.filter(function(b){return b.rule&&b.rule.test(a)})[0];return c?c.name:null}function e(){return void 0!==a&&a.version&&{name:"node",version:a.version.slice(1),os:a.platform}}function f(a){var b=g();if(!a)return null;var c=b.map(function(b){var c=b.rule.exec(a),d=c&&c[1].split(/[._]/).slice(0,3);return d&&d.length<3&&(d=d.concat(1==d.length?[0,0]:[0])),c&&{name:b.name,version:d.join(".")}}).filter(Boolean)[0]||null;return c&&(c.os=d(a)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(a)&&(c=c||{},c.bot=!0),c}function g(){return i([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]])}function h(){return i([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function i(a){return a.map(function(a){return{name:a[0],rule:a[1]}})}b.exports={detect:c,detectOS:d,getNodeVersion:e,parseUserAgent:f}}).call(this,a("_process"))},{_process:295}],120:[function(a,b,c){(function(e,f){!function(a,e){"object"==typeof c&&void 0!==b?b.exports=e():"function"==typeof d&&d.amd?d(e):a.ES6Promise=e()}(this,function(){"use strict";function b(a){var b=typeof a;return null!==a&&("object"===b||"function"===b)}function c(a){return"function"==typeof a}function d(a){Q=a}function g(a){R=a}function h(){return void 0!==P?function(){P(j)}:i()}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<O;a+=2){(0,X[a])(X[a+1]),X[a]=void 0,X[a+1]=void 0}O=0}function k(a,b){var c=this,d=new this.constructor(m);void 0===d[Z]&&E(d);var e=c._state;if(e){var f=arguments[e-1];R(function(){return B(e,d,f,c._result)})}else y(c,d,a,b);return d}function l(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ba.error=a,ba}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){R(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===_?w(a,b._result):b._state===aa?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,b,d){b.constructor===a.constructor&&d===k&&b.constructor.resolve===l?s(a,b):d===ba?(x(a,ba.error),ba.error=null):void 0===d?w(a,b):c(d)?r(a,b,d):w(a,b)}function u(a,c){a===c?x(a,n()):b(c)?t(a,c,p(c)):w(a,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===$&&(a._result=b,a._state=_,0!==a._subscribers.length&&R(z,a))}function x(a,b){a._state===$&&(a._state=aa,a._result=b,R(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+_]=c,e[f+aa]=d,0===f&&a._state&&R(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?B(c,d,e,f):e(f);a._subscribers.length=0}}function A(a,b){try{return a(b)}catch(a){return ba.error=a,ba}}function B(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=A(d,e),g===ba?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void x(b,o())}else g=e,i=!0;b._state!==$||(f&&i?u(b,g):j?x(b,h):a===_?w(b,g):a===aa&&x(b,g))}function C(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function D(){return ca++}function E(a){a[Z]=ca++,a._state=void 0,a._result=void 0,a._subscribers=[]}function F(){return new Error("Array Methods must be provided an Array")}function G(a){return new da(this,a).promise}function H(a){var b=this;return new b(N(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function I(a){var b=this,c=new b(m);return x(c,a),c}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var a=void 0;if(void 0!==f)a=f;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=ea}var M=void 0;M=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var N=M,O=0,P=void 0,Q=void 0,R=function(a,b){X[O]=a,X[O+1]=b,2===(O+=2)&&(Q?Q(j):Y())},S="undefined"!=typeof window?window:void 0,T=S||{},U=T.MutationObserver||T.WebKitMutationObserver,V="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Y=void 0;Y=V?function(){return function(){return e.nextTick(j)}}():U?function(){var a=0,b=new U(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():W?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===S&&"function"==typeof a?function(){try{var a=Function("return this")().require("vertx");return P=a.runOnLoop||a.runOnContext,h()}catch(a){return i()}}():i();var Z=Math.random().toString(36).substring(2),$=void 0,_=1,aa=2,ba={error:null},ca=0,da=function(){function a(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[Z]||E(this.promise),N(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&w(this.promise,this._result))):x(this.promise,F())}return a.prototype._enumerate=function(a){for(var b=0;this._state===$&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==$)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===ea){var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},a.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===$&&(this._remaining--,a===aa?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},a.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(_,b,a)},function(a){return c._settledAt(aa,b,a)})},a}(),ea=function(){function a(b){this[Z]=D(),this._result=this._state=void 0,this._subscribers=[],m!==b&&("function"!=typeof b&&J(),this instanceof a?C(this,b):K())}return a.prototype.catch=function(a){return this.then(null,a)},a.prototype.finally=function(a){var b=this,d=b.constructor;return c(a)?b.then(function(b){return d.resolve(a()).then(function(){return b})},function(b){return d.resolve(a()).then(function(){throw b})}):b.then(a,a)},a}();return ea.prototype.then=k,ea.all=G,ea.race=H,ea.resolve=l,ea.reject=I,ea._setScheduler=d,ea._setAsap=g,ea._asap=R,ea.polyfill=L,ea.Promise=ea,ea})}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:295}],121:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"DataView");b.exports=f},{"./_getNative":199,"./_root":238}],122:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_hashClear"),f=a("./_hashDelete"),g=a("./_hashGet"),h=a("./_hashHas"),i=a("./_hashSet");d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_hashClear":206,"./_hashDelete":207,"./_hashGet":208,"./_hashHas":209,"./_hashSet":210}],123:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_listCacheClear"),f=a("./_listCacheDelete"),g=a("./_listCacheGet"),h=a("./_listCacheHas"),i=a("./_listCacheSet");d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_listCacheClear":219,"./_listCacheDelete":220,"./_listCacheGet":221,"./_listCacheHas":222,"./_listCacheSet":223}],124:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":199,"./_root":238}],125:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_mapCacheClear"),f=a("./_mapCacheDelete"),g=a("./_mapCacheGet"),h=a("./_mapCacheHas"),i=a("./_mapCacheSet");d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_mapCacheClear":224,"./_mapCacheDelete":225,"./_mapCacheGet":226,"./_mapCacheHas":227,"./_mapCacheSet":228}],126:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Promise");b.exports=f},{"./_getNative":199,"./_root":238}],127:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":199,"./_root":238}],128:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new e;++b<c;)this.add(a[b])}var e=a("./_MapCache"),f=a("./_setCacheAdd"),g=a("./_setCacheHas");d.prototype.add=d.prototype.push=f,d.prototype.has=g,b.exports=d},{"./_MapCache":125,"./_setCacheAdd":239,"./_setCacheHas":240}],129:[function(a,b,c){function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=a("./_ListCache"),f=a("./_stackClear"),g=a("./_stackDelete"),h=a("./_stackGet"),i=a("./_stackHas"),j=a("./_stackSet");d.prototype.clear=f,d.prototype.delete=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,b.exports=d},{"./_ListCache":123,"./_stackClear":244,"./_stackDelete":245,"./_stackGet":246,"./_stackHas":247,"./_stackSet":248}],130:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":238}],131:[function(a,b,c){var d=a("./_root"),e=d.Uint8Array;b.exports=e},{"./_root":238}],132:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":199,"./_root":238}],133:[function(a,b,c){function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],134:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}b.exports=d},{}],135:[function(a,b,c){function d(a,b){return!!(null==a?0:a.length)&&e(a,b,0)>-1}var e=a("./_baseIndexOf");b.exports=d},{"./_baseIndexOf":156}],136:[function(a,b,c){function d(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}b.exports=d},{}],137:[function(a,b,c){function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./isBuffer"),i=a("./_isIndex"),j=a("./isTypedArray"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"./_baseTimes":175,"./_isIndex":212,"./isArguments":268,"./isArray":269,"./isBuffer":272,"./isTypedArray":278}],138:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],139:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],140:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],141:[function(a,b,c){function d(a){return a.split("")}b.exports=d},{}],142:[function(a,b,c){function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=a("./_baseAssignValue"),f=a("./eq"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_baseAssignValue":144,"./eq":259}],143:[function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=a("./eq");b.exports=d},{"./eq":259}],144:[function(a,b,c){function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=a("./_defineProperty");b.exports=d},{"./_defineProperty":191}],145:[function(a,b,c){function d(a,b,c){return a===a&&(void 0!==c&&(a=a<=c?a:c),void 0!==b&&(a=a>=b?a:b)),a}b.exports=d},{}],146:[function(a,b,c){var d=a("./_baseForOwn"),e=a("./_createBaseEach"),f=e(d);b.exports=f},{"./_baseForOwn":151,"./_createBaseEach":188}],147:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){
b(a,d,e)&&c.push(a)}),c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":146}],148:[function(a,b,c){function d(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}b.exports=d},{}],149:[function(a,b,c){function d(a,b,c,g,h){var i=-1,j=a.length;for(c||(c=f),h||(h=[]);++i<j;){var k=a[i];b>0&&c(k)?b>1?d(k,b-1,c,g,h):e(h,k):g||(h[h.length]=k)}return h}var e=a("./_arrayPush"),f=a("./_isFlattenable");b.exports=d},{"./_arrayPush":139,"./_isFlattenable":211}],150:[function(a,b,c){var d=a("./_createBaseFor"),e=d();b.exports=e},{"./_createBaseFor":189}],151:[function(a,b,c){function d(a,b){return a&&e(a,b,f)}var e=a("./_baseFor"),f=a("./keys");b.exports=d},{"./_baseFor":150,"./keys":279}],152:[function(a,b,c){function d(a,b){b=e(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[f(b[c++])];return c&&c==d?a:void 0}var e=a("./_castPath"),f=a("./_toKey");b.exports=d},{"./_castPath":182,"./_toKey":252}],153:[function(a,b,c){function d(a,b,c){var d=b(a);return f(a)?d:e(d,c(a))}var e=a("./_arrayPush"),f=a("./isArray");b.exports=d},{"./_arrayPush":139,"./isArray":269}],154:[function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":130,"./_getRawTag":200,"./_objectToString":235}],155:[function(a,b,c){function d(a,b){return null!=a&&b in Object(a)}b.exports=d},{}],156:[function(a,b,c){function d(a,b,c){return b===b?g(a,b,c):e(a,f,c)}var e=a("./_baseFindIndex"),f=a("./_baseIsNaN"),g=a("./_strictIndexOf");b.exports=d},{"./_baseFindIndex":148,"./_baseIsNaN":162,"./_strictIndexOf":249}],157:[function(a,b,c){function d(a,b,c){for(var d=c?g:f,l=a[0].length,m=a.length,n=m,o=Array(m),p=1/0,q=[];n--;){var r=a[n];n&&b&&(r=h(r,i(b))),p=k(r.length,p),o[n]=!c&&(b||l>=120&&r.length>=120)?new e(n&&r):void 0}r=a[0];var s=-1,t=o[0];a:for(;++s<l&&q.length<p;){var u=r[s],v=b?b(u):u;if(u=c||0!==u?u:0,!(t?j(t,v):d(q,v,c))){for(n=m;--n;){var w=o[n];if(!(w?j(w,v):d(a[n],v,c)))continue a}t&&t.push(v),q.push(u)}}return q}var e=a("./_SetCache"),f=a("./_arrayIncludes"),g=a("./_arrayIncludesWith"),h=a("./_arrayMap"),i=a("./_baseUnary"),j=a("./_cacheHas"),k=Math.min;b.exports=d},{"./_SetCache":128,"./_arrayIncludes":135,"./_arrayIncludesWith":136,"./_arrayMap":138,"./_baseUnary":178,"./_cacheHas":180}],158:[function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Arguments]";b.exports=d},{"./_baseGetTag":154,"./isObjectLike":276}],159:[function(a,b,c){function d(a,b,c,g,h){return a===b||(null==a||null==b||!f(a)&&!f(b)?a!==a&&b!==b:e(a,b,c,g,d,h))}var e=a("./_baseIsEqualDeep"),f=a("./isObjectLike");b.exports=d},{"./_baseIsEqualDeep":160,"./isObjectLike":276}],160:[function(a,b,c){function d(a,b,c,d,q,s){var t=j(a),u=j(b),v=t?o:i(a),w=u?o:i(b);v=v==n?p:v,w=w==n?p:w;var x=v==p,y=w==p,z=v==w;if(z&&k(a)){if(!k(b))return!1;t=!0,x=!1}if(z&&!x)return s||(s=new e),t||l(a)?f(a,b,c,d,q,s):g(a,b,v,c,d,q,s);if(!(c&m)){var A=x&&r.call(a,"__wrapped__"),B=y&&r.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return s||(s=new e),q(C,D,c,d,s)}}return!!z&&(s||(s=new e),h(a,b,c,d,q,s))}var e=a("./_Stack"),f=a("./_equalArrays"),g=a("./_equalByTag"),h=a("./_equalObjects"),i=a("./_getTag"),j=a("./isArray"),k=a("./isBuffer"),l=a("./isTypedArray"),m=1,n="[object Arguments]",o="[object Array]",p="[object Object]",q=Object.prototype,r=q.hasOwnProperty;b.exports=d},{"./_Stack":129,"./_equalArrays":192,"./_equalByTag":193,"./_equalObjects":194,"./_getTag":202,"./isArray":269,"./isBuffer":272,"./isTypedArray":278}],161:[function(a,b,c){function d(a,b,c,d){var i=c.length,j=i,k=!d;if(null==a)return!j;for(a=Object(a);i--;){var l=c[i];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++i<j;){l=c[i];var m=l[0],n=a[m],o=l[1];if(k&&l[2]){if(void 0===n&&!(m in a))return!1}else{var p=new e;if(d)var q=d(n,o,m,a,b,p);if(!(void 0===q?f(o,n,g|h,d,p):q))return!1}}return!0}var e=a("./_Stack"),f=a("./_baseIsEqual"),g=1,h=2;b.exports=d},{"./_Stack":129,"./_baseIsEqual":159}],162:[function(a,b,c){function d(a){return a!==a}b.exports=d},{}],163:[function(a,b,c){function d(a){return!(!g(a)||f(a))&&(e(a)?o:j).test(h(a))}var e=a("./isFunction"),f=a("./_isMasked"),g=a("./isObject"),h=a("./_toSource"),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isMasked":216,"./_toSource":253,"./isFunction":273,"./isObject":275}],164:[function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!h[e(a)]}var e=a("./_baseGetTag"),f=a("./isLength"),g=a("./isObjectLike"),h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Arguments]"]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1,b.exports=d},{"./_baseGetTag":154,"./isLength":274,"./isObjectLike":276}],165:[function(a,b,c){function d(a){return"function"==typeof a?a:null==a?g:"object"==typeof a?h(a)?f(a[0],a[1]):e(a):i(a)}var e=a("./_baseMatches"),f=a("./_baseMatchesProperty"),g=a("./identity"),h=a("./isArray"),i=a("./property");b.exports=d},{"./_baseMatches":168,"./_baseMatchesProperty":169,"./identity":266,"./isArray":269,"./property":283}],166:[function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":217,"./_nativeKeys":233}],167:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./_baseEach"),f=a("./isArrayLike");b.exports=d},{"./_baseEach":146,"./isArrayLike":270}],168:[function(a,b,c){function d(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||e(c,a,b)}}var e=a("./_baseIsMatch"),f=a("./_getMatchData"),g=a("./_matchesStrictComparable");b.exports=d},{"./_baseIsMatch":161,"./_getMatchData":198,"./_matchesStrictComparable":230}],169:[function(a,b,c){function d(a,b){return h(a)&&i(b)?j(k(a),b):function(c){var d=f(c,a);return void 0===d&&d===b?g(c,a):e(b,d,l|m)}}var e=a("./_baseIsEqual"),f=a("./get"),g=a("./hasIn"),h=a("./_isKey"),i=a("./_isStrictComparable"),j=a("./_matchesStrictComparable"),k=a("./_toKey"),l=1,m=2;b.exports=d},{"./_baseIsEqual":159,"./_isKey":214,"./_isStrictComparable":218,"./_matchesStrictComparable":230,"./_toKey":252,"./get":264,"./hasIn":265}],170:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],171:[function(a,b,c){function d(a){return function(b){return e(b,a)}}var e=a("./_baseGet");b.exports=d},{"./_baseGet":152}],172:[function(a,b,c){function d(a,b){return g(f(a,b,e),a+"")}var e=a("./identity"),f=a("./_overRest"),g=a("./_setToString");b.exports=d},{"./_overRest":237,"./_setToString":242,"./identity":266}],173:[function(a,b,c){var d=a("./constant"),e=a("./_defineProperty"),f=a("./identity"),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;b.exports=g},{"./_defineProperty":191,"./constant":257,"./identity":266}],174:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],175:[function(a,b,c){function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],176:[function(a,b,c){function d(a){if("string"==typeof a)return a;if(g(a))return f(a,d)+"";if(h(a))return k?k.call(a):"";var b=a+"";return"0"==b&&1/a==-i?"-0":b}var e=a("./_Symbol"),f=a("./_arrayMap"),g=a("./isArray"),h=a("./isSymbol"),i=1/0,j=e?e.prototype:void 0,k=j?j.toString:void 0;b.exports=d},{"./_Symbol":130,"./_arrayMap":138,"./isArray":269,"./isSymbol":277}],177:[function(a,b,c){function d(a){return a?a.slice(0,e(a)+1).replace(f,""):a}var e=a("./_trimmedEndIndex"),f=/^\s+/;b.exports=d},{"./_trimmedEndIndex":254}],178:[function(a,b,c){function d(a){return function(b){return a(b)}}b.exports=d},{}],179:[function(a,b,c){function d(a,b){return e(b,function(b){return a[b]})}var e=a("./_arrayMap");b.exports=d},{"./_arrayMap":138}],180:[function(a,b,c){function d(a,b){return a.has(b)}b.exports=d},{}],181:[function(a,b,c){function d(a){return e(a)?a:[]}var e=a("./isArrayLikeObject");b.exports=d},{"./isArrayLikeObject":271}],182:[function(a,b,c){function d(a,b){return e(a)?a:f(a,b)?[a]:g(h(a))}var e=a("./isArray"),f=a("./_isKey"),g=a("./_stringToPath"),h=a("./toString");b.exports=d},{"./_isKey":214,"./_stringToPath":251,"./isArray":269,"./toString":290}],183:[function(a,b,c){function d(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:e(a,b,c)}var e=a("./_baseSlice");b.exports=d},{"./_baseSlice":174}],184:[function(a,b,c){function d(a,b){for(var c=a.length;c--&&e(b,a[c],0)>-1;);return c}var e=a("./_baseIndexOf");b.exports=d},{"./_baseIndexOf":156}],185:[function(a,b,c){function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=a("./_assignValue"),f=a("./_baseAssignValue");b.exports=d},{"./_assignValue":142,"./_baseAssignValue":144}],186:[function(a,b,c){var d=a("./_root"),e=d["__core-js_shared__"];b.exports=e},{"./_root":238}],187:[function(a,b,c){function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=e<3?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=a("./_baseRest"),f=a("./_isIterateeCall");b.exports=d},{"./_baseRest":172,"./_isIterateeCall":213}],188:[function(a,b,c){function d(a,b){return function(c,d){if(null==c)return c;if(!e(c))return a(c,d);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&!1!==d(h[g],g,h););return c}}var e=a("./isArrayLike");b.exports=d},{"./isArrayLike":270}],189:[function(a,b,c){function d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}b.exports=d},{}],190:[function(a,b,c){function d(a){return function(b,c,d){var h=Object(b);if(!f(b)){var i=e(c,3);b=g(b),c=function(a){return i(h[a],a,h)}}var j=a(b,c,d);return j>-1?h[i?b[j]:j]:void 0}}var e=a("./_baseIteratee"),f=a("./isArrayLike"),g=a("./keys");b.exports=d},{"./_baseIteratee":165,"./isArrayLike":270,"./keys":279}],191:[function(a,b,c){var d=a("./_getNative"),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();b.exports=e},{"./_getNative":199}],192:[function(a,b,c){function d(a,b,c,d,j,k){var l=c&h,m=a.length,n=b.length;if(m!=n&&!(l&&n>m))return!1;var o=k.get(a),p=k.get(b);if(o&&p)return o==b&&p==a;var q=-1,r=!0,s=c&i?new e:void 0;for(k.set(a,b),k.set(b,a);++q<m;){var t=a[q],u=b[q];if(d)var v=l?d(u,t,q,b,a,k):d(t,u,q,a,b,k);if(void 0!==v){if(v)continue;r=!1;break}if(s){if(!f(b,function(a,b){if(!g(s,b)&&(t===a||j(t,a,c,d,k)))return s.push(b)})){r=!1;break}}else if(t!==u&&!j(t,u,c,d,k)){r=!1;break}}return k.delete(a),k.delete(b),r}var e=a("./_SetCache"),f=a("./_arraySome"),g=a("./_cacheHas"),h=1,i=2;b.exports=d},{"./_SetCache":128,"./_arraySome":140,"./_cacheHas":180}],193:[function(a,b,c){function d(a,b,c,d,e,x,z){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case v:return!(a.byteLength!=b.byteLength||!x(new f(a),new f(b)));case m:case n:case q:return g(+a,+b);case o:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case p:var A=i;case s:var B=d&k;if(A||(A=j),a.size!=b.size&&!B)return!1;var C=z.get(a);if(C)return C==b;d|=l,z.set(a,b);var D=h(A(a),A(b),d,e,x,z);return z.delete(a),D;case u:if(y)return y.call(a)==y.call(b)}return!1}var e=a("./_Symbol"),f=a("./_Uint8Array"),g=a("./eq"),h=a("./_equalArrays"),i=a("./_mapToArray"),j=a("./_setToArray"),k=1,l=2,m="[object Boolean]",n="[object Date]",o="[object Error]",p="[object Map]",q="[object Number]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",x=e?e.prototype:void 0,y=x?x.valueOf:void 0;b.exports=d},{"./_Symbol":130,"./_Uint8Array":131,"./_equalArrays":192,"./_mapToArray":229,"./_setToArray":241,"./eq":259}],194:[function(a,b,c){function d(a,b,c,d,g,i){var j=c&f,k=e(a),l=k.length;if(l!=e(b).length&&!j)return!1;for(var m=l;m--;){var n=k[m];if(!(j?n in b:h.call(b,n)))return!1}var o=i.get(a),p=i.get(b);if(o&&p)return o==b&&p==a;var q=!0;i.set(a,b),i.set(b,a);for(var r=j;++m<l;){n=k[m];var s=a[n],t=b[n];if(d)var u=j?d(t,s,n,b,a,i):d(s,t,n,a,b,i);if(!(void 0===u?s===t||g(s,t,c,d,i):u)){q=!1;break}r||(r="constructor"==n)}if(q&&!r){var v=a.constructor,w=b.constructor;v!=w&&"constructor"in a&&"constructor"in b&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(q=!1)}return i.delete(a),i.delete(b),q}var e=a("./_getAllKeys"),f=1,g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_getAllKeys":196}],195:[function(a,b,c){(function(a){var c="object"==typeof a&&a&&a.Object===Object&&a;b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(a,b,c){function d(a){return e(a,g,f)}var e=a("./_baseGetAllKeys"),f=a("./_getSymbols"),g=a("./keys");b.exports=d},{"./_baseGetAllKeys":153,"./_getSymbols":201,"./keys":279}],197:[function(a,b,c){function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=a("./_isKeyable");b.exports=d},{"./_isKeyable":215}],198:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;){var d=b[c],g=a[d];b[c]=[d,g,e(g)]}return b}var e=a("./_isStrictComparable"),f=a("./keys");b.exports=d},{"./_isStrictComparable":218,"./keys":279}],199:[function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=a("./_baseIsNative"),f=a("./_getValue");b.exports=d},{"./_baseIsNative":163,"./_getValue":203}],200:[function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[i]=c:delete a[i]),e}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":130}],201:[function(a,b,c){var d=a("./_arrayFilter"),e=a("./stubArray"),f=Object.prototype,g=f.propertyIsEnumerable,h=Object.getOwnPropertySymbols,i=h?function(a){return null==a?[]:(a=Object(a),d(h(a),function(b){return g.call(a,b)}))}:e;b.exports=i},{"./_arrayFilter":134,"./stubArray":285}],202:[function(a,b,c){var d=a("./_DataView"),e=a("./_Map"),f=a("./_Promise"),g=a("./_Set"),h=a("./_WeakMap"),i=a("./_baseGetTag"),j=a("./_toSource"),k=j(d),l=j(e),m=j(f),n=j(g),o=j(h),p=i;(d&&"[object DataView]"!=p(new d(new ArrayBuffer(1)))||e&&"[object Map]"!=p(new e)||f&&"[object Promise]"!=p(f.resolve())||g&&"[object Set]"!=p(new g)||h&&"[object WeakMap]"!=p(new h))&&(p=function(a){var b=i(a),c="[object Object]"==b?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case k:return"[object DataView]";case l:return"[object Map]";case m:return"[object Promise]";case n:return"[object Set]";case o:return"[object WeakMap]"}return b}),b.exports=p},{"./_DataView":121,"./_Map":124,"./_Promise":126,"./_Set":127,"./_WeakMap":132,"./_baseGetTag":154,"./_toSource":253}],203:[function(a,b,c){function d(a,b){return null==a?void 0:a[b]}b.exports=d},{}],204:[function(a,b,c){function d(a,b,c){b=e(b,a);for(var d=-1,k=b.length,l=!1;++d<k;){var m=j(b[d]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++d!=k?l:!!(k=null==a?0:a.length)&&i(k)&&h(m,k)&&(g(a)||f(a))}var e=a("./_castPath"),f=a("./isArguments"),g=a("./isArray"),h=a("./_isIndex"),i=a("./isLength"),j=a("./_toKey");b.exports=d},{"./_castPath":182,"./_isIndex":212,"./_toKey":252,"./isArguments":268,"./isArray":269,"./isLength":274}],205:[function(a,b,c){function d(a){return e.test(a)}var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");b.exports=d},{}],206:[function(a,b,c){function d(){this.__data__=e?e(null):{},this.size=0}var e=a("./_nativeCreate");b.exports=d},{"./_nativeCreate":232}],207:[function(a,b,c){function d(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}b.exports=d},{}],208:[function(a,b,c){function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_nativeCreate":232}],209:[function(a,b,c){function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=a("./_nativeCreate"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_nativeCreate":232}],210:[function(a,b,c){function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__";b.exports=d},{"./_nativeCreate":232}],211:[function(a,b,c){function d(a){return g(a)||f(a)||!!(h&&a&&a[h])}var e=a("./_Symbol"),f=a("./isArguments"),g=a("./isArray"),h=e?e.isConcatSpreadable:void 0;b.exports=d},{"./_Symbol":130,"./isArguments":268,"./isArray":269}],212:[function(a,b,c){function d(a,b){var c=typeof a;return!!(b=null==b?e:b)&&("number"==c||"symbol"!=c&&f.test(a))&&a>-1&&a%1==0&&a<b}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],213:[function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=typeof b;return!!("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)&&e(c[b],a)}var e=a("./eq"),f=a("./isArrayLike"),g=a("./_isIndex"),h=a("./isObject");b.exports=d},{"./_isIndex":212,"./eq":259,"./isArrayLike":270,"./isObject":275}],214:[function(a,b,c){function d(a,b){if(e(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!f(a))||(h.test(a)||!g.test(a)||null!=b&&a in Object(b))}var e=a("./isArray"),f=a("./isSymbol"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"./isArray":269,"./isSymbol":277}],215:[function(a,b,c){function d(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}b.exports=d},{}],216:[function(a,b,c){function d(a){return!!f&&f in a}var e=a("./_coreJsData"),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();b.exports=d},{"./_coreJsData":186}],217:[function(a,b,c){function d(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||e)}var e=Object.prototype;b.exports=d},{}],218:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("./isObject");b.exports=d},{"./isObject":275}],219:[function(a,b,c){function d(){this.__data__=[],this.size=0}b.exports=d},{}],220:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return!(c<0)&&(c==b.length-1?b.pop():g.call(b,c,1),--this.size,!0)}var e=a("./_assocIndexOf"),f=Array.prototype,g=f.splice;b.exports=d},{"./_assocIndexOf":143}],221:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return c<0?void 0:b[c][1]}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":143}],222:[function(a,b,c){function d(a){return e(this.__data__,a)>-1}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":143}],223:[function(a,b,c){function d(a,b){var c=this.__data__,d=e(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":143}],224:[function(a,b,c){function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=a("./_Hash"),f=a("./_ListCache"),g=a("./_Map");b.exports=d},{"./_Hash":122,"./_ListCache":123,"./_Map":124}],225:[function(a,b,c){function d(a){var b=e(this,a).delete(a);return this.size-=b?1:0,b}var e=a("./_getMapData");b.exports=d},{"./_getMapData":197}],226:[function(a,b,c){function d(a){return e(this,a).get(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":197}],227:[function(a,b,c){function d(a){return e(this,a).has(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":197}],228:[function(a,b,c){function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=a("./_getMapData");b.exports=d},{"./_getMapData":197}],229:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}b.exports=d},{}],230:[function(a,b,c){function d(a,b){return function(c){return null!=c&&(c[a]===b&&(void 0!==b||a in Object(c)))}}b.exports=d},{}],231:[function(a,b,c){function d(a){var b=e(a,function(a){return c.size===f&&c.clear(),a}),c=b.cache;return b}var e=a("./memoize"),f=500;b.exports=d},{"./memoize":282}],232:[function(a,b,c){var d=a("./_getNative"),e=d(Object,"create");b.exports=e},{"./_getNative":199}],233:[function(a,b,c){var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":236}],234:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof c&&c&&!c.nodeType&&c,f=e&&"object"==typeof b&&b&&!b.nodeType&&b,g=f&&f.exports===e,h=g&&d.process,i=function(){try{var a=f&&f.require&&f.require("util").types;return a||h&&h.binding&&h.binding("util")}catch(a){}}();b.exports=i},{"./_freeGlobal":195}],235:[function(a,b,c){function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],236:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],237:[function(a,b,c){function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=a("./_apply"),f=Math.max;b.exports=d},{"./_apply":133}],238:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();b.exports=f},{"./_freeGlobal":195}],239:[function(a,b,c){function d(a){return this.__data__.set(a,e),this}var e="__lodash_hash_undefined__";b.exports=d},{}],240:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],241:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}b.exports=d},{}],242:[function(a,b,c){var d=a("./_baseSetToString"),e=a("./_shortOut"),f=e(d);b.exports=f},{"./_baseSetToString":173,"./_shortOut":243}],243:[function(a,b,c){function d(a){var b=0,c=0;return function(){var d=g(),h=f-(d-c);if(c=d,h>0){if(++b>=e)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var e=800,f=16,g=Date.now;b.exports=d},{}],244:[function(a,b,c){function d(){this.__data__=new e,this.size=0}var e=a("./_ListCache");b.exports=d},{"./_ListCache":123}],245:[function(a,b,c){function d(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}b.exports=d},{}],246:[function(a,b,c){function d(a){return this.__data__.get(a)}b.exports=d},{}],247:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],248:[function(a,b,c){function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=a("./_ListCache"),f=a("./_Map"),g=a("./_MapCache"),h=200;b.exports=d},{"./_ListCache":123,"./_Map":124,"./_MapCache":125}],249:[function(a,b,c){function d(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}b.exports=d},{}],250:[function(a,b,c){function d(a){return f(a)?g(a):e(a)}var e=a("./_asciiToArray"),f=a("./_hasUnicode"),g=a("./_unicodeToArray");b.exports=d},{"./_asciiToArray":141,"./_hasUnicode":205,"./_unicodeToArray":255}],251:[function(a,b,c){var d=a("./_memoizeCapped"),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,g=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(e,function(a,c,d,e){b.push(d?e.replace(f,"$1"):c||a)}),b});b.exports=g},{"./_memoizeCapped":231}],252:[function(a,b,c){function d(a){if("string"==typeof a||e(a))return a;var b=a+"";return"0"==b&&1/a==-f?"-0":b}var e=a("./isSymbol"),f=1/0;b.exports=d},{"./isSymbol":277}],253:[function(a,b,c){function d(a){if(null!=a){try{return f.call(a)}catch(a){}try{return a+""}catch(a){}}return""}var e=Function.prototype,f=e.toString;b.exports=d},{}],254:[function(a,b,c){function d(a){for(var b=a.length;b--&&e.test(a.charAt(b)););return b}var e=/\s/;b.exports=d},{}],255:[function(a,b,c){function d(a){return a.match(m)||[]}var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",f="\\ud83c[\\udffb-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",j="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",g,h].join("|")+")[\\ufe0e\\ufe0f]?"+i+")*",k="[\\ufe0e\\ufe0f]?"+i+j,l="(?:"+["[^\\ud800-\\udfff]"+e+"?",e,g,h,"[\\ud800-\\udfff]"].join("|")+")",m=RegExp(f+"(?="+f+")|"+l+k,"g");b.exports=d},{}],256:[function(a,b,c){var d=a("./_assignValue"),e=a("./_copyObject"),f=a("./_createAssigner"),g=a("./isArrayLike"),h=a("./_isPrototype"),i=a("./keys"),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});b.exports=l},{"./_assignValue":142,"./_copyObject":185,"./_createAssigner":187,"./_isPrototype":217,"./isArrayLike":270,"./keys":279}],257:[function(a,b,c){function d(a){return function(){return a}}b.exports=d},{}],258:[function(a,b,c){function d(a,b,c){a=h(a),b=f(b);var d=a.length;c=void 0===c?d:e(g(c),0,d);var i=c;return(c-=b.length)>=0&&a.slice(c,i)==b}var e=a("./_baseClamp"),f=a("./_baseToString"),g=a("./toInteger"),h=a("./toString");b.exports=d},{"./_baseClamp":145,"./_baseToString":176,"./toInteger":288,"./toString":290}],259:[function(a,b,c){function d(a,b){return a===b||a!==a&&b!==b}b.exports=d},{}],260:[function(a,b,c){function d(a,b){return(h(a)?e:f)(a,g(b,3))}var e=a("./_arrayFilter"),f=a("./_baseFilter"),g=a("./_baseIteratee"),h=a("./isArray");b.exports=d},{"./_arrayFilter":134,"./_baseFilter":147,"./_baseIteratee":165,"./isArray":269}],261:[function(a,b,c){var d=a("./_createFind"),e=a("./findIndex"),f=d(e);b.exports=f},{"./_createFind":190,"./findIndex":262}],262:[function(a,b,c){function d(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var i=null==c?0:g(c);return i<0&&(i=h(d+i,0)),e(a,f(b,3),i)}var e=a("./_baseFindIndex"),f=a("./_baseIteratee"),g=a("./toInteger"),h=Math.max;b.exports=d},{"./_baseFindIndex":148,"./_baseIteratee":165,"./toInteger":288}],263:[function(a,b,c){function d(a){return(null==a?0:a.length)?e(a,1):[]}var e=a("./_baseFlatten");b.exports=d},{"./_baseFlatten":149}],264:[function(a,b,c){function d(a,b,c){var d=null==a?void 0:e(a,b);return void 0===d?c:d}var e=a("./_baseGet");b.exports=d},{"./_baseGet":152}],265:[function(a,b,c){function d(a,b){return null!=a&&f(a,b,e)}var e=a("./_baseHasIn"),f=a("./_hasPath");b.exports=d},{"./_baseHasIn":155,"./_hasPath":204}],266:[function(a,b,c){function d(a){return a}b.exports=d},{}],267:[function(a,b,c){var d=a("./_arrayMap"),e=a("./_baseIntersection"),f=a("./_baseRest"),g=a("./_castArrayLikeObject"),h=f(function(a){var b=d(a,g);return b.length&&b[0]===a[0]?e(b):[]});b.exports=h},{"./_arrayMap":138,"./_baseIntersection":157,"./_baseRest":172,"./_castArrayLikeObject":181}],268:[function(a,b,c){var d=a("./_baseIsArguments"),e=a("./isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};b.exports=i},{"./_baseIsArguments":158,"./isObjectLike":276}],269:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],270:[function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":273,"./isLength":274}],271:[function(a,b,c){function d(a){return f(a)&&e(a)}var e=a("./isArrayLike"),f=a("./isObjectLike");b.exports=d},{"./isArrayLike":270,"./isObjectLike":276}],272:[function(a,b,c){var d=a("./_root"),e=a("./stubFalse"),f="object"==typeof c&&c&&!c.nodeType&&c,g=f&&"object"==typeof b&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;b.exports=k},{"./_root":238,"./stubFalse":286}],273:[function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=a("./_baseGetTag"),f=a("./isObject"),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";b.exports=d},{"./_baseGetTag":154,"./isObject":275}],274:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],275:[function(a,b,c){function d(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}b.exports=d},{}],276:[function(a,b,c){function d(a){return null!=a&&"object"==typeof a}b.exports=d},{}],277:[function(a,b,c){function d(a){return"symbol"==typeof a||f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Symbol]";b.exports=d},{"./_baseGetTag":154,"./isObjectLike":276}],278:[function(a,b,c){var d=a("./_baseIsTypedArray"),e=a("./_baseUnary"),f=a("./_nodeUtil"),g=f&&f.isTypedArray,h=g?e(g):d;b.exports=h},{"./_baseIsTypedArray":164,"./_baseUnary":178,"./_nodeUtil":234}],279:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeys"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":137,"./_baseKeys":166,"./isArrayLike":270}],280:[function(a,b,c){(function(a){(function(){function e(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function f(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function g(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function h(a,b){for(var c=null==a?0:a.length;c--&&!1!==b(a[c],c,a););return a}function i(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function j(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function k(a,b){return!!(null==a?0:a.length)&&v(a,b,0)>-1}function l(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function m(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function n(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function o(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function p(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function q(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function r(a){return a.split("")}function s(a){return a.match(Mb)||[]}function t(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function u(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function v(a,b,c){return b===b?X(a,b,c):u(a,x,c)}function w(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function x(a){return a!==a}function y(a,b){var c=null==a?0:a.length;return c?D(a,b)/c:Ja}function z(a){return function(b){return null==b?da:b[a]}}function A(a){return function(b){return null==a?da:a[b]}}function B(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function C(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function D(a,b){
for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==da&&(c=c===da?f:c+f)}return c}function E(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function F(a,b){return m(b,function(b){return[b,a[b]]})}function G(a){return a?a.slice(0,_(a)+1).replace(Hb,""):a}function H(a){return function(b){return a(b)}}function I(a,b){return m(b,function(b){return a[b]})}function J(a,b){return a.has(b)}function K(a,b){for(var c=-1,d=a.length;++c<d&&v(b,a[c],0)>-1;);return c}function L(a,b){for(var c=a.length;c--&&v(b,a[c],0)>-1;);return c}function M(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function N(a){return"\\"+Ac[a]}function O(a,b){return null==a?da:a[b]}function P(a){return rc.test(a)}function Q(a){return sc.test(a)}function R(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function S(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function T(a,b){return function(c){return a(b(c))}}function U(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&g!==ka||(a[c]=ka,f[e++]=c)}return f}function V(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function W(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function X(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function Y(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function Z(a){return P(a)?aa(a):Rc(a)}function $(a){return P(a)?ba(a):r(a)}function _(a){for(var b=a.length;b--&&Ib.test(a.charAt(b)););return b}function aa(a){for(var b=pc.lastIndex=0;pc.test(a);)++b;return b}function ba(a){return a.match(pc)||[]}function ca(a){return a.match(qc)||[]}var da,ea=200,fa="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ga="Expected a function",ha="Invalid `variable` option passed into `_.template`",ia="__lodash_hash_undefined__",ja=500,ka="__lodash_placeholder__",la=1,ma=2,na=4,oa=1,pa=2,qa=1,ra=2,sa=4,ta=8,ua=16,va=32,wa=64,xa=128,ya=256,za=512,Aa=30,Ba="...",Ca=800,Da=16,Ea=1,Fa=2,Ga=1/0,Ha=9007199254740991,Ia=1.7976931348623157e308,Ja=NaN,Ka=4294967295,La=Ka-1,Ma=Ka>>>1,Na=[["ary",xa],["bind",qa],["bindKey",ra],["curry",ta],["curryRight",ua],["flip",za],["partial",va],["partialRight",wa],["rearg",ya]],Oa="[object Arguments]",Pa="[object Array]",Qa="[object AsyncFunction]",Ra="[object Boolean]",Sa="[object Date]",Ta="[object DOMException]",Ua="[object Error]",Va="[object Function]",Wa="[object GeneratorFunction]",Xa="[object Map]",Ya="[object Number]",Za="[object Null]",$a="[object Object]",_a="[object Proxy]",ab="[object RegExp]",bb="[object Set]",cb="[object String]",db="[object Symbol]",eb="[object Undefined]",fb="[object WeakMap]",gb="[object WeakSet]",hb="[object ArrayBuffer]",ib="[object DataView]",jb="[object Float32Array]",kb="[object Float64Array]",lb="[object Int8Array]",mb="[object Int16Array]",nb="[object Int32Array]",ob="[object Uint8Array]",pb="[object Uint8ClampedArray]",qb="[object Uint16Array]",rb="[object Uint32Array]",sb=/\b__p \+= '';/g,tb=/\b(__p \+=) '' \+/g,ub=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vb=/&(?:amp|lt|gt|quot|#39);/g,wb=/[&<>"']/g,xb=RegExp(vb.source),yb=RegExp(wb.source),zb=/<%-([\s\S]+?)%>/g,Ab=/<%([\s\S]+?)%>/g,Bb=/<%=([\s\S]+?)%>/g,Cb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Db=/^\w*$/,Eb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fb=/[\\^$.*+?()[\]{}|]/g,Gb=RegExp(Fb.source),Hb=/^\s+/,Ib=/\s/,Jb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kb=/\{\n\/\* \[wrapped with (.+)\] \*/,Lb=/,? & /,Mb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nb=/[()=,{}\[\]\/\s]/,Ob=/\\(\\)?/g,Pb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qb=/\w*$/,Rb=/^[-+]0x[0-9a-f]+$/i,Sb=/^0b[01]+$/i,Tb=/^\[object .+?Constructor\]$/,Ub=/^0o[0-7]+$/i,Vb=/^(?:0|[1-9]\d*)$/,Wb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xb=/($^)/,Yb=/['\n\r\u2028\u2029\\]/g,Zb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$b="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_b="["+$b+"]",ac="["+Zb+"]",bc="[a-z\\xdf-\\xf6\\xf8-\\xff]",cc="[^\\ud800-\\udfff"+$b+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",dc="\\ud83c[\\udffb-\\udfff]",ec="(?:\\ud83c[\\udde6-\\uddff]){2}",fc="[\\ud800-\\udbff][\\udc00-\\udfff]",gc="[A-Z\\xc0-\\xd6\\xd8-\\xde]",hc="(?:"+bc+"|"+cc+")",ic="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",jc="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",ec,fc].join("|")+")[\\ufe0e\\ufe0f]?"+ic+")*",kc="[\\ufe0e\\ufe0f]?"+ic+jc,lc="(?:"+["[\\u2700-\\u27bf]",ec,fc].join("|")+")"+kc,mc="(?:"+["[^\\ud800-\\udfff]"+ac+"?",ac,ec,fc,"[\\ud800-\\udfff]"].join("|")+")",nc=RegExp("['â]","g"),oc=RegExp(ac,"g"),pc=RegExp(dc+"(?="+dc+")|"+mc+kc,"g"),qc=RegExp([gc+"?"+bc+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[_b,gc,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[_b,gc+hc,"$"].join("|")+")",gc+"?"+hc+"+(?:['â](?:d|ll|m|re|s|t|ve))?",gc+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",lc].join("|"),"g"),rc=RegExp("[\\u200d\\ud800-\\udfff"+Zb+"\\ufe0e\\ufe0f]"),sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uc=-1,vc={};vc[jb]=vc[kb]=vc[lb]=vc[mb]=vc[nb]=vc[ob]=vc[pb]=vc[qb]=vc[rb]=!0,vc[Oa]=vc[Pa]=vc[hb]=vc[Ra]=vc[ib]=vc[Sa]=vc[Ua]=vc[Va]=vc[Xa]=vc[Ya]=vc[$a]=vc[ab]=vc[bb]=vc[cb]=vc[fb]=!1;var wc={};wc[Oa]=wc[Pa]=wc[hb]=wc[ib]=wc[Ra]=wc[Sa]=wc[jb]=wc[kb]=wc[lb]=wc[mb]=wc[nb]=wc[Xa]=wc[Ya]=wc[$a]=wc[ab]=wc[bb]=wc[cb]=wc[db]=wc[ob]=wc[pb]=wc[qb]=wc[rb]=!0,wc[Ua]=wc[Va]=wc[fb]=!1;var xc={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ac={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bc=parseFloat,Cc=parseInt,Dc="object"==typeof a&&a&&a.Object===Object&&a,Ec="object"==typeof self&&self&&self.Object===Object&&self,Fc=Dc||Ec||Function("return this")(),Gc="object"==typeof c&&c&&!c.nodeType&&c,Hc=Gc&&"object"==typeof b&&b&&!b.nodeType&&b,Ic=Hc&&Hc.exports===Gc,Jc=Ic&&Dc.process,Kc=function(){try{var a=Hc&&Hc.require&&Hc.require("util").types;return a||Jc&&Jc.binding&&Jc.binding("util")}catch(a){}}(),Lc=Kc&&Kc.isArrayBuffer,Mc=Kc&&Kc.isDate,Nc=Kc&&Kc.isMap,Oc=Kc&&Kc.isRegExp,Pc=Kc&&Kc.isSet,Qc=Kc&&Kc.isTypedArray,Rc=z("length"),Sc=A(xc),Tc=A(yc),Uc=A(zc),Vc=function a(b){function c(a){if(ci(a)&&!nm(a)&&!(a instanceof A)){if(a instanceof r)return a;if(nk.call(a,"__wrapped__"))return _f(a)}return new r(a)}function d(){}function r(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=da}function A(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ka,this.__views__=[]}function X(){var a=new A(this.__wrapped__);return a.__actions__=He(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=He(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=He(this.__views__),a}function aa(){if(this.__filtered__){var a=new A(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ba(){var a=this.__wrapped__.value(),b=this.__dir__,c=nm(a),d=b<0,e=c?a.length:0,f=xf(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Rk(i,this.__takeCount__);if(!c||!d&&e==i&&n==i)return qe(a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Fa)q=u;else if(!u){if(t==Ea)continue a;break a}}o[m++]=q}return o}function Ib(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Mb(){this.__data__=_k?_k(null):{},this.size=0}function Zb(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function $b(a){var b=this.__data__;if(_k){var c=b[a];return c===ia?da:c}return nk.call(b,a)?b[a]:da}function _b(a){var b=this.__data__;return _k?b[a]!==da:nk.call(b,a)}function ac(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=_k&&b===da?ia:b,this}function bc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cc(){this.__data__=[],this.size=0}function dc(a){var b=this.__data__,c=Wc(b,a);return!(c<0)&&(c==b.length-1?b.pop():Bk.call(b,c,1),--this.size,!0)}function ec(a){var b=this.__data__,c=Wc(b,a);return c<0?da:b[c][1]}function fc(a){return Wc(this.__data__,a)>-1}function gc(a,b){var c=this.__data__,d=Wc(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}function hc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ic(){this.size=0,this.__data__={hash:new Ib,map:new(Xk||bc),string:new Ib}}function jc(a){var b=tf(this,a).delete(a);return this.size-=b?1:0,b}function kc(a){return tf(this,a).get(a)}function lc(a){return tf(this,a).has(a)}function mc(a,b){var c=tf(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function pc(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new hc;++b<c;)this.add(a[b])}function qc(a){return this.__data__.set(a,ia),this}function rc(a){return this.__data__.has(a)}function sc(a){var b=this.__data__=new bc(a);this.size=b.size}function xc(){this.__data__=new bc,this.size=0}function yc(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}function zc(a){return this.__data__.get(a)}function Ac(a){return this.__data__.has(a)}function Dc(a,b){var c=this.__data__;if(c instanceof bc){var d=c.__data__;if(!Xk||d.length<ea-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new hc(d)}return c.set(a,b),this.size=c.size,this}function Ec(a,b){var c=nm(a),d=!c&&mm(a),e=!c&&!d&&pm(a),f=!c&&!d&&!e&&um(a),g=c||d||e||f,h=g?E(a.length,gk):[],i=h.length;for(var j in a)!b&&!nk.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Ff(j,i))||h.push(j);return h}function Gc(a){var b=a.length;return b?a[Zd(0,b-1)]:da}function Hc(a,b){return Xf(He(a),ad(b,0,a.length))}function Jc(a){return Xf(He(a))}function Kc(a,b,c){(c===da||Qh(a[b],c))&&(c!==da||b in a)||$c(a,b,c)}function Rc(a,b,c){var d=a[b];nk.call(a,b)&&Qh(d,c)&&(c!==da||b in a)||$c(a,b,c)}function Wc(a,b){for(var c=a.length;c--;)if(Qh(a[c][0],b))return c;return-1}function Xc(a,b,c,d){return ll(a,function(a,e,f){b(d,a,c(a),f)}),d}function Yc(a,b){return a&&Ie(b,Li(b),a)}function Zc(a,b){return a&&Ie(b,Mi(b),a)}function $c(a,b,c){"__proto__"==b&&Fk?Fk(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function _c(a,b){for(var c=-1,d=b.length,e=_j(d),f=null==a;++c<d;)e[c]=f?da:Ii(a,b[c]);return e}function ad(a,b,c){return a===a&&(c!==da&&(a=a<=c?a:c),b!==da&&(a=a>=b?a:b)),a}function bd(a,b,c,d,e,f){var h,i=b&la,j=b&ma,k=b&na;if(c&&(h=e?c(a,d,e,f):c(a)),h!==da)return h;if(!bi(a))return a;var l=nm(a);if(l){if(h=Af(a),!i)return He(a,h)}else{var m=xl(a),n=m==Va||m==Wa;if(pm(a))return xe(a,i);if(m==$a||m==Oa||n&&!e){if(h=j||n?{}:Bf(a),!i)return j?Ke(a,Zc(h,a)):Je(a,Yc(h,a))}else{if(!wc[m])return e?a:{};h=Cf(a,m,i)}}f||(f=new sc);var o=f.get(a);if(o)return o;f.set(a,h),tm(a)?a.forEach(function(d){h.add(bd(d,b,c,d,a,f))}):rm(a)&&a.forEach(function(d,e){h.set(e,bd(d,b,c,e,a,f))});var p=k?j?pf:of:j?Mi:Li,q=l?da:p(a);return g(q||a,function(d,e){q&&(e=d,d=a[e]),Rc(h,e,bd(d,b,c,e,a,f))}),h}function cd(a){var b=Li(a);return function(c){return dd(c,a,b)}}function dd(a,b,c){var d=c.length;if(null==a)return!d;for(a=ek(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===da&&!(e in a)||!f(g))return!1}return!0}function ed(a,b,c){if("function"!=typeof a)throw new hk(ga);return Al(function(){a.apply(da,c)},b)}function fd(a,b,c,d){var e=-1,f=k,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=m(b,H(c))),d?(f=l,g=!1):b.length>=ea&&(f=J,g=!1,b=new pc(b));a:for(;++e<h;){var n=a[e],o=null==c?n:c(n);if(n=d||0!==n?n:0,g&&o===o){for(var p=j;p--;)if(b[p]===o)continue a;i.push(n)}else f(b,o,d)||i.push(n)}return i}function gd(a,b){var c=!0;return ll(a,function(a,d,e){return c=!!b(a,d,e)}),c}function hd(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===da?g===g&&!ni(g):c(g,h)))var h=g,i=f}return i}function id(a,b,c,d){var e=a.length;for(c=ti(c),c<0&&(c=-c>e?0:e+c),d=d===da||d>e?e:ti(d),d<0&&(d+=e),d=c>d?0:ui(d);c<d;)a[c++]=b;return a}function jd(a,b){var c=[];return ll(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function kd(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Ef),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?kd(h,b-1,c,d,e):n(e,h):d||(e[e.length]=h)}return e}function ld(a,b){return a&&nl(a,b,Li)}function md(a,b){return a&&ol(a,b,Li)}function nd(a,b){return j(b,function(b){return $h(a[b])})}function od(a,b){b=ve(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Yf(b[c++])];return c&&c==d?a:da}function pd(a,b,c){var d=b(a);return nm(a)?d:n(d,c(a))}function qd(a){return null==a?a===da?eb:Za:Ek&&Ek in ek(a)?wf(a):Qf(a)}function rd(a,b){return a>b}function sd(a,b){return null!=a&&nk.call(a,b)}function td(a,b){return null!=a&&b in ek(a)}function ud(a,b,c){return a>=Rk(b,c)&&a<Qk(b,c)}function vd(a,b,c){for(var d=c?l:k,e=a[0].length,f=a.length,g=f,h=_j(f),i=1/0,j=[];g--;){var n=a[g];g&&b&&(n=m(n,H(b))),i=Rk(n.length,i),h[g]=!c&&(b||e>=120&&n.length>=120)?new pc(g&&n):da}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&j.length<i;){var q=n[o],r=b?b(q):q;if(q=c||0!==q?q:0,!(p?J(p,r):d(j,r,c))){for(g=f;--g;){var s=h[g];if(!(s?J(s,r):d(a[g],r,c)))continue a}p&&p.push(r),j.push(q)}}return j}function wd(a,b,c,d){return ld(a,function(a,e,f){b(d,c(a),e,f)}),d}function xd(a,b,c){b=ve(b,a),a=Sf(a,b);var d=null==a?a:a[Yf(sg(b))];return null==d?da:e(d,a,c)}function yd(a){return ci(a)&&qd(a)==Oa}function zd(a){return ci(a)&&qd(a)==hb}function Ad(a){return ci(a)&&qd(a)==Sa}function Bd(a,b,c,d,e){return a===b||(null==a||null==b||!ci(a)&&!ci(b)?a!==a&&b!==b:Cd(a,b,c,d,Bd,e))}function Cd(a,b,c,d,e,f){var g=nm(a),h=nm(b),i=g?Pa:xl(a),j=h?Pa:xl(b);i=i==Oa?$a:i,j=j==Oa?$a:j;var k=i==$a,l=j==$a,m=i==j;if(m&&pm(a)){if(!pm(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new sc),g||um(a)?kf(a,b,c,d,e,f):lf(a,b,i,c,d,e,f);if(!(c&oa)){var n=k&&nk.call(a,"__wrapped__"),o=l&&nk.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new sc),e(p,q,c,d,f)}}return!!m&&(f||(f=new sc),mf(a,b,c,d,e,f))}function Dd(a){return ci(a)&&xl(a)==Xa}function Ed(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=ek(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===da&&!(i in a))return!1}else{var l=new sc;if(d)var m=d(j,k,i,a,b,l);if(!(m===da?Bd(k,j,oa|pa,d,l):m))return!1}}return!0}function Fd(a){return!(!bi(a)||Kf(a))&&($h(a)?tk:Tb).test(Zf(a))}function Gd(a){return ci(a)&&qd(a)==ab}function Hd(a){return ci(a)&&xl(a)==bb}function Id(a){return ci(a)&&ai(a.length)&&!!vc[qd(a)]}function Jd(a){return"function"==typeof a?a:null==a?Bj:"object"==typeof a?nm(a)?Pd(a[0],a[1]):Od(a):Jj(a)}function Kd(a){if(!Lf(a))return Pk(a);var b=[];for(var c in ek(a))nk.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Ld(a){if(!bi(a))return Pf(a);var b=Lf(a),c=[];for(var d in a)("constructor"!=d||!b&&nk.call(a,d))&&c.push(d);return c}function Md(a,b){return a<b}function Nd(a,b){var c=-1,d=Rh(a)?_j(a.length):[];return ll(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Od(a){var b=uf(a);return 1==b.length&&b[0][2]?Nf(b[0][0],b[0][1]):function(c){return c===a||Ed(c,a,b)}}function Pd(a,b){return Hf(a)&&Mf(b)?Nf(Yf(a),b):function(c){var d=Ii(c,a);return d===da&&d===b?Ki(c,a):Bd(b,d,oa|pa)}}function Qd(a,b,c,d,e){a!==b&&nl(b,function(f,g){if(e||(e=new sc),bi(f))Rd(a,b,g,c,Qd,d,e);else{var h=d?d(Uf(a,g),f,g+"",a,b,e):da;h===da&&(h=f),Kc(a,g,h)}},Mi)}function Rd(a,b,c,d,e,f,g){var h=Uf(a,c),i=Uf(b,c),j=g.get(i);if(j)return void Kc(a,c,j);var k=f?f(h,i,c+"",a,b,g):da,l=k===da;if(l){var m=nm(i),n=!m&&pm(i),o=!m&&!n&&um(i);k=i,m||n||o?nm(h)?k=h:Sh(h)?k=He(h):n?(l=!1,k=xe(i,!0)):o?(l=!1,k=Ce(i,!0)):k=[]:ki(i)||mm(i)?(k=h,mm(h)?k=wi(h):bi(h)&&!$h(h)||(k=Bf(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),Kc(a,c,k)}function Sd(a,b){var c=a.length;if(c)return b+=b<0?c:0,Ff(b,c)?a[b]:da}function Td(a,b,c){b=b.length?m(b,function(a){return nm(a)?function(b){return od(b,1===a.length?a[0]:a)}:a}):[Bj];var d=-1;return b=m(b,H(sf())),C(Nd(a,function(a,c,e){return{criteria:m(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return Ee(a,b,c)})}function Ud(a,b){return Vd(a,b,function(b,c){return Ki(a,c)})}function Vd(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=od(a,g);c(h,g)&&de(f,ve(g,a),h)}return f}function Wd(a){return function(b){return od(b,a)}}function Xd(a,b,c,d){var e=d?w:v,f=-1,g=b.length,h=a;for(a===b&&(b=He(b)),c&&(h=m(a,H(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&Bk.call(h,i,1),Bk.call(a,i,1);return a}function Yd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;Ff(e)?Bk.call(a,e,1):ne(a,e)}}return a}function Zd(a,b){return a+Kk(Uk()*(b-a+1))}function $d(a,b,c,d){for(var e=-1,f=Qk(Jk((b-a)/(c||1)),0),g=_j(f);f--;)g[d?f:++e]=a,a+=c;return g}function _d(a,b){var c="";if(!a||b<1||b>Ha)return c;do{b%2&&(c+=a),(b=Kk(b/2))&&(a+=a)}while(b);return c}function ae(a,b){return Bl(Rf(a,b,Bj),a+"")}function be(a){return Gc(Yi(a))}function ce(a,b){var c=Yi(a);return Xf(c,ad(b,0,c.length))}function de(a,b,c,d){if(!bi(a))return a;b=ve(b,a);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=Yf(b[e]),j=c;if("__proto__"===i||"constructor"===i||"prototype"===i)return a;if(e!=g){var k=h[i];j=d?d(k,i,h):da,j===da&&(j=bi(k)?k:Ff(b[e+1])?[]:{})}Rc(h,i,j),h=h[i]}return a}function ee(a){return Xf(Yi(a))}function fe(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=_j(e);++d<e;)f[d]=a[d+b];return f}function ge(a,b){var c;return ll(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function he(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&e<=Ma){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!ni(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return ie(a,b,Bj,c)}function ie(a,b,c,d){var e=0,f=null==a?0:a.length;if(0===f)return 0;b=c(b);for(var g=b!==b,h=null===b,i=ni(b),j=b===da;e<f;){var k=Kk((e+f)/2),l=c(a[k]),m=l!==da,n=null===l,o=l===l,p=ni(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):!n&&!p&&(d?l<=b:l<b);q?e=k+1:f=k}return Rk(f,La)}function je(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Qh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function ke(a){return"number"==typeof a?a:ni(a)?Ja:+a}function le(a){if("string"==typeof a)return a;if(nm(a))return m(a,le)+"";if(ni(a))return jl?jl.call(a):"";var b=a+"";return"0"==b&&1/a==-Ga?"-0":b}function me(a,b,c){var d=-1,e=k,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=l;else if(f>=ea){var j=b?null:tl(a);if(j)return V(j);g=!1,e=J,i=new pc}else i=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(m=c||0!==m?m:0,g&&n===n){for(var o=i.length;o--;)if(i[o]===n)continue a;b&&i.push(n),h.push(m)}else e(i,n,c)||(i!==h&&i.push(n),h.push(m))}return h}function ne(a,b){return b=ve(b,a),null==(a=Sf(a,b))||delete a[Yf(sg(b))]}function oe(a,b,c,d){return de(a,b,c(od(a,b)),d)}function pe(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?fe(a,d?0:f,d?f+1:e):fe(a,d?f+1:0,d?e:f)}function qe(a,b){var c=a;return c instanceof A&&(c=c.value()),o(b,function(a,b){return b.func.apply(b.thisArg,n([a],b.args))},c)}function re(a,b,c){var d=a.length;if(d<2)return d?me(a[0]):[];for(var e=-1,f=_j(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=fd(f[e]||g,a[h],b,c));return me(kd(f,1),b,c)}function se(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=d<f?b[d]:da;c(g,a[d],h)}return g}function te(a){return Sh(a)?a:[]}function ue(a){return"function"==typeof a?a:Bj}function ve(a,b){return nm(a)?a:Hf(a,b)?[a]:Cl(yi(a))}function we(a,b,c){var d=a.length;return c=c===da?d:c,!b&&c>=d?a:fe(a,b,c)}function xe(a,b){if(b)return a.slice();var c=a.length,d=xk?xk(c):new a.constructor(c);return a.copy(d),d}function ye(a){var b=new a.constructor(a.byteLength);return new wk(b).set(new wk(a)),b}function ze(a,b){var c=b?ye(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Ae(a){var b=new a.constructor(a.source,Qb.exec(a));return b.lastIndex=a.lastIndex,b}function Be(a){return il?ek(il.call(a)):{}}function Ce(a,b){var c=b?ye(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function De(a,b){if(a!==b){var c=a!==da,d=null===a,e=a===a,f=ni(a),g=b!==da,h=null===b,i=b===b,j=ni(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Ee(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=De(e[d],f[d]);if(i){if(d>=h)return i;return i*("desc"==c[d]?-1:1)}}return a.index-b.index}function Fe(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Qk(f-g,0),k=_j(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Ge(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Qk(f-h,0),l=_j(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function He(a,b){var c=-1,d=a.length;for(b||(b=_j(d));++c<d;)b[c]=a[c];return b}function Ie(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):da;i===da&&(i=a[h]),e?$c(c,h,i):Rc(c,h,i)}return c}function Je(a,b){return Ie(a,vl(a),b)}function Ke(a,b){return Ie(a,wl(a),b)}function Le(a,b){return function(c,d){var e=nm(c)?f:Xc,g=b?b():{};return e(c,a,sf(d,2),g)}}function Me(a){return ae(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:da,g=e>2?c[2]:da;for(f=a.length>3&&"function"==typeof f?(e--,f):da,g&&Gf(c[0],c[1],g)&&(f=e<3?da:f,e=1),b=ek(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Ne(a,b){return function(c,d){if(null==c)return c;if(!Rh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=ek(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Oe(a){return function(b,c,d){for(var e=-1,f=ek(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function Pe(a,b,c){function d(){return(this&&this!==Fc&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&qa,f=Se(a);return d}function Qe(a){return function(b){b=yi(b);var c=P(b)?$(b):da,d=c?c[0]:b.charAt(0),e=c?we(c,1).join(""):b.slice(1);return d[a]()+e}}function Re(a){return function(b){return o(wj(cj(b).replace(nc,"")),a,"")}}function Se(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=kl(a.prototype),d=a.apply(c,b);return bi(d)?d:c}}function Te(a,b,c){function d(){for(var g=arguments.length,h=_j(g),i=g,j=rf(d);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:U(h,j);return(g-=k.length)<c?cf(a,b,We,d.placeholder,da,h,k,da,da,c-g):e(this&&this!==Fc&&this instanceof d?f:a,this,h)}var f=Se(a);return d}function Ue(a){return function(b,c,d){var e=ek(b);if(!Rh(b)){var f=sf(c,3);b=Li(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:da}}function Ve(a){return nf(function(b){var c=b.length,d=c,e=r.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new hk(ga);if(e&&!g&&"wrapper"==qf(f))var g=new r([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=qf(f),i="wrapper"==h?ul(f):da;g=i&&Jf(i[0])&&i[1]==(xa|ta|va|ya)&&!i[4].length&&1==i[9]?g[qf(i[0])].apply(g,i[3]):1==f.length&&Jf(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&nm(d))return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function We(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=_j(r),t=r;t--;)s[t]=arguments[t];if(o)var u=rf(k),v=M(s,u);if(d&&(s=Fe(s,d,e,o)),f&&(s=Ge(s,f,g,o)),r-=v,o&&r<j){var w=U(s,u);return cf(a,b,We,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=Tf(s,h):p&&r>1&&s.reverse(),l&&i<r&&(s.length=i),this&&this!==Fc&&this instanceof k&&(y=q||Se(y)),y.apply(x,s)}var l=b&xa,m=b&qa,n=b&ra,o=b&(ta|ua),p=b&za,q=n?da:Se(a);return k}function Xe(a,b){return function(c,d){return wd(c,a,b(d),{})}}function Ye(a,b){return function(c,d){var e;if(c===da&&d===da)return b;if(c!==da&&(e=c),d!==da){if(e===da)return d;"string"==typeof c||"string"==typeof d?(c=le(c),d=le(d)):(c=ke(c),d=ke(d)),e=a(c,d)}return e}}function Ze(a){return nf(function(b){return b=m(b,H(sf())),ae(function(c){var d=this;return a(b,function(a){return e(a,d,c)})})})}function $e(a,b){b=b===da?" ":le(b);var c=b.length;if(c<2)return c?_d(b,a):b;var d=_d(b,Jk(a/Z(b)));return P(b)?we($(d),0,a).join(""):d.slice(0,a)}function _e(a,b,c,d){function f(){for(var b=-1,i=arguments.length,j=-1,k=d.length,l=_j(k+i),m=this&&this!==Fc&&this instanceof f?h:a;++j<k;)l[j]=d[j];for(;i--;)l[j++]=arguments[++b];return e(m,g?c:this,l)}var g=b&qa,h=Se(a);return f}function af(a){return function(b,c,d){return d&&"number"!=typeof d&&Gf(b,c,d)&&(c=d=da),b=si(b),c===da?(c=b,b=0):c=si(c),d=d===da?b<c?1:-1:si(d),$d(b,c,d,a)}}function bf(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=vi(b),c=vi(c)),a(b,c)}}function cf(a,b,c,d,e,f,g,h,i,j){var k=b&ta,l=k?g:da,m=k?da:g,n=k?f:da,o=k?da:f;b|=k?va:wa,(b&=~(k?wa:va))&sa||(b&=~(qa|ra));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(da,p);return Jf(a)&&zl(q,p),q.placeholder=d,Vf(q,a,b)}function df(a){var b=dk[a];return function(a,c){if(a=vi(a),(c=null==c?0:Rk(ti(c),292))&&Nk(a)){var d=(yi(a)+"e").split("e");return d=(yi(b(d[0]+"e"+(+d[1]+c)))+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function ef(a){return function(b){var c=xl(b);return c==Xa?S(b):c==bb?W(b):F(b,a(b))}}function ff(a,b,c,d,e,f,g,h){var i=b&ra;if(!i&&"function"!=typeof a)throw new hk(ga);var j=d?d.length:0;if(j||(b&=~(va|wa),d=e=da),g=g===da?g:Qk(ti(g),0),h=h===da?h:ti(h),j-=e?e.length:0,b&wa){var k=d,l=e;d=e=da}var m=i?da:ul(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Of(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=n[9]===da?i?0:a.length:Qk(n[9]-j,0),!h&&b&(ta|ua)&&(b&=~(ta|ua)),b&&b!=qa)o=b==ta||b==ua?Te(a,b,h):b!=va&&b!=(qa|va)||e.length?We.apply(da,n):_e(a,b,c,d);else var o=Pe(a,b,c);return Vf((m?pl:zl)(o,n),a,b)}function gf(a,b,c,d){return a===da||Qh(a,kk[c])&&!nk.call(d,c)?b:a}function hf(a,b,c,d,e,f){return bi(a)&&bi(b)&&(f.set(b,a),Qd(a,b,da,hf,f),f.delete(b)),a}function jf(a){return ki(a)?da:a}function kf(a,b,c,d,e,f){var g=c&oa,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a),k=f.get(b);if(j&&k)return j==b&&k==a;var l=-1,m=!0,n=c&pa?new pc:da;for(f.set(a,b),f.set(b,a);++l<h;){var o=a[l],p=b[l];if(d)var r=g?d(p,o,l,b,a,f):d(o,p,l,a,b,f);if(r!==da){if(r)continue;m=!1;break}if(n){if(!q(b,function(a,b){if(!J(n,b)&&(o===a||e(o,a,c,d,f)))return n.push(b)})){m=!1;break}}else if(o!==p&&!e(o,p,c,d,f)){m=!1;break}}return f.delete(a),f.delete(b),m}function lf(a,b,c,d,e,f,g){switch(c){case ib:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case hb:return!(a.byteLength!=b.byteLength||!f(new wk(a),new wk(b)));case Ra:case Sa:case Ya:return Qh(+a,+b);case Ua:return a.name==b.name&&a.message==b.message;case ab:case cb:return a==b+"";case Xa:var h=S;case bb:var i=d&oa;if(h||(h=V),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=pa,g.set(a,b);var k=kf(h(a),h(b),d,e,f,g);return g.delete(a),k;case db:if(il)return il.call(a)==il.call(b)}return!1}function mf(a,b,c,d,e,f){var g=c&oa,h=of(a),i=h.length;if(i!=of(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:nk.call(b,k)))return!1}var l=f.get(a),m=f.get(b);if(l&&m)return l==b&&m==a;var n=!0;f.set(a,b),f.set(b,a);for(var o=g;++j<i;){k=h[j];var p=a[k],q=b[k];if(d)var r=g?d(q,p,k,b,a,f):d(p,q,k,a,b,f);if(!(r===da?p===q||e(p,q,c,d,f):r)){n=!1;break}o||(o="constructor"==k)}if(n&&!o){var s=a.constructor,t=b.constructor;s!=t&&"constructor"in a&&"constructor"in b&&!("function"==typeof s&&s instanceof s&&"function"==typeof t&&t instanceof t)&&(n=!1)}return f.delete(a),f.delete(b),n}function nf(a){return Bl(Rf(a,da,kg),a+"")}function of(a){return pd(a,Li,vl)}function pf(a){return pd(a,Mi,wl)}function qf(a){for(var b=a.name+"",c=bl[b],d=nk.call(bl,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function rf(a){return(nk.call(c,"placeholder")?c:a).placeholder}function sf(){var a=c.iteratee||Cj;return a=a===Cj?Jd:a,arguments.length?a(arguments[0],arguments[1]):a}function tf(a,b){var c=a.__data__;return If(b)?c["string"==typeof b?"string":"hash"]:c.map}function uf(a){for(var b=Li(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Mf(e)]}return b}function vf(a,b){var c=O(a,b);return Fd(c)?c:da}function wf(a){var b=nk.call(a,Ek),c=a[Ek];try{a[Ek]=da;var d=!0}catch(a){}var e=qk.call(a);return d&&(b?a[Ek]=c:delete a[Ek]),e}function xf(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Rk(b,a+g);break;case"takeRight":a=Qk(a,b-g)}}return{start:a,end:b}}function yf(a){var b=a.match(Kb);return b?b[1].split(Lb):[]}function zf(a,b,c){b=ve(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=Yf(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:!!(e=null==a?0:a.length)&&ai(e)&&Ff(g,e)&&(nm(a)||mm(a))}function Af(a){
var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&nk.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Bf(a){return"function"!=typeof a.constructor||Lf(a)?{}:kl(yk(a))}function Cf(a,b,c){var d=a.constructor;switch(b){case hb:return ye(a);case Ra:case Sa:return new d(+a);case ib:return ze(a,c);case jb:case kb:case lb:case mb:case nb:case ob:case pb:case qb:case rb:return Ce(a,c);case Xa:return new d;case Ya:case cb:return new d(a);case ab:return Ae(a);case bb:return new d;case db:return Be(a)}}function Df(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Jb,"{\n/* [wrapped with "+b+"] */\n")}function Ef(a){return nm(a)||mm(a)||!!(Ck&&a&&a[Ck])}function Ff(a,b){var c=typeof a;return!!(b=null==b?Ha:b)&&("number"==c||"symbol"!=c&&Vb.test(a))&&a>-1&&a%1==0&&a<b}function Gf(a,b,c){if(!bi(c))return!1;var d=typeof b;return!!("number"==d?Rh(c)&&Ff(b,c.length):"string"==d&&b in c)&&Qh(c[b],a)}function Hf(a,b){if(nm(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!ni(a))||(Db.test(a)||!Cb.test(a)||null!=b&&a in ek(b))}function If(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function Jf(a){var b=qf(a),d=c[b];if("function"!=typeof d||!(b in A.prototype))return!1;if(a===d)return!0;var e=ul(d);return!!e&&a===e[0]}function Kf(a){return!!pk&&pk in a}function Lf(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||kk)}function Mf(a){return a===a&&!bi(a)}function Nf(a,b){return function(c){return null!=c&&(c[a]===b&&(b!==da||a in ek(c)))}}function Of(a,b){var c=a[1],d=b[1],e=c|d,f=e<(qa|ra|xa),g=d==xa&&c==ta||d==xa&&c==ya&&a[7].length<=b[8]||d==(xa|ya)&&b[7].length<=b[8]&&c==ta;if(!f&&!g)return a;d&qa&&(a[2]=b[2],e|=c&qa?0:sa);var h=b[3];if(h){var i=a[3];a[3]=i?Fe(i,h,b[4]):h,a[4]=i?U(a[3],ka):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?Ge(i,h,b[6]):h,a[6]=i?U(a[5],ka):b[6]),h=b[7],h&&(a[7]=h),d&xa&&(a[8]=null==a[8]?b[8]:Rk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Pf(a){var b=[];if(null!=a)for(var c in ek(a))b.push(c);return b}function Qf(a){return qk.call(a)}function Rf(a,b,c){return b=Qk(b===da?a.length-1:b,0),function(){for(var d=arguments,f=-1,g=Qk(d.length-b,0),h=_j(g);++f<g;)h[f]=d[b+f];f=-1;for(var i=_j(b+1);++f<b;)i[f]=d[f];return i[b]=c(h),e(a,this,i)}}function Sf(a,b){return b.length<2?a:od(a,fe(b,0,-1))}function Tf(a,b){for(var c=a.length,d=Rk(b.length,c),e=He(a);d--;){var f=b[d];a[d]=Ff(f,c)?e[f]:da}return a}function Uf(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]}function Vf(a,b,c){var d=b+"";return Bl(a,Df(d,$f(yf(d),c)))}function Wf(a){var b=0,c=0;return function(){var d=Sk(),e=Da-(d-c);if(c=d,e>0){if(++b>=Ca)return arguments[0]}else b=0;return a.apply(da,arguments)}}function Xf(a,b){var c=-1,d=a.length,e=d-1;for(b=b===da?d:b;++c<b;){var f=Zd(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function Yf(a){if("string"==typeof a||ni(a))return a;var b=a+"";return"0"==b&&1/a==-Ga?"-0":b}function Zf(a){if(null!=a){try{return mk.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function $f(a,b){return g(Na,function(c){var d="_."+c[0];b&c[1]&&!k(a,d)&&a.push(d)}),a.sort()}function _f(a){if(a instanceof A)return a.clone();var b=new r(a.__wrapped__,a.__chain__);return b.__actions__=He(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function ag(a,b,c){b=(c?Gf(a,b,c):b===da)?1:Qk(ti(b),0);var d=null==a?0:a.length;if(!d||b<1)return[];for(var e=0,f=0,g=_j(Jk(d/b));e<d;)g[f++]=fe(a,e,e+=b);return g}function bg(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function cg(){var a=arguments.length;if(!a)return[];for(var b=_j(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return n(nm(c)?He(c):[c],kd(b,1))}function dg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===da?1:ti(b),fe(a,b<0?0:b,d)):[]}function eg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===da?1:ti(b),b=d-b,fe(a,0,b<0?0:b)):[]}function fg(a,b){return a&&a.length?pe(a,sf(b,3),!0,!0):[]}function gg(a,b){return a&&a.length?pe(a,sf(b,3),!0):[]}function hg(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Gf(a,b,c)&&(c=0,d=e),id(a,b,c,d)):[]}function ig(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:ti(c);return e<0&&(e=Qk(d+e,0)),u(a,sf(b,3),e)}function jg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==da&&(e=ti(c),e=c<0?Qk(d+e,0):Rk(e,d-1)),u(a,sf(b,3),e,!0)}function kg(a){return(null==a?0:a.length)?kd(a,1):[]}function lg(a){return(null==a?0:a.length)?kd(a,Ga):[]}function mg(a,b){return(null==a?0:a.length)?(b=b===da?1:ti(b),kd(a,b)):[]}function ng(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function og(a){return a&&a.length?a[0]:da}function pg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:ti(c);return e<0&&(e=Qk(d+e,0)),v(a,b,e)}function qg(a){return(null==a?0:a.length)?fe(a,0,-1):[]}function rg(a,b){return null==a?"":Ok.call(a,b)}function sg(a){var b=null==a?0:a.length;return b?a[b-1]:da}function tg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==da&&(e=ti(c),e=e<0?Qk(d+e,0):Rk(e,d-1)),b===b?Y(a,b,e):u(a,x,e,!0)}function ug(a,b){return a&&a.length?Sd(a,ti(b)):da}function vg(a,b){return a&&a.length&&b&&b.length?Xd(a,b):a}function wg(a,b,c){return a&&a.length&&b&&b.length?Xd(a,b,sf(c,2)):a}function xg(a,b,c){return a&&a.length&&b&&b.length?Xd(a,b,da,c):a}function yg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=sf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return Yd(a,e),c}function zg(a){return null==a?a:Vk.call(a)}function Ag(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Gf(a,b,c)?(b=0,c=d):(b=null==b?0:ti(b),c=c===da?d:ti(c)),fe(a,b,c)):[]}function Bg(a,b){return he(a,b)}function Cg(a,b,c){return ie(a,b,sf(c,2))}function Dg(a,b){var c=null==a?0:a.length;if(c){var d=he(a,b);if(d<c&&Qh(a[d],b))return d}return-1}function Eg(a,b){return he(a,b,!0)}function Fg(a,b,c){return ie(a,b,sf(c,2),!0)}function Gg(a,b){if(null==a?0:a.length){var c=he(a,b,!0)-1;if(Qh(a[c],b))return c}return-1}function Hg(a){return a&&a.length?je(a):[]}function Ig(a,b){return a&&a.length?je(a,sf(b,2)):[]}function Jg(a){var b=null==a?0:a.length;return b?fe(a,1,b):[]}function Kg(a,b,c){return a&&a.length?(b=c||b===da?1:ti(b),fe(a,0,b<0?0:b)):[]}function Lg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===da?1:ti(b),b=d-b,fe(a,b<0?0:b,d)):[]}function Mg(a,b){return a&&a.length?pe(a,sf(b,3),!1,!0):[]}function Ng(a,b){return a&&a.length?pe(a,sf(b,3)):[]}function Og(a){return a&&a.length?me(a):[]}function Pg(a,b){return a&&a.length?me(a,sf(b,2)):[]}function Qg(a,b){return b="function"==typeof b?b:da,a&&a.length?me(a,da,b):[]}function Rg(a){if(!a||!a.length)return[];var b=0;return a=j(a,function(a){if(Sh(a))return b=Qk(a.length,b),!0}),E(b,function(b){return m(a,z(b))})}function Sg(a,b){if(!a||!a.length)return[];var c=Rg(a);return null==b?c:m(c,function(a){return e(b,da,a)})}function Tg(a,b){return se(a||[],b||[],Rc)}function Ug(a,b){return se(a||[],b||[],de)}function Vg(a){var b=c(a);return b.__chain__=!0,b}function Wg(a,b){return b(a),a}function Xg(a,b){return b(a)}function Yg(){return Vg(this)}function Zg(){return new r(this.value(),this.__chain__)}function $g(){this.__values__===da&&(this.__values__=ri(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?da:this.__values__[this.__index__++]}}function _g(){return this}function ah(a){for(var b,c=this;c instanceof d;){var e=_f(c);e.__index__=0,e.__values__=da,b?f.__wrapped__=e:b=e;var f=e;c=c.__wrapped__}return f.__wrapped__=a,b}function bh(){var a=this.__wrapped__;if(a instanceof A){var b=a;return this.__actions__.length&&(b=new A(this)),b=b.reverse(),b.__actions__.push({func:Xg,args:[zg],thisArg:da}),new r(b,this.__chain__)}return this.thru(zg)}function ch(){return qe(this.__wrapped__,this.__actions__)}function dh(a,b,c){var d=nm(a)?i:gd;return c&&Gf(a,b,c)&&(b=da),d(a,sf(b,3))}function eh(a,b){return(nm(a)?j:jd)(a,sf(b,3))}function fh(a,b){return kd(lh(a,b),1)}function gh(a,b){return kd(lh(a,b),Ga)}function hh(a,b,c){return c=c===da?1:ti(c),kd(lh(a,b),c)}function ih(a,b){return(nm(a)?g:ll)(a,sf(b,3))}function jh(a,b){return(nm(a)?h:ml)(a,sf(b,3))}function kh(a,b,c,d){a=Rh(a)?a:Yi(a),c=c&&!d?ti(c):0;var e=a.length;return c<0&&(c=Qk(e+c,0)),mi(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&v(a,b,c)>-1}function lh(a,b){return(nm(a)?m:Nd)(a,sf(b,3))}function mh(a,b,c,d){return null==a?[]:(nm(b)||(b=null==b?[]:[b]),c=d?da:c,nm(c)||(c=null==c?[]:[c]),Td(a,b,c))}function nh(a,b,c){var d=nm(a)?o:B,e=arguments.length<3;return d(a,sf(b,4),c,e,ll)}function oh(a,b,c){var d=nm(a)?p:B,e=arguments.length<3;return d(a,sf(b,4),c,e,ml)}function ph(a,b){return(nm(a)?j:jd)(a,Dh(sf(b,3)))}function qh(a){return(nm(a)?Gc:be)(a)}function rh(a,b,c){return b=(c?Gf(a,b,c):b===da)?1:ti(b),(nm(a)?Hc:ce)(a,b)}function sh(a){return(nm(a)?Jc:ee)(a)}function th(a){if(null==a)return 0;if(Rh(a))return mi(a)?Z(a):a.length;var b=xl(a);return b==Xa||b==bb?a.size:Kd(a).length}function uh(a,b,c){var d=nm(a)?q:ge;return c&&Gf(a,b,c)&&(b=da),d(a,sf(b,3))}function vh(a,b){if("function"!=typeof b)throw new hk(ga);return a=ti(a),function(){if(--a<1)return b.apply(this,arguments)}}function wh(a,b,c){return b=c?da:b,b=a&&null==b?a.length:b,ff(a,xa,da,da,da,da,b)}function xh(a,b){var c;if("function"!=typeof b)throw new hk(ga);return a=ti(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=da),c}}function yh(a,b,c){b=c?da:b;var d=ff(a,ta,da,da,da,da,da,b);return d.placeholder=yh.placeholder,d}function zh(a,b,c){b=c?da:b;var d=ff(a,ua,da,da,da,da,da,b);return d.placeholder=zh.placeholder,d}function Ah(a,b,c){function d(b){var c=m,d=n;return m=n=da,s=b,p=a.apply(d,c)}function e(a){return s=a,q=Al(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?Rk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===da||c>=b||c<0||u&&d>=o}function h(){var a=bm();if(g(a))return i(a);q=Al(h,f(a))}function i(a){return q=da,v&&m?d(a):(m=n=da,p)}function j(){q!==da&&sl(q),s=0,m=r=n=q=da}function k(){return q===da?p:i(bm())}function l(){var a=bm(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===da)return e(r);if(u)return sl(q),q=Al(h,b),d(r)}return q===da&&(q=Al(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new hk(ga);return b=vi(b)||0,bi(c)&&(t=!!c.leading,u="maxWait"in c,o=u?Qk(vi(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function Bh(a){return ff(a,za)}function Ch(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new hk(ga);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(Ch.Cache||hc),c}function Dh(a){if("function"!=typeof a)throw new hk(ga);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Eh(a){return xh(2,a)}function Fh(a,b){if("function"!=typeof a)throw new hk(ga);return b=b===da?b:ti(b),ae(a,b)}function Gh(a,b){if("function"!=typeof a)throw new hk(ga);return b=null==b?0:Qk(ti(b),0),ae(function(c){var d=c[b],f=we(c,0,b);return d&&n(f,d),e(a,this,f)})}function Hh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new hk(ga);return bi(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Ah(a,b,{leading:d,maxWait:b,trailing:e})}function Ih(a){return wh(a,1)}function Jh(a,b){return hm(ue(b),a)}function Kh(){if(!arguments.length)return[];var a=arguments[0];return nm(a)?a:[a]}function Lh(a){return bd(a,na)}function Mh(a,b){return b="function"==typeof b?b:da,bd(a,na,b)}function Nh(a){return bd(a,la|na)}function Oh(a,b){return b="function"==typeof b?b:da,bd(a,la|na,b)}function Ph(a,b){return null==b||dd(a,b,Li(b))}function Qh(a,b){return a===b||a!==a&&b!==b}function Rh(a){return null!=a&&ai(a.length)&&!$h(a)}function Sh(a){return ci(a)&&Rh(a)}function Th(a){return!0===a||!1===a||ci(a)&&qd(a)==Ra}function Uh(a){return ci(a)&&1===a.nodeType&&!ki(a)}function Vh(a){if(null==a)return!0;if(Rh(a)&&(nm(a)||"string"==typeof a||"function"==typeof a.splice||pm(a)||um(a)||mm(a)))return!a.length;var b=xl(a);if(b==Xa||b==bb)return!a.size;if(Lf(a))return!Kd(a).length;for(var c in a)if(nk.call(a,c))return!1;return!0}function Wh(a,b){return Bd(a,b)}function Xh(a,b,c){c="function"==typeof c?c:da;var d=c?c(a,b):da;return d===da?Bd(a,b,da,c):!!d}function Yh(a){if(!ci(a))return!1;var b=qd(a);return b==Ua||b==Ta||"string"==typeof a.message&&"string"==typeof a.name&&!ki(a)}function Zh(a){return"number"==typeof a&&Nk(a)}function $h(a){if(!bi(a))return!1;var b=qd(a);return b==Va||b==Wa||b==Qa||b==_a}function _h(a){return"number"==typeof a&&a==ti(a)}function ai(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=Ha}function bi(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function ci(a){return null!=a&&"object"==typeof a}function di(a,b){return a===b||Ed(a,b,uf(b))}function ei(a,b,c){return c="function"==typeof c?c:da,Ed(a,b,uf(b),c)}function fi(a){return ji(a)&&a!=+a}function gi(a){if(yl(a))throw new bk(fa);return Fd(a)}function hi(a){return null===a}function ii(a){return null==a}function ji(a){return"number"==typeof a||ci(a)&&qd(a)==Ya}function ki(a){if(!ci(a)||qd(a)!=$a)return!1;var b=yk(a);if(null===b)return!0;var c=nk.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&mk.call(c)==rk}function li(a){return _h(a)&&a>=-Ha&&a<=Ha}function mi(a){return"string"==typeof a||!nm(a)&&ci(a)&&qd(a)==cb}function ni(a){return"symbol"==typeof a||ci(a)&&qd(a)==db}function oi(a){return a===da}function pi(a){return ci(a)&&xl(a)==fb}function qi(a){return ci(a)&&qd(a)==gb}function ri(a){if(!a)return[];if(Rh(a))return mi(a)?$(a):He(a);if(Dk&&a[Dk])return R(a[Dk]());var b=xl(a);return(b==Xa?S:b==bb?V:Yi)(a)}function si(a){if(!a)return 0===a?a:0;if((a=vi(a))===Ga||a===-Ga){return(a<0?-1:1)*Ia}return a===a?a:0}function ti(a){var b=si(a),c=b%1;return b===b?c?b-c:b:0}function ui(a){return a?ad(ti(a),0,Ka):0}function vi(a){if("number"==typeof a)return a;if(ni(a))return Ja;if(bi(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=bi(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=G(a);var c=Sb.test(a);return c||Ub.test(a)?Cc(a.slice(2),c?2:8):Rb.test(a)?Ja:+a}function wi(a){return Ie(a,Mi(a))}function xi(a){return a?ad(ti(a),-Ha,Ha):0===a?a:0}function yi(a){return null==a?"":le(a)}function zi(a,b){var c=kl(a);return null==b?c:Yc(c,b)}function Ai(a,b){return t(a,sf(b,3),ld)}function Bi(a,b){return t(a,sf(b,3),md)}function Ci(a,b){return null==a?a:nl(a,sf(b,3),Mi)}function Di(a,b){return null==a?a:ol(a,sf(b,3),Mi)}function Ei(a,b){return a&&ld(a,sf(b,3))}function Fi(a,b){return a&&md(a,sf(b,3))}function Gi(a){return null==a?[]:nd(a,Li(a))}function Hi(a){return null==a?[]:nd(a,Mi(a))}function Ii(a,b,c){var d=null==a?da:od(a,b);return d===da?c:d}function Ji(a,b){return null!=a&&zf(a,b,sd)}function Ki(a,b){return null!=a&&zf(a,b,td)}function Li(a){return Rh(a)?Ec(a):Kd(a)}function Mi(a){return Rh(a)?Ec(a,!0):Ld(a)}function Ni(a,b){var c={};return b=sf(b,3),ld(a,function(a,d,e){$c(c,b(a,d,e),a)}),c}function Oi(a,b){var c={};return b=sf(b,3),ld(a,function(a,d,e){$c(c,d,b(a,d,e))}),c}function Pi(a,b){return Qi(a,Dh(sf(b)))}function Qi(a,b){if(null==a)return{};var c=m(pf(a),function(a){return[a]});return b=sf(b),Vd(a,c,function(a,c){return b(a,c[0])})}function Ri(a,b,c){b=ve(b,a);var d=-1,e=b.length;for(e||(e=1,a=da);++d<e;){var f=null==a?da:a[Yf(b[d])];f===da&&(d=e,f=c),a=$h(f)?f.call(a):f}return a}function Si(a,b,c){return null==a?a:de(a,b,c)}function Ti(a,b,c,d){return d="function"==typeof d?d:da,null==a?a:de(a,b,c,d)}function Ui(a,b,c){var d=nm(a),e=d||pm(a)||um(a);if(b=sf(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:bi(a)&&$h(f)?kl(yk(a)):{}}return(e?g:ld)(a,function(a,d,e){return b(c,a,d,e)}),c}function Vi(a,b){return null==a||ne(a,b)}function Wi(a,b,c){return null==a?a:oe(a,b,ue(c))}function Xi(a,b,c,d){return d="function"==typeof d?d:da,null==a?a:oe(a,b,ue(c),d)}function Yi(a){return null==a?[]:I(a,Li(a))}function Zi(a){return null==a?[]:I(a,Mi(a))}function $i(a,b,c){return c===da&&(c=b,b=da),c!==da&&(c=vi(c),c=c===c?c:0),b!==da&&(b=vi(b),b=b===b?b:0),ad(vi(a),b,c)}function _i(a,b,c){return b=si(b),c===da?(c=b,b=0):c=si(c),a=vi(a),ud(a,b,c)}function aj(a,b,c){if(c&&"boolean"!=typeof c&&Gf(a,b,c)&&(b=c=da),c===da&&("boolean"==typeof b?(c=b,b=da):"boolean"==typeof a&&(c=a,a=da)),a===da&&b===da?(a=0,b=1):(a=si(a),b===da?(b=a,a=0):b=si(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Uk();return Rk(a+e*(b-a+Bc("1e-"+((e+"").length-1))),b)}return Zd(a,b)}function bj(a){return Um(yi(a).toLowerCase())}function cj(a){return(a=yi(a))&&a.replace(Wb,Sc).replace(oc,"")}function dj(a,b,c){a=yi(a),b=le(b);var d=a.length;c=c===da?d:ad(ti(c),0,d);var e=c;return(c-=b.length)>=0&&a.slice(c,e)==b}function ej(a){return a=yi(a),a&&yb.test(a)?a.replace(wb,Tc):a}function fj(a){return a=yi(a),a&&Gb.test(a)?a.replace(Fb,"\\$&"):a}function gj(a,b,c){a=yi(a),b=ti(b);var d=b?Z(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return $e(Kk(e),c)+a+$e(Jk(e),c)}function hj(a,b,c){a=yi(a),b=ti(b);var d=b?Z(a):0;return b&&d<b?a+$e(b-d,c):a}function ij(a,b,c){a=yi(a),b=ti(b);var d=b?Z(a):0;return b&&d<b?$e(b-d,c)+a:a}function jj(a,b,c){return c||null==b?b=0:b&&(b=+b),Tk(yi(a).replace(Hb,""),b||0)}function kj(a,b,c){return b=(c?Gf(a,b,c):b===da)?1:ti(b),_d(yi(a),b)}function lj(){var a=arguments,b=yi(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function mj(a,b,c){return c&&"number"!=typeof c&&Gf(a,b,c)&&(b=c=da),(c=c===da?Ka:c>>>0)?(a=yi(a),a&&("string"==typeof b||null!=b&&!sm(b))&&!(b=le(b))&&P(a)?we($(a),0,c):a.split(b,c)):[]}function nj(a,b,c){return a=yi(a),c=null==c?0:ad(ti(c),0,a.length),b=le(b),a.slice(c,c+b.length)==b}function oj(a,b,d){var e=c.templateSettings;d&&Gf(a,b,d)&&(b=da),a=yi(a),b=zm({},b,e,gf);var f,g,h=zm({},b.imports,e.imports,gf),i=Li(h),j=I(h,i),k=0,l=b.interpolate||Xb,m="__p += '",n=fk((b.escape||Xb).source+"|"+l.source+"|"+(l===Bb?Pb:Xb).source+"|"+(b.evaluate||Xb).source+"|$","g"),o="//# sourceURL="+(nk.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uc+"]")+"\n";a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(Yb,N),c&&(f=!0,m+="' +\n__e("+c+") +\n'"),h&&(g=!0,m+="';\n"+h+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=nk.call(b,"variable")&&b.variable;if(p){if(Nb.test(p))throw new bk(ha)}else m="with (obj) {\n"+m+"\n}\n";m=(g?m.replace(sb,""):m).replace(tb,"$1").replace(ub,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q=Vm(function(){return ck(i,o+"return "+m).apply(da,j)});if(q.source=m,Yh(q))throw q;return q}function pj(a){return yi(a).toLowerCase()}function qj(a){return yi(a).toUpperCase()}function rj(a,b,c){if((a=yi(a))&&(c||b===da))return G(a);if(!a||!(b=le(b)))return a;var d=$(a),e=$(b);return we(d,K(d,e),L(d,e)+1).join("")}function sj(a,b,c){if((a=yi(a))&&(c||b===da))return a.slice(0,_(a)+1);if(!a||!(b=le(b)))return a;var d=$(a);return we(d,0,L(d,$(b))+1).join("")}function tj(a,b,c){if((a=yi(a))&&(c||b===da))return a.replace(Hb,"");if(!a||!(b=le(b)))return a;var d=$(a);return we(d,K(d,$(b))).join("")}function uj(a,b){var c=Aa,d=Ba;if(bi(b)){var e="separator"in b?b.separator:e;c="length"in b?ti(b.length):c,d="omission"in b?le(b.omission):d}a=yi(a);var f=a.length;if(P(a)){var g=$(a);f=g.length}if(c>=f)return a;var h=c-Z(d);if(h<1)return d;var i=g?we(g,0,h).join(""):a.slice(0,h);if(e===da)return i+d;if(g&&(h+=i.length-h),sm(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=fk(e.source,yi(Qb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===da?h:l)}}else if(a.indexOf(le(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function vj(a){return a=yi(a),a&&xb.test(a)?a.replace(vb,Uc):a}function wj(a,b,c){return a=yi(a),b=c?da:b,b===da?Q(a)?ca(a):s(a):a.match(b)||[]}function xj(a){var b=null==a?0:a.length,c=sf();return a=b?m(a,function(a){if("function"!=typeof a[1])throw new hk(ga);return[c(a[0]),a[1]]}):[],ae(function(c){for(var d=-1;++d<b;){var f=a[d];if(e(f[0],this,c))return e(f[1],this,c)}})}function yj(a){return cd(bd(a,la))}function zj(a){return function(){return a}}function Aj(a,b){return null==a||a!==a?b:a}function Bj(a){return a}function Cj(a){return Jd("function"==typeof a?a:bd(a,la))}function Dj(a){return Od(bd(a,la))}function Ej(a,b){return Pd(a,bd(b,la))}function Fj(a,b,c){var d=Li(b),e=nd(b,d);null!=c||bi(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=nd(b,Li(b)));var f=!(bi(c)&&"chain"in c&&!c.chain),h=$h(a);return g(e,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);return(c.__actions__=He(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,n([this.value()],arguments))})}),a}function Gj(){return Fc._===this&&(Fc._=sk),this}function Hj(){}function Ij(a){return a=ti(a),ae(function(b){return Sd(b,a)})}function Jj(a){return Hf(a)?z(Yf(a)):Wd(a)}function Kj(a){return function(b){return null==a?da:od(a,b)}}function Lj(){return[]}function Mj(){return!1}function Nj(){return{}}function Oj(){return""}function Pj(){return!0}function Qj(a,b){if((a=ti(a))<1||a>Ha)return[];var c=Ka,d=Rk(a,Ka);b=sf(b),a-=Ka;for(var e=E(d,b);++c<a;)b(c);return e}function Rj(a){return nm(a)?m(a,Yf):ni(a)?[a]:He(Cl(yi(a)))}function Sj(a){var b=++ok;return yi(a)+b}function Tj(a){return a&&a.length?hd(a,Bj,rd):da}function Uj(a,b){return a&&a.length?hd(a,sf(b,2),rd):da}function Vj(a){return y(a,Bj)}function Wj(a,b){return y(a,sf(b,2))}function Xj(a){return a&&a.length?hd(a,Bj,Md):da}function Yj(a,b){return a&&a.length?hd(a,sf(b,2),Md):da}function Zj(a){return a&&a.length?D(a,Bj):0}function $j(a,b){return a&&a.length?D(a,sf(b,2)):0}b=null==b?Fc:Vc.defaults(Fc.Object(),b,Vc.pick(Fc,tc));var _j=b.Array,ak=b.Date,bk=b.Error,ck=b.Function,dk=b.Math,ek=b.Object,fk=b.RegExp,gk=b.String,hk=b.TypeError,ik=_j.prototype,jk=ck.prototype,kk=ek.prototype,lk=b["__core-js_shared__"],mk=jk.toString,nk=kk.hasOwnProperty,ok=0,pk=function(){var a=/[^.]+$/.exec(lk&&lk.keys&&lk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),qk=kk.toString,rk=mk.call(ek),sk=Fc._,tk=fk("^"+mk.call(nk).replace(Fb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uk=Ic?b.Buffer:da,vk=b.Symbol,wk=b.Uint8Array,xk=uk?uk.allocUnsafe:da,yk=T(ek.getPrototypeOf,ek),zk=ek.create,Ak=kk.propertyIsEnumerable,Bk=ik.splice,Ck=vk?vk.isConcatSpreadable:da,Dk=vk?vk.iterator:da,Ek=vk?vk.toStringTag:da,Fk=function(){try{var a=vf(ek,"defineProperty");return a({},"",{}),a}catch(a){}}(),Gk=b.clearTimeout!==Fc.clearTimeout&&b.clearTimeout,Hk=ak&&ak.now!==Fc.Date.now&&ak.now,Ik=b.setTimeout!==Fc.setTimeout&&b.setTimeout,Jk=dk.ceil,Kk=dk.floor,Lk=ek.getOwnPropertySymbols,Mk=uk?uk.isBuffer:da,Nk=b.isFinite,Ok=ik.join,Pk=T(ek.keys,ek),Qk=dk.max,Rk=dk.min,Sk=ak.now,Tk=b.parseInt,Uk=dk.random,Vk=ik.reverse,Wk=vf(b,"DataView"),Xk=vf(b,"Map"),Yk=vf(b,"Promise"),Zk=vf(b,"Set"),$k=vf(b,"WeakMap"),_k=vf(ek,"create"),al=$k&&new $k,bl={},cl=Zf(Wk),dl=Zf(Xk),el=Zf(Yk),fl=Zf(Zk),gl=Zf($k),hl=vk?vk.prototype:da,il=hl?hl.valueOf:da,jl=hl?hl.toString:da,kl=function(){function a(){}return function(b){if(!bi(b))return{};if(zk)return zk(b);a.prototype=b;var c=new a;return a.prototype=da,c}}();c.templateSettings={escape:zb,evaluate:Ab,interpolate:Bb,variable:"",imports:{_:c}},c.prototype=d.prototype,c.prototype.constructor=c,r.prototype=kl(d.prototype),r.prototype.constructor=r,A.prototype=kl(d.prototype),A.prototype.constructor=A,Ib.prototype.clear=Mb,Ib.prototype.delete=Zb,Ib.prototype.get=$b,Ib.prototype.has=_b,Ib.prototype.set=ac,bc.prototype.clear=cc,bc.prototype.delete=dc,bc.prototype.get=ec,bc.prototype.has=fc,bc.prototype.set=gc,hc.prototype.clear=ic,hc.prototype.delete=jc,hc.prototype.get=kc,hc.prototype.has=lc,hc.prototype.set=mc,pc.prototype.add=pc.prototype.push=qc,pc.prototype.has=rc,sc.prototype.clear=xc,sc.prototype.delete=yc,sc.prototype.get=zc,sc.prototype.has=Ac,sc.prototype.set=Dc;var ll=Ne(ld),ml=Ne(md,!0),nl=Oe(),ol=Oe(!0),pl=al?function(a,b){return al.set(a,b),a}:Bj,ql=Fk?function(a,b){return Fk(a,"toString",{configurable:!0,enumerable:!1,value:zj(b),writable:!0})}:Bj,rl=ae,sl=Gk||function(a){return Fc.clearTimeout(a)},tl=Zk&&1/V(new Zk([,-0]))[1]==Ga?function(a){return new Zk(a)}:Hj,ul=al?function(a){return al.get(a)}:Hj,vl=Lk?function(a){return null==a?[]:(a=ek(a),j(Lk(a),function(b){return Ak.call(a,b)}))}:Lj,wl=Lk?function(a){for(var b=[];a;)n(b,vl(a)),a=yk(a);return b}:Lj,xl=qd;(Wk&&xl(new Wk(new ArrayBuffer(1)))!=ib||Xk&&xl(new Xk)!=Xa||Yk&&"[object Promise]"!=xl(Yk.resolve())||Zk&&xl(new Zk)!=bb||$k&&xl(new $k)!=fb)&&(xl=function(a){var b=qd(a),c=b==$a?a.constructor:da,d=c?Zf(c):"";if(d)switch(d){case cl:return ib;case dl:return Xa;case el:return"[object Promise]";case fl:return bb;case gl:return fb}return b});var yl=lk?$h:Mj,zl=Wf(pl),Al=Ik||function(a,b){return Fc.setTimeout(a,b)},Bl=Wf(ql),Cl=function(a){var b=Ch(a,function(a){return c.size===ja&&c.clear(),a}),c=b.cache;return b}(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(Eb,function(a,c,d,e){b.push(d?e.replace(Ob,"$1"):c||a)}),b}),Dl=ae(function(a,b){return Sh(a)?fd(a,kd(b,1,Sh,!0)):[]}),El=ae(function(a,b){var c=sg(b);return Sh(c)&&(c=da),Sh(a)?fd(a,kd(b,1,Sh,!0),sf(c,2)):[]}),Fl=ae(function(a,b){var c=sg(b);return Sh(c)&&(c=da),Sh(a)?fd(a,kd(b,1,Sh,!0),da,c):[]}),Gl=ae(function(a){var b=m(a,te);return b.length&&b[0]===a[0]?vd(b):[]}),Hl=ae(function(a){var b=sg(a),c=m(a,te);return b===sg(c)?b=da:c.pop(),c.length&&c[0]===a[0]?vd(c,sf(b,2)):[]}),Il=ae(function(a){var b=sg(a),c=m(a,te);return b="function"==typeof b?b:da,b&&c.pop(),c.length&&c[0]===a[0]?vd(c,da,b):[]}),Jl=ae(vg),Kl=nf(function(a,b){var c=null==a?0:a.length,d=_c(a,b);return Yd(a,m(b,function(a){return Ff(a,c)?+a:a}).sort(De)),d}),Ll=ae(function(a){return me(kd(a,1,Sh,!0))}),Ml=ae(function(a){var b=sg(a);return Sh(b)&&(b=da),me(kd(a,1,Sh,!0),sf(b,2))}),Nl=ae(function(a){var b=sg(a);return b="function"==typeof b?b:da,me(kd(a,1,Sh,!0),da,b)}),Ol=ae(function(a,b){return Sh(a)?fd(a,b):[]}),Pl=ae(function(a){return re(j(a,Sh))}),Ql=ae(function(a){var b=sg(a);return Sh(b)&&(b=da),re(j(a,Sh),sf(b,2))}),Rl=ae(function(a){var b=sg(a);return b="function"==typeof b?b:da,re(j(a,Sh),da,b)}),Sl=ae(Rg),Tl=ae(function(a){var b=a.length,c=b>1?a[b-1]:da;return c="function"==typeof c?(a.pop(),c):da,Sg(a,c)}),Ul=nf(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return _c(b,a)};return!(b>1||this.__actions__.length)&&d instanceof A&&Ff(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:Xg,args:[e],thisArg:da}),new r(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(da),a})):this.thru(e)}),Vl=Le(function(a,b,c){nk.call(a,c)?++a[c]:$c(a,c,1)}),Wl=Ue(ig),Xl=Ue(jg),Yl=Le(function(a,b,c){nk.call(a,c)?a[c].push(b):$c(a,c,[b])}),Zl=ae(function(a,b,c){var d=-1,f="function"==typeof b,g=Rh(a)?_j(a.length):[];return ll(a,function(a){g[++d]=f?e(b,a,c):xd(a,b,c)}),g}),$l=Le(function(a,b,c){$c(a,c,b)}),_l=Le(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),am=ae(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Gf(a,b[0],b[1])?b=[]:c>2&&Gf(b[0],b[1],b[2])&&(b=[b[0]]),Td(a,kd(b,1),[])}),bm=Hk||function(){return Fc.Date.now()},cm=ae(function(a,b,c){var d=qa;if(c.length){var e=U(c,rf(cm));d|=va}return ff(a,d,b,c,e)}),dm=ae(function(a,b,c){var d=qa|ra;if(c.length){var e=U(c,rf(dm));d|=va}return ff(b,d,a,c,e)}),em=ae(function(a,b){return ed(a,1,b)}),fm=ae(function(a,b,c){return ed(a,vi(b)||0,c)});Ch.Cache=hc;var gm=rl(function(a,b){b=1==b.length&&nm(b[0])?m(b[0],H(sf())):m(kd(b,1),H(sf()));var c=b.length;return ae(function(d){for(var f=-1,g=Rk(d.length,c);++f<g;)d[f]=b[f].call(this,d[f]);return e(a,this,d)})}),hm=ae(function(a,b){var c=U(b,rf(hm));return ff(a,va,da,b,c)}),im=ae(function(a,b){var c=U(b,rf(im));return ff(a,wa,da,b,c)}),jm=nf(function(a,b){return ff(a,ya,da,da,da,b)}),km=bf(rd),lm=bf(function(a,b){return a>=b}),mm=yd(function(){return arguments}())?yd:function(a){return ci(a)&&nk.call(a,"callee")&&!Ak.call(a,"callee")},nm=_j.isArray,om=Lc?H(Lc):zd,pm=Mk||Mj,qm=Mc?H(Mc):Ad,rm=Nc?H(Nc):Dd,sm=Oc?H(Oc):Gd,tm=Pc?H(Pc):Hd,um=Qc?H(Qc):Id,vm=bf(Md),wm=bf(function(a,b){return a<=b}),xm=Me(function(a,b){if(Lf(b)||Rh(b))return void Ie(b,Li(b),a);for(var c in b)nk.call(b,c)&&Rc(a,c,b[c])}),ym=Me(function(a,b){Ie(b,Mi(b),a)}),zm=Me(function(a,b,c,d){Ie(b,Mi(b),a,d)}),Am=Me(function(a,b,c,d){Ie(b,Li(b),a,d)}),Bm=nf(_c),Cm=ae(function(a,b){a=ek(a);var c=-1,d=b.length,e=d>2?b[2]:da;for(e&&Gf(b[0],b[1],e)&&(d=1);++c<d;)for(var f=b[c],g=Mi(f),h=-1,i=g.length;++h<i;){var j=g[h],k=a[j];(k===da||Qh(k,kk[j])&&!nk.call(a,j))&&(a[j]=f[j])}return a}),Dm=ae(function(a){return a.push(da,hf),e(Im,da,a)}),Em=Xe(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=qk.call(b)),a[b]=c},zj(Bj)),Fm=Xe(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=qk.call(b)),nk.call(a,b)?a[b].push(c):a[b]=[c]},sf),Gm=ae(xd),Hm=Me(function(a,b,c){Qd(a,b,c)}),Im=Me(function(a,b,c,d){Qd(a,b,c,d)}),Jm=nf(function(a,b){var c={};if(null==a)return c;var d=!1;b=m(b,function(b){return b=ve(b,a),d||(d=b.length>1),b}),Ie(a,pf(a),c),d&&(c=bd(c,la|ma|na,jf));for(var e=b.length;e--;)ne(c,b[e]);return c}),Km=nf(function(a,b){return null==a?{}:Ud(a,b)}),Lm=ef(Li),Mm=ef(Mi),Nm=Re(function(a,b,c){return b=b.toLowerCase(),a+(c?bj(b):b)}),Om=Re(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Pm=Re(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Qm=Qe("toLowerCase"),Rm=Re(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Sm=Re(function(a,b,c){return a+(c?" ":"")+Um(b)}),Tm=Re(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),Um=Qe("toUpperCase"),Vm=ae(function(a,b){try{return e(a,da,b)}catch(a){return Yh(a)?a:new bk(a)}}),Wm=nf(function(a,b){return g(b,function(b){b=Yf(b),$c(a,b,cm(a[b],a))}),a}),Xm=Ve(),Ym=Ve(!0),Zm=ae(function(a,b){return function(c){return xd(c,a,b)}}),$m=ae(function(a,b){return function(c){return xd(a,c,b)}}),_m=Ze(m),an=Ze(i),bn=Ze(q),cn=af(),dn=af(!0),en=Ye(function(a,b){return a+b},0),fn=df("ceil"),gn=Ye(function(a,b){return a/b},1),hn=df("floor"),jn=Ye(function(a,b){return a*b},1),kn=df("round"),ln=Ye(function(a,b){return a-b},0);return c.after=vh,c.ary=wh,c.assign=xm,c.assignIn=ym,c.assignInWith=zm,c.assignWith=Am,c.at=Bm,c.before=xh,c.bind=cm,c.bindAll=Wm,c.bindKey=dm,c.castArray=Kh,c.chain=Vg,c.chunk=ag,c.compact=bg,c.concat=cg,c.cond=xj,c.conforms=yj,c.constant=zj,c.countBy=Vl,c.create=zi,c.curry=yh,c.curryRight=zh,c.debounce=Ah,c.defaults=Cm,c.defaultsDeep=Dm,c.defer=em,c.delay=fm,c.difference=Dl,c.differenceBy=El,c.differenceWith=Fl,c.drop=dg,c.dropRight=eg,c.dropRightWhile=fg,c.dropWhile=gg,c.fill=hg,c.filter=eh,c.flatMap=fh,c.flatMapDeep=gh,c.flatMapDepth=hh,c.flatten=kg,c.flattenDeep=lg,c.flattenDepth=mg,c.flip=Bh,c.flow=Xm,c.flowRight=Ym,c.fromPairs=ng,c.functions=Gi,c.functionsIn=Hi,c.groupBy=Yl,c.initial=qg,c.intersection=Gl,c.intersectionBy=Hl,c.intersectionWith=Il,c.invert=Em,c.invertBy=Fm,c.invokeMap=Zl,c.iteratee=Cj,c.keyBy=$l,c.keys=Li,c.keysIn=Mi,c.map=lh,c.mapKeys=Ni,c.mapValues=Oi,c.matches=Dj,c.matchesProperty=Ej,c.memoize=Ch,c.merge=Hm,c.mergeWith=Im,c.method=Zm,c.methodOf=$m,c.mixin=Fj,c.negate=Dh,c.nthArg=Ij,c.omit=Jm,c.omitBy=Pi,c.once=Eh,c.orderBy=mh,c.over=_m,c.overArgs=gm,c.overEvery=an,c.overSome=bn,c.partial=hm,c.partialRight=im,c.partition=_l,c.pick=Km,c.pickBy=Qi,c.property=Jj,c.propertyOf=Kj,
c.pull=Jl,c.pullAll=vg,c.pullAllBy=wg,c.pullAllWith=xg,c.pullAt=Kl,c.range=cn,c.rangeRight=dn,c.rearg=jm,c.reject=ph,c.remove=yg,c.rest=Fh,c.reverse=zg,c.sampleSize=rh,c.set=Si,c.setWith=Ti,c.shuffle=sh,c.slice=Ag,c.sortBy=am,c.sortedUniq=Hg,c.sortedUniqBy=Ig,c.split=mj,c.spread=Gh,c.tail=Jg,c.take=Kg,c.takeRight=Lg,c.takeRightWhile=Mg,c.takeWhile=Ng,c.tap=Wg,c.throttle=Hh,c.thru=Xg,c.toArray=ri,c.toPairs=Lm,c.toPairsIn=Mm,c.toPath=Rj,c.toPlainObject=wi,c.transform=Ui,c.unary=Ih,c.union=Ll,c.unionBy=Ml,c.unionWith=Nl,c.uniq=Og,c.uniqBy=Pg,c.uniqWith=Qg,c.unset=Vi,c.unzip=Rg,c.unzipWith=Sg,c.update=Wi,c.updateWith=Xi,c.values=Yi,c.valuesIn=Zi,c.without=Ol,c.words=wj,c.wrap=Jh,c.xor=Pl,c.xorBy=Ql,c.xorWith=Rl,c.zip=Sl,c.zipObject=Tg,c.zipObjectDeep=Ug,c.zipWith=Tl,c.entries=Lm,c.entriesIn=Mm,c.extend=ym,c.extendWith=zm,Fj(c,c),c.add=en,c.attempt=Vm,c.camelCase=Nm,c.capitalize=bj,c.ceil=fn,c.clamp=$i,c.clone=Lh,c.cloneDeep=Nh,c.cloneDeepWith=Oh,c.cloneWith=Mh,c.conformsTo=Ph,c.deburr=cj,c.defaultTo=Aj,c.divide=gn,c.endsWith=dj,c.eq=Qh,c.escape=ej,c.escapeRegExp=fj,c.every=dh,c.find=Wl,c.findIndex=ig,c.findKey=Ai,c.findLast=Xl,c.findLastIndex=jg,c.findLastKey=Bi,c.floor=hn,c.forEach=ih,c.forEachRight=jh,c.forIn=Ci,c.forInRight=Di,c.forOwn=Ei,c.forOwnRight=Fi,c.get=Ii,c.gt=km,c.gte=lm,c.has=Ji,c.hasIn=Ki,c.head=og,c.identity=Bj,c.includes=kh,c.indexOf=pg,c.inRange=_i,c.invoke=Gm,c.isArguments=mm,c.isArray=nm,c.isArrayBuffer=om,c.isArrayLike=Rh,c.isArrayLikeObject=Sh,c.isBoolean=Th,c.isBuffer=pm,c.isDate=qm,c.isElement=Uh,c.isEmpty=Vh,c.isEqual=Wh,c.isEqualWith=Xh,c.isError=Yh,c.isFinite=Zh,c.isFunction=$h,c.isInteger=_h,c.isLength=ai,c.isMap=rm,c.isMatch=di,c.isMatchWith=ei,c.isNaN=fi,c.isNative=gi,c.isNil=ii,c.isNull=hi,c.isNumber=ji,c.isObject=bi,c.isObjectLike=ci,c.isPlainObject=ki,c.isRegExp=sm,c.isSafeInteger=li,c.isSet=tm,c.isString=mi,c.isSymbol=ni,c.isTypedArray=um,c.isUndefined=oi,c.isWeakMap=pi,c.isWeakSet=qi,c.join=rg,c.kebabCase=Om,c.last=sg,c.lastIndexOf=tg,c.lowerCase=Pm,c.lowerFirst=Qm,c.lt=vm,c.lte=wm,c.max=Tj,c.maxBy=Uj,c.mean=Vj,c.meanBy=Wj,c.min=Xj,c.minBy=Yj,c.stubArray=Lj,c.stubFalse=Mj,c.stubObject=Nj,c.stubString=Oj,c.stubTrue=Pj,c.multiply=jn,c.nth=ug,c.noConflict=Gj,c.noop=Hj,c.now=bm,c.pad=gj,c.padEnd=hj,c.padStart=ij,c.parseInt=jj,c.random=aj,c.reduce=nh,c.reduceRight=oh,c.repeat=kj,c.replace=lj,c.result=Ri,c.round=kn,c.runInContext=a,c.sample=qh,c.size=th,c.snakeCase=Rm,c.some=uh,c.sortedIndex=Bg,c.sortedIndexBy=Cg,c.sortedIndexOf=Dg,c.sortedLastIndex=Eg,c.sortedLastIndexBy=Fg,c.sortedLastIndexOf=Gg,c.startCase=Sm,c.startsWith=nj,c.subtract=ln,c.sum=Zj,c.sumBy=$j,c.template=oj,c.times=Qj,c.toFinite=si,c.toInteger=ti,c.toLength=ui,c.toLower=pj,c.toNumber=vi,c.toSafeInteger=xi,c.toString=yi,c.toUpper=qj,c.trim=rj,c.trimEnd=sj,c.trimStart=tj,c.truncate=uj,c.unescape=vj,c.uniqueId=Sj,c.upperCase=Tm,c.upperFirst=Um,c.each=ih,c.eachRight=jh,c.first=og,Fj(c,function(){var a={};return ld(c,function(b,d){nk.call(c.prototype,d)||(a[d]=b)}),a}(),{chain:!1}),c.VERSION="4.17.21",g(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){c[a].placeholder=c}),g(["drop","take"],function(a,b){A.prototype[a]=function(c){c=c===da?1:Qk(ti(c),0);var d=this.__filtered__&&!b?new A(this):this.clone();return d.__filtered__?d.__takeCount__=Rk(c,d.__takeCount__):d.__views__.push({size:Rk(c,Ka),type:a+(d.__dir__<0?"Right":"")}),d},A.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),g(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==Ea||3==c;A.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:sf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),g(["head","last"],function(a,b){var c="take"+(b?"Right":"");A.prototype[a]=function(){return this[c](1).value()[0]}}),g(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");A.prototype[a]=function(){return this.__filtered__?new A(this):this[c](1)}}),A.prototype.compact=function(){return this.filter(Bj)},A.prototype.find=function(a){return this.filter(a).head()},A.prototype.findLast=function(a){return this.reverse().find(a)},A.prototype.invokeMap=ae(function(a,b){return"function"==typeof a?new A(this):this.map(function(c){return xd(c,a,b)})}),A.prototype.reject=function(a){return this.filter(Dh(sf(a)))},A.prototype.slice=function(a,b){a=ti(a);var c=this;return c.__filtered__&&(a>0||b<0)?new A(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==da&&(b=ti(b),c=b<0?c.dropRight(-b):c.take(b-a)),c)},A.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},A.prototype.toArray=function(){return this.take(Ka)},ld(A.prototype,function(a,b){var d=/^(?:filter|find|map|reject)|While$/.test(b),e=/^(?:head|last)$/.test(b),f=c[e?"take"+("last"==b?"Right":""):b],g=e||/^find/.test(b);f&&(c.prototype[b]=function(){var b=this.__wrapped__,h=e?[1]:arguments,i=b instanceof A,j=h[0],k=i||nm(b),l=function(a){var b=f.apply(c,n([a],h));return e&&m?b[0]:b};k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var m=this.__chain__,o=!!this.__actions__.length,p=g&&!m,q=i&&!o;if(!g&&k){b=q?b:new A(this);var s=a.apply(b,h);return s.__actions__.push({func:Xg,args:[l],thisArg:da}),new r(s,m)}return p&&q?a.apply(this,h):(s=this.thru(l),p?e?s.value()[0]:s.value():s)})}),g(["pop","push","shift","sort","splice","unshift"],function(a){var b=ik[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var c=this.value();return b.apply(nm(c)?c:[],a)}return this[d](function(c){return b.apply(nm(c)?c:[],a)})}}),ld(A.prototype,function(a,b){var d=c[b];if(d){var e=d.name+"";nk.call(bl,e)||(bl[e]=[]),bl[e].push({name:b,func:d})}}),bl[We(da,ra).name]=[{name:"wrapper",func:da}],A.prototype.clone=X,A.prototype.reverse=aa,A.prototype.value=ba,c.prototype.at=Ul,c.prototype.chain=Yg,c.prototype.commit=Zg,c.prototype.next=$g,c.prototype.plant=ah,c.prototype.reverse=bh,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=ch,c.prototype.first=c.prototype.head,Dk&&(c.prototype[Dk]=_g),c}();"function"==typeof d&&"object"==typeof d.amd&&d.amd?(Fc._=Vc,d(function(){return Vc})):Hc?((Hc.exports=Vc)._=Vc,Gc._=Vc):Fc._=Vc}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],281:[function(a,b,c){function d(a,b){return(h(a)?e:g)(a,f(b,3))}var e=a("./_arrayMap"),f=a("./_baseIteratee"),g=a("./_baseMap"),h=a("./isArray");b.exports=d},{"./_arrayMap":138,"./_baseIteratee":165,"./_baseMap":167,"./isArray":269}],282:[function(a,b,c){function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(f);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(d.Cache||e),c}var e=a("./_MapCache"),f="Expected a function";d.Cache=e,b.exports=d},{"./_MapCache":125}],283:[function(a,b,c){function d(a){return g(a)?e(h(a)):f(a)}var e=a("./_baseProperty"),f=a("./_basePropertyDeep"),g=a("./_isKey"),h=a("./_toKey");b.exports=d},{"./_baseProperty":170,"./_basePropertyDeep":171,"./_isKey":214,"./_toKey":252}],284:[function(a,b,c){function d(a,b,c){return a=h(a),c=null==c?0:e(g(c),0,a.length),b=f(b),a.slice(c,c+b.length)==b}var e=a("./_baseClamp"),f=a("./_baseToString"),g=a("./toInteger"),h=a("./toString");b.exports=d},{"./_baseClamp":145,"./_baseToString":176,"./toInteger":288,"./toString":290}],285:[function(a,b,c){function d(){return[]}b.exports=d},{}],286:[function(a,b,c){function d(){return!1}b.exports=d},{}],287:[function(a,b,c){function d(a){if(!a)return 0===a?a:0;if((a=e(a))===f||a===-f){return(a<0?-1:1)*g}return a===a?a:0}var e=a("./toNumber"),f=1/0,g=1.7976931348623157e308;b.exports=d},{"./toNumber":289}],288:[function(a,b,c){function d(a){var b=e(a),c=b%1;return b===b?c?b-c:b:0}var e=a("./toFinite");b.exports=d},{"./toFinite":287}],289:[function(a,b,c){function d(a){if("number"==typeof a)return a;if(g(a))return h;if(f(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=f(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=e(a);var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?h:+a}var e=a("./_baseTrim"),f=a("./isObject"),g=a("./isSymbol"),h=NaN,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;b.exports=d},{"./_baseTrim":177,"./isObject":275,"./isSymbol":277}],290:[function(a,b,c){function d(a){return null==a?"":e(a)}var e=a("./_baseToString");b.exports=d},{"./_baseToString":176}],291:[function(a,b,c){function d(a,b,c){if((a=i(a))&&(c||void 0===b))return a.slice(0,j(a)+1);if(!a||!(b=e(b)))return a;var d=h(a),k=g(d,h(b))+1;return f(d,0,k).join("")}var e=a("./_baseToString"),f=a("./_castSlice"),g=a("./_charsEndIndex"),h=a("./_stringToArray"),i=a("./toString"),j=a("./_trimmedEndIndex");b.exports=d},{"./_baseToString":176,"./_castSlice":183,"./_charsEndIndex":184,"./_stringToArray":250,"./_trimmedEndIndex":254,"./toString":290}],292:[function(a,b,c){function d(a){return null==a?[]:e(a,f(a))}var e=a("./_baseValues"),f=a("./keys");b.exports=d},{"./_baseValues":179,"./keys":279}],293:[function(a,b,c){function d(a){if(a=String(a),!(a.length>100)){var b=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*m;case"weeks":case"week":case"w":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function e(a){var b=Math.abs(a);return b>=k?Math.round(a/k)+"d":b>=j?Math.round(a/j)+"h":b>=i?Math.round(a/i)+"m":b>=h?Math.round(a/h)+"s":a+"ms"}function f(a){var b=Math.abs(a);return b>=k?g(a,b,k,"day"):b>=j?g(a,b,j,"hour"):b>=i?g(a,b,i,"minute"):b>=h?g(a,b,h,"second"):a+" ms"}function g(a,b,c,d){var e=b>=1.5*c;return Math.round(a/c)+" "+d+(e?"s":"")}var h=1e3,i=60*h,j=60*i,k=24*j,l=7*k,m=365.25*k;b.exports=function(a,b){b=b||{};var c=typeof a;if("string"===c&&a.length>0)return d(a);if("number"===c&&!1===isNaN(a))return b.long?f(a):e(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],294:[function(a,b,c){window.MutationObserver=window.MutationObserver||function(a){function b(a){this.i=[],this.m=a}function c(a){!function c(){var d=a.takeRecords();d.length&&a.m(d,a),a.h=setTimeout(c,b._period)}()}function d(b){var c,d={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(c in b)d[c]!==a&&b[c]!==a&&(d[c]=b[c]);return d}function e(a,b){var c=j(a,b);return function(e){var f,g=e.length;b.a&&3===a.nodeType&&a.nodeValue!==c.a&&e.push(new d({type:"characterData",target:a,oldValue:c.a})),b.b&&c.b&&h(e,a,c.b,b.f),(b.c||b.g)&&(f=i(e,a,c,b)),(f||e.length!==g)&&(c=j(a,b))}}function f(a,b){return b.value}function g(a,b){return"style"!==b.name?b.value:a.style.cssText}function h(b,c,e,f){for(var g,h,i={},j=c.attributes,k=j.length;k--;)g=j[k],h=g.name,f&&f[h]===a||(p(c,g)!==e[h]&&b.push(d({type:"attributes",target:c,attributeName:h,oldValue:e[h],attributeNamespace:g.namespaceURI})),i[h]=!0);for(h in e)i[h]||b.push(d({target:c,type:"attributes",attributeName:h,oldValue:e[h]}))}function i(b,c,e,f){function g(a,c,e,g,j){var k=a.length-1;j=-~((k-j)/2);for(var l,m,n;n=a.pop();)l=e[n.j],m=g[n.l],f.c&&j&&Math.abs(n.j-n.l)>=k&&(b.push(d({type:"childList",target:c,addedNodes:[l],removedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),j--),f.b&&m.b&&h(b,l,m.b,f.f),f.a&&3===l.nodeType&&l.nodeValue!==m.a&&b.push(d({type:"characterData",target:l,oldValue:m.a})),f.g&&i(l,m)}function i(c,e){for(var l,m,o,p,q,r=c.childNodes,s=e.c,t=r.length,u=s?s.length:0,v=0,w=0,x=0;w<t||x<u;)p=r[w],q=(o=s[x])&&o.node,p===q?(f.b&&o.b&&h(b,p,o.b,f.f),f.a&&o.a!==a&&p.nodeValue!==o.a&&b.push(d({type:"characterData",target:p,oldValue:o.a})),m&&g(m,c,r,s,v),f.g&&(p.childNodes.length||o.c&&o.c.length)&&i(p,o),w++,x++):(j=!0,l||(l={},m=[]),p&&(l[o=k(p)]||(l[o]=!0,-1===(o=n(s,p,x,"node"))?f.c&&(b.push(d({type:"childList",target:c,addedNodes:[p],nextSibling:p.nextSibling,previousSibling:p.previousSibling})),v++):m.push({j:w,l:o})),w++),q&&q!==r[w]&&(l[o=k(q)]||(l[o]=!0,-1===(o=n(r,q,w))?f.c&&(b.push(d({type:"childList",target:e.node,removedNodes:[q],nextSibling:s[x+1],previousSibling:s[x-1]})),v--):m.push({j:o,l:x})),x++));m&&g(m,c,r,s,v)}var j;return i(c,e),j}function j(a,b){var c=!0;return function a(d){var e={node:d};return!b.a||3!==d.nodeType&&8!==d.nodeType?(b.b&&c&&1===d.nodeType&&(e.b=m(d.attributes,function(a,c){return b.f&&!b.f[c.name]||(a[c.name]=p(d,c)),a})),c&&(b.c||b.a||b.b&&b.g)&&(e.c=l(d.childNodes,a)),c=b.g):e.a=d.nodeValue,e}(a)}function k(a){try{return a.id||(a.mo_id=a.mo_id||q++)}catch(b){try{return a.nodeValue}catch(a){return q++}}}function l(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d,a);return c}function m(a,b){for(var c={},d=0;d<a.length;d++)c=b(c,a[d],d,a);return c}function n(a,b,c,d){for(;c<a.length;c++)if((d?a[c][d]:a[c])===b)return c;return-1}b._period=30,b.prototype={observe:function(a,b){for(var d={b:!!(b.attributes||b.attributeFilter||b.attributeOldValue),c:!!b.childList,g:!!b.subtree,a:!(!b.characterData&&!b.characterDataOldValue)},f=this.i,g=0;g<f.length;g++)f[g].s===a&&f.splice(g,1);b.attributeFilter&&(d.f=m(b.attributeFilter,function(a,b){return a[b]=!0,a})),f.push({s:a,o:e(a,d)}),this.h||c(this)},takeRecords:function(){for(var a=[],b=this.i,c=0;c<b.length;c++)b[c].o(a);return a},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var o=document.createElement("i");o.style.top=0;var p=(o="null"!=o.attributes.style.value)?f:g,q=1;return b}(void 0)},{}],295:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],296:[function(a,b,c){var d=function(){return this}()||Function("return this")(),e=d.regeneratorRuntime&&Object.getOwnPropertyNames(d).indexOf("regeneratorRuntime")>=0,f=e&&d.regeneratorRuntime;if(d.regeneratorRuntime=void 0,b.exports=a("./runtime"),e)d.regeneratorRuntime=f;else try{delete d.regeneratorRuntime}catch(a){d.regeneratorRuntime=void 0}},{"./runtime":297}],297:[function(a,b,c){!function(a){"use strict";function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new n(d||[]);return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(a){function b(c,e,f,g){var h=d(a[c],a,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&s.call(j,"__await")?Promise.resolve(j.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function c(a,c){function d(){return new Promise(function(d,e){b(a,c,d,e)})}return e=e?e.then(d,d):d()}var e;this._invoke=c}function j(a,b,c){var e=z;return function(f,g){if(e===B)throw new Error("Generator is already running");if(e===C){if("throw"===f)throw g;return p()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=k(h,c);if(i){if(i===D)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===z)throw e=C,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=B;var j=d(a,b,c);if("normal"===j.type){if(e=c.done?C:A,j.arg===D)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(e=C,c.method="throw",c.arg=j.arg)}}}function k(a,b){var c=a.iterator[b.method];if(c===q){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=q,k(a,b),"throw"===b.method))return D;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,D;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,D):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[u];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(s.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype,s=r.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},u=t.iterator||"@@iterator",v=t.asyncIterator||"@@asyncIterator",w=t.toStringTag||"@@toStringTag",x="object"==typeof b,y=a.regeneratorRuntime;if(y)return void(x&&(b.exports=y));y=a.regeneratorRuntime=x?b.exports:{},y.wrap=c;var z="suspendedStart",A="suspendedYield",B="executing",C="completed",D={},E={};E[u]=function(){return this};var F=Object.getPrototypeOf,G=F&&F(F(o([])));G&&G!==r&&s.call(G,u)&&(E=G);var H=g.prototype=e.prototype=Object.create(E);f.prototype=H.constructor=g,g.constructor=f,g[w]=f.displayName="GeneratorFunction",y.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},y.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,w in a||(a[w]="GeneratorFunction")),a.prototype=Object.create(H),a},y.awrap=function(a){return{__await:a}},h(i.prototype),i.prototype[v]=function(){return this},y.AsyncIterator=i,y.async=function(a,b,d,e){var f=new i(c(a,b,d,e));return y.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(H),H[w]="Generator",H[u]=function(){return this},H.toString=function(){return"[object Generator]"},y.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},y.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=s.call(e,"catchLoc"),h=s.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,D):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),D}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:o(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),D}}}(function(){return this}()||Function("return this")())},{}],298:[function(a,b,c){"use strict";var e={wildcard:"*",caseSensitive:!0,checkRollbackStrings:function(a,b){for(var c=0;c<a.length;++c)for(var d=a[c].string,e=a[c].index;e<b.length&&-1!==d.indexOf(b[e]);){var f=d.substr(1);for(a.push({string:f,index:e}),-1===f.indexOf(b[e])&&a.pop(),d=d.substr(d.indexOf(b[e])+b[e].length),e++;""===b[e];)e++;if(e>=b.length){if(""!==b[b.length-1]&&d.length>0)break;return!0}}return!1},match:function(a,b){if(-1===a.indexOf(e.wildcard))return a===b;e.caseSensitive||(a=a.toLowerCase(),b=b.toLowerCase());for(var c=a.split(e.wildcard),d=0,f=b;""===c[d];)if(++d===a.length)return!0;if(0===d&&0!==b.indexOf(c[0]))return!1;for(var g=[];d<c.length;){if(-1===f.indexOf(c[d]))return e.checkRollbackStrings(g,c);var h=f.substr(1);for(g.push({string:h,index:d}),-1===h.indexOf(c[d])&&g.pop(),f=f.substr(f.indexOf(c[d])+c[d].length),d++;""===c[d];)d++}return!(d>=c.length&&""!==c[c.length-1]&&f.length>0)||f!==b&&e.checkRollbackStrings(g,c)},replace:function(a,b){if(void 0===a||void 0===b)throw new Error("wildstring.replace takes the pattern as one parameter and either a string or an array of strings as the second.  You didn't pass enough parameters.");if("string"==typeof b)return a.replace(e.wildcard,b);if(!Array.isArray(b)||"string"!=typeof a)throw new Error("wildstring.replace takes the pattern as one parameter and either a string or an array of strings as the second.  Your parameter types are incorrect.");if(-1===a.indexOf(e.wildcard))return a;var c=a.split(e.wildcard);if(c.length-1!==b.length){var d="There are a different number of wildcards than strings to replace them. You have "+e.wildcard+' wildcards in "'+e.wildcard+'" and '+e.wildcard+" replacement strings.";throw new Error(e.replace(d,[c.length-1,a,b.length]))}for(var f="",g=0;g<b.length;++g)f+=c[g]+b[g];return f}};void 0!==b&&(b.exports=e),"undefined"!=typeof angular&&angular.module("wildstring",[]).factory("wildstring",function(){return e}),void 0!==d&&d([],e)},{}],299:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if("ELEMENT_NODE"===A[a.nodeType]||"DOCUMENT_FRAGMENT_NODE"===A[a.nodeType])return g(a);for(b=b||a.parentNode;a;){if("ELEMENT_NODE"===A[a.nodeType])return null===f(a)?null:f(a)+"+";a=a.previousSibling}return null===g(b)?null:g(b)+"^"}function g(a){return a&&void 0!==a.__upscopeID?a.__upscopeID:a&&"DOCUMENT_FRAGMENT_NODE"===A[a.nodeType]&&void 0!==a.__upscopeRootId?a.__upscopeRootId+"-sr":null}function h(a,b){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d=document;d===document||d&&d.contentDocument;){if(d!==document){var e=d.getBoundingClientRect(),f=e.top;a-=e.left,b-=f}var g=d===document?document:d.contentDocument;if(d=g.elementFromPoint(a,b),c.indexOf(d)>-1&&document.elementsFromPoint){var h=!0,i=!1,j=void 0;try{for(var k,l=(0,y.default)(g.elementsFromPoint(a,b));!(h=(k=l.next()).done);h=!0){var m=k.value;if(d=null,-1===c.indexOf(m)){d=m;break}}}catch(a){i=!0,j=a}finally{try{!h&&l.return&&l.return()}finally{if(i)throw j}}}else c.indexOf(d)>-1&&(d=null)}return d}function i(a){if(void 0!==a.__upscopeScrollable)return a.__upscopeScrollable;try{var b=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight,e=a.ownerDocument.defaultView.getComputedStyle(a),f=e["overflow-x"],g=e["overflow-y"];return a.__upscopeScrollable=b&&"hidden"!==f||c&&"hidden"!==g,a.__upscopeScrollable}catch(b){return d("Error detecting scrollability of %o (%o)",a,b),a.__upscopeScrollable=!1,!1}}function j(a){var b=a.effect.getTiming();return{options:{delay:b.delay,direction:b.direction,duration:b.duration,easing:b.easing,endDelay:b.endDelay,fill:b.fill,iterationStart:b.iterationStart,iterations:b.iterations===1/0?"::infinity::":b.iterations},keyframes:a.effect.getKeyframes()}}function k(a){try{var b=a.getBoundingClientRect(),c=b.top,e=b.bottom,f=b.height,g=b.width,h=a.ownerDocument.defaultView.getComputedStyle(a),i=h.display,j=h.visibility,k=h.opacity,l=Math.max(a.ownerDocument.documentElement.clientHeight,a.ownerDocument.defaultView.innerHeight);return e>=0&&c-l<0&&f>5&&g>5&&"none"!==i&&"hidden"!==j&&"0"!==k}catch(b){return d("Error detecting visibility of %o (%o)",a,b),!0}}function l(a){for(var b={},c=0;c<a.attributes.length;c++){var d=a.attributes[c];b[d.name]=d.value}return b}function m(a){for(var b=a,c="TEXT_NODE"===A[a.nodeType]?a.textContent:"";null!==(b=b.previousSibling);){if("TEXT_NODE"!==A[b.nodeType]){if("COMMENT_NODE"===A[b.nodeType])continue;break}c=b.textContent+c}for(b=a;null!==(b=b.nextSibling);){if("TEXT_NODE"!==A[b.nodeType]){if("COMMENT_NODE"===A[b.nodeType])continue;break}c+=b.textContent}return c}function n(a){return void 0===a.pageXOffset?(a.document.documentElement||a.document.body.parentNode||a.document.body).scrollLeft:a.pageXOffset}function o(a){return void 0===a.pageYOffset?(a.document.documentElement||a.document.body.parentNode||a.document.body).scrollTop:a.pageYOffset}function p(a){for(var b=[];a;)b.unshift(a),a=a.parentNode;return b}function q(a){var c="upscope__iframe__access";if("upscopeStorageFrame"===a.id)return!1;if(b("maskElementMiddleware")(a))return!1;if(void 0!==a.__upscopeFailingAccessAt&&new Date-a.__upscopeFailingAccessAt<Math.min(500*a.__upscopeFailingCount,5e3))return!1;a.__upscopeFailingAccessAt=new Date,a.__upscopeFailingCount=a.__upscopeFailingCount||0,a.__upscopeFailingCount++;try{var e=a.contentWindow;if(e[c]="iframeAccessOn","iframeAccessOn"===e[c])return delete a.__upscopeFailingAccessAt,delete a.__upscopeFailingCount,!0}catch(b){d("Error accessing iframe %o (%o)",a,b)}return!1}function r(a,b,c){for(var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=a.getElementsByTagName?a.getElementsByTagName("iframe"):a.querySelectorAll("iframe"),g=0;g<f.length;g++){var h=f[g];if(e||k(h))if(h.__upscopeChildFrameHandler)c&&c(h,h.__upscopeChildFrameHandler);else{var i=!1;try{void 0!==h.contentWindow&&q(h)&&(i=!0)}catch(a){d("Skipping iframe %o due to error %o",h,a)}i&&b(h)}}}function s(a,b){for(var c=a.getElementsByTagName?a.getElementsByTagName("*"):a.querySelectorAll("*"),d=0;d<c.length;d++){var e=c[d];e.shadowRoot&&b(e.shadowRoot)}}function t(a){for(var b=[],c=u(a),d=z(c,2),e=d[0],f=d[1];void 0!==e;){var g=a.indexOf(e)+e.length,h=a.substr(g).indexOf(f),i=h+g;if(-1===g||-1===h)break;var j=a.substr(g,h),k=a.substr(i+f.length);-1===b.indexOf(j)&&b.push(j),a=k;var l=u(a),m=z(l,2);e=m[0],f=m[1]}return b}function u(a){var b=[["url('","')",!1],['url("','")',!1],["url(",")",!1],["'","'",!0],['"','"',!0]],c=void 0,d=void 0,e=void 0,f=!0,g=!1,h=void 0;try{for(var i,j=(0,y.default)(b);!(f=(i=j.next()).done);f=!0){var k=z(i.value,3),l=k[0],m=k[1],n=k[2];(!n||a.substr(0,1)===a.substr(-1,1)&&a.substr(-1,1)===l)&&((!n||"/"===a.substr(1,1)||".."===a.substr(1,2)||"http"===a.substr(1,4)||a.indexOf("/")>-1&&a.indexOf(".")>-1&&"."!==a.substr(-1,1)&&"/"!==a.substr(-1,1))&&a.indexOf(l)>-1&&(void 0===c||c>a.indexOf(l))&&(c=a.indexOf(l),d=l,e=m))}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}return[d,e]}Object.defineProperty(c,"__esModule",{value:!0}),c.NODE_TYPES=void 0;var v=a("babel-runtime/core-js/is-iterable"),w=e(v),x=a("babel-runtime/core-js/get-iterator"),y=e(x),z=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=(0,y.default)(a);!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,w.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();c.elementId=f,c.elementForCoordinates=h,c.isScrollable=i,c.encodeAnimation=j,c.isVisible=k,c.getAttributes=l,c.getMergedTextNodes=m,c.windowScrollX=n,c.windowScrollY=o,c.elementParents=p,c.checkIframeAccess=q,c.doForIframes=r,c.doForShadowRoots=s,c.findAllUrlsInCss=t;var A=c.NODE_TYPES={1:"ELEMENT_NODE",2:"ATTRIBUTE_NODE",3:"TEXT_NODE",4:"CDATA_SECTION_NODE",7:"PROCESSING_INSTRUCTION_NODE",8:"COMMENT_NODE",9:"DOCUMENT_NODE",10:"DOCUMENT_TYPE_NODE",11:"DOCUMENT_FRAGMENT_NODE"}}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:dom-utils.js"))},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3,debug:117}],300:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new l.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return l.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function g(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=a.ownerDocument,d=c.upscopePseudoCanvas||c.createElement("canvas");c.upscopePseudoCanvas=d;var e={0:1200,.5:900,1:600,2:100}[b],f={0:.8,.5:.6,1:.6,2:.2}[b];if("CANVAS"===a.tagName&&(d.width=Math.min(a.width,e),d.height=a.height/a.width*d.width,d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height)),"IMG"===a.tagName){if(0===a.naturalWidth)throw new Error("Image is not loaded");d.width=Math.min(a.width,e),d.height=a.height/a.width*d.width,d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height)}return"VIDEO"===a.tagName&&(d.width=Math.min(a.videoWidth,e),d.height=a.videoHeight/a.videoWidth*d.width,d.getContext("2d").drawImage(a,0,0,a.videoWidth,a.videoHeight,0,0,d.width,d.height)),(0,
o.default)("webp")?d.toDataURL("image/webp",f):d.toDataURL("image/jpeg",f)}function h(a){for(var b="",c=a.cssRules||a.rules,d=0;d<c.length;d++)c[d].cssText&&(b+=c[d].cssText);return b}Object.defineProperty(c,"__esModule",{value:!0}),c.collectAsset=void 0;var i=a("babel-runtime/regenerator"),j=e(i),k=a("babel-runtime/core-js/promise"),l=e(k);c.collectAsset=function(){var a=f(j.default.mark(function a(c,e){return j.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d("Collecting asset %s (element: %o)",c,e),!b("beta")){a.next=12;break}if(a.prev=2,!e||"[object HTMLImageElement]"!==Object.prototype.toString.apply(e)){a.next=5;break}return a.abrupt("return",g(e).replace(/^data:/,"").replace(",",":"));case 5:if(!e||"[object CSSStyleSheet]"!==Object.prototype.toString.apply(e)){a.next=7;break}return a.abrupt("return",h(e).replace(/^data:/,"").replace(",",":"));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),d("Unable to collect image / css for %o (%o), using fetch",e,a.t0);case 12:return a.prev=12,a.next=15,(0,m.timeout)(new p(function(a,b){var d=new XMLHttpRequest;d.open("GET",c,!0),d.responseType="arraybuffer",d.onload=function(c){if(200!==this.status)return b(this.status,this.response);for(var e=new Uint8Array(this.response),f=e.length,g=new Array(f);f--;)g[f]=String.fromCharCode(e[f]);var h=g.join("");a(d.getResponseHeader("content-type")+":"+window.btoa(h))},d.send()}),5e3);case 15:return a.abrupt("return",a.sent);case 18:a.prev=18,a.t1=a.catch(12),d("Could not collect asset %s (%o)",c,a.t1);case 21:case"end":return a.stop()}},a,this,[[2,9],[12,18]])}));return function(b,c){return a.apply(this,arguments)}}();c.getDataUrl=g,c.getStylesheetContent=h;var m=a("../utils"),n=a("./browser-support"),o=e(n),p=void 0===l.default?a("es6-promise").Promise:l.default}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/assets-utils.js"))},{"../utils":350,"./browser-support":302,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117,"es6-promise":120}],301:[function(a,b,c){(function(b,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/object/assign"),i=f(h),j=a("babel-runtime/core-js/symbol/iterator"),k=f(j),l=a("babel-runtime/core-js/symbol"),m=f(l),n=a("babel-runtime/core-js/object/define-property"),o=f(n),p=i.default||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},q="function"==typeof m.default&&"symbol"==typeof k.default?function(a){return typeof a}:function(a){return a&&"function"==typeof m.default&&a.constructor===m.default&&a!==m.default.prototype?"symbol":typeof a},r=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,o.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),s=a("../dom-utils"),t=a("../utils"),u=a("./css-reset"),v=f(u),w="#upscope___overlay,\n.upscope___svg {\n  "+v.default+'\n}\n#upscope___overlay {\n  display: none;\n  position: fixed !important;\n  z-index: 2147483646 !important;\n  width: 10000px !important;\n  height: 10000px !important;\n  top: -5000px;\n  left: -5000px;\n  opacity: 0 !important;\n  pointer-events: none !important;\n  transition: opacity 0.3s !important;\n  -webkit-transition: opacity 0.3s !important;\n  background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMDBweCIgaGVpZ2h0PSIxMDAwMHB4IiB2aWV3Qm94PSIwIDAgMTAwMDAgMTAwMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogIDxnIGlkPSJvdmVybGF5IiBmaWxsPSIjMDAwMDAwIj4NCiAgICAgIDxwYXRoIGQ9Ik0wLDAgTDEwMDAwLDAgTDEwMDAwLDEwMDAwIEwwLDEwMDAwIEwwLDAgTDAsMCBaIE01MDAwLDUwNTQgQzUwMjkuODIzMzgsNTA1NCA1MDU0LDUwMjkuODIzMzggNTA1NCw1MDAwIEM1MDU0LDQ5NzAuMTc2NjIgNTAyOS44MjMzOCw0OTQ2IDUwMDAsNDk0NiBDNDk3MC4xNzY2Miw0OTQ2IDQ5NDYsNDk3MC4xNzY2MiA0OTQ2LDUwMDAgQzQ5NDYsNTAyOS44MjMzOCA0OTcwLjE3NjYyLDUwNTQgNTAwMCw1MDU0IEw1MDAwLDUwNTQgWiIgaWQ9ImlubmVyLWNpcmNsZSI+PC9wYXRoPg0KICA8L2c+DQo8L3N2Zz4=") !important;\n  background-size: 50000px 50000px !important;\n  background-position: center center !important;\n}\n#upscope___overlay.upscope___overlay--show {\n  opacity: 0.4 !important;\n  transition: background-size 0.3s linear, opacity 0.3s, top 0.1s, left 0.1s !important;\n  -webkit-transition: background-size 0.3s linear, opacity 0.3s, top 0.1s, left 0.1s !important;\n  background-size: 10000px 10000px !important;\n}\n#upscope___overlay.upscope___overlay--white {\n  background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMDAiIGhlaWdodD0iMTAwMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwaDEwMDAwdjEwMDAwSDBWMHptNTAwMCA1MDU0YzI5LjggMCA1NC0yNC4yIDU0LTU0cy0yNC4yLTU0LTU0LTU0LTU0IDI0LjItNTQgNTQgMjQuMiA1NCA1NCA1NHoiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik01MDAwIDUwNTRjMjkuOCAwIDU0LTI0LjIgNTQtNTRzLTI0LjItNTQtNTQtNTQtNTQgMjQuMi01NCA1NCAyNC4yIDU0IDU0IDU0eiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjYiLz48L2c+PC9zdmc+") !important;\n}\n#upscope___overlay.upscope___overlay--white.upscope___overlay--show {\n  opacity: 0.4 !important;\n}\n.upscope___svg {\n  pointer-events: none !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 2147483645 !important;\n}\n#upscope___drag-protection {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 2147483645 !important;\n  display: none;\n}\n@keyframes upscope___svg____line__animation {\n  from {\n    stroke-dashoffset: 10000;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n.upscope___svg___line {\n  '+(0,u.cssWithout)("all")+"\n  fill: none !important;\n  stroke-width: 14px !important;\n  stroke-linecap: round !important;\n  stroke-linejoin: round !important;\n  opacity: 0.6 !important;\n  stroke-dasharray: 10000 !important;\n  stroke-dashoffset: 0;\n  transition: opacity 1s !important;\n  animation: upscope___svg____line__animation 5s forwards !important;\n}\n.upscope___svg___line.upscope___svg___line--disappear {\n  opacity: 0 !important;\n  stroke-dashoffset: 0;\n  stroke-dasharray: 0 !important;\n}\n.upscope___svg___line.upscope___svg___line--gone {\n  display: none !important;\n  opacity: 0 !important;\n}\n"+(b("enlargeCursor")?"\n* {\n  cursor: url('data:image/svg+xml;upscope_enlarged_cursor=true;base64,"+btoa('<svg width="29px" height="39px" viewBox="0 0 29 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M22.0377359,21.3349459 L16.4085968,21.3349459 L19.3824816,28.4981468 C19.4886918,28.7439431 19.4886918,28.9897387 19.3824816,29.2355351 C19.2762715,29.4813315 19.0992548,29.6568998 18.8514308,29.762241 L16.2492816,30.9209941 C16.0368612,31.0263353 15.8067394,31.0263353 15.5589154,30.9209941 C15.3110914,30.8156529 15.1340748,30.6400845 15.0278646,30.3942882 L12.213295,23.5997815 L7.59315257,28.2874644 C7.30992572,28.603488 6.97359297,28.6737151 6.58415594,28.4981468 C6.19471892,28.3225784 6,28.0241114 6,27.6027467 L6,4.9543911 C6,4.53302635 6.19471892,4.24333808 6.58415594,4.0853263 C6.97359297,3.92731451 7.30992572,3.98876381 7.59315257,4.26967338 L22.728102,19.7021575 C23.0113289,19.9830671 23.0732851,20.3254259 22.9139698,20.7292341 C22.7546546,21.1330423 22.4625766,21.3349459 22.0377359,21.3349459 Z" id="path-1"></path><filter x="-52.9%" y="-25.9%" width="205.9%" height="166.7%" filterUnits="objectBoundingBox" id="filter-2"><feMorphology radius="2" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology><feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="m" fill-rule="nonzero"><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use><path stroke="#FFFFFF" stroke-width="2" d="M17.9064919,22.3349459 L20.3004477,28.1014878 C20.5160364,28.6004131 20.5160364,29.1332688 20.3004477,29.632194 C20.0922256,30.114071 19.7263822,30.4769212 19.2582265,30.6757602 L16.6935608,31.8168825 C16.2094267,32.056969 15.6750953,32.056969 15.1677245,31.8413037 C14.683964,31.6356742 14.3181206,31.272824 14.1039943,30.776994 L11.8665846,25.3757789 L8.33784454,28.9548727 C7.76310634,29.5961637 6.95900423,29.764063 6.17316507,29.4097862 C5.42678447,29.0732984 5,28.4191189 5,27.6027467 L5,4.9543911 C5,4.1262685 5.44118974,3.46989866 6.20818129,3.15869635 C6.96247518,2.85264604 7.72495058,2.99195295 8.30710831,3.56948254 L23.4322983,18.9921522 C24.0074862,19.5626341 24.1463989,20.3302428 23.8441901,21.0962358 C23.5352294,21.8793426 22.8761449,22.3349459 22.0377359,22.3349459 L17.9064919,22.3349459 Z" fill="'+b("cursorColor")+'" fill-rule="evenodd"></path></g></g></svg>')+"') 2 2, default !important;\n}":""),x=function(){function a(b,c){g(this,a),this.initiated=!1,this.hidePointerTimeout=null,this.connection=b,this.consoleHandler=c,this.pointerObserver=null,this.pointerPosition={x:0,y:0},this.cursors={},this.blurTimeouts={}}return r(a,[{key:"init",value:function(){this.initiated||(d("Initiating browser instructions receiver"),this._injectElements(),this.initiated=!0)}},{key:"observerGone",value:function(a){this.pointerObserver===a&&(this.pointerObserver=null,this.hidePointer()),this.cursors[a]&&this.hideCursor(a)}},{key:"receiveInstruction",value:function(a){switch(this._injectElements(),a.action){case"dataBounce":this.connection._dataBounce(a.data);break;case"scroll":this.scroll(a.elementId,a.x,a.y);break;case"click":this.click(a.elementId,a.observerId,a.x,a.y);break;case"dragStart":this.dragStart(a.elementId,a.observerId,a.x,a.y);break;case"dragEnd":this.dragEnd(a.observerId,a.x,a.y);break;case"type":this.type(a.elementId,a.observerId,a.newValue);break;case"drawLine":this.drawLine(a.lineData);break;case"sendSnapshot":a.forceAssets&&b("proxyAssets",["*"]),this.connection.sendSnapshot();break;case"showPointer":this.pointerObserver=a.observerId,this.showPointer();break;case"hidePointer":this.pointerObserver=null,this.hidePointer();break;case"movePointer":this.movePointer(a.x,a.y);break;case"showCursor":this.showCursor(a.color,a.agentName,a.observerId);break;case"hideCursor":this.hideCursor(a.observerId);break;case"moveCursor":this.moveCursor(a.x,a.y,a.color,a.agentName,a.observerId);break;case"reload":this.reload();break;case"redirect":this.redirect(a.url);break;case"console":b("allowRemoteConsole")?this.consoleHandler.execute(a.command):e("error","Remote console not enabled");break;default:e("error","Browser instruction not recognized",a)}}},{key:"scroll",value:function(a,c,f){if(!b("allowRemoteScroll"))return e("error","Remote scroll disabled");var g=window.scrollX,h=window.scrollY,i=document.getElementsByTagName("html")[0],j=this._selectElement(a),k=j;if(!j)return d("Element not found during scroll (%s)",a);for(;j!==i;){if((0,s.isScrollable)(j)&&(0!==f&&j.scrollTop+f>0&&j.scrollTop+f+j.clientHeight<j.scrollHeight||0!==c&&j.scrollLeft+c>0&&j.scrollLeft+c+j.clientWidth<j.scrollWidth)){var l=j.scrollTop,m=j.scrollLeft;if(j.scrollTop+=f,j.scrollLeft+=c,c-=j.scrollLeft-m,0===(f-=j.scrollTop-l)&&0===c)return}if(j.parentNode===j.ownerDocument)for(var n=j.ownerDocument.__upscopeRootId,o=j.ownerDocument.defaultView.parent.document.getElementsByTagName("iframe"),p=0;p<o.length;p++){var q=o[p];if(q.__upscopeID===n){j=q;break}}else j=j.parentNode}window.scrollTo(g+c,h+f),c-=window.scrollX-g,f-=window.scrollY-h,0===c&&0===f||this._dispatchEvent(k,WheelEvent,"wheel",{deltaX:c,deltaY:f})}},{key:"dragStart",value:function(a,c,f,g){if(!b("allowRemoteClick"))return e("error","Remote click disabled");var h=this._selectElement(a);if(!h)return d("Element not found during click (%s)",a);if(!b("allowRemoteMiddleware").call(b(),h))return d("Remote clicking not allowed on this element");if(!this.cursors[c])return d("Cursor not active, ignored dragStart");if(this.cursors[c].dragging)return d("Already dragging, ignored dragStart");this.cursors[c].dragging=h,this.dragProtectionElement&&(this.dragProtectionElement.style.display="block");for(var i=["mouseover","mouseenter","mousedown"],j=0;j<i.length;j++){var k=i[j];this._dispatchEvent(h,MouseEvent,k,f,g)}var l=this._findDraggable(h);if(l){this.cursors[c].dragging=l,this.cursors[c].dataTransfer="function"==typeof DataTransfer?new DataTransfer:null;for(var m=["drag","dragstart"],n=0;n<m.length;n++){var o=m[n];this._dispatchEvent(l,DragEvent,o,f,g,{dataTransfer:this.cursors[c].dataTransfer})}}}},{key:"_findDraggable",value:function(a){do{if(a.draggable)return a;a=a.parentNode}while(a)}},{key:"dragEnd",value:function(a,b,c){if(!this.cursors[a]||!this.cursors[a].dragging)return d("Ignoring dragEnd (not dragging)");if(this.cursors[a].dragging&&this.cursors[a].dragging.draggable){for(var e=["mousemove","mouseup"],f=0;f<e.length;f++){var g=e[f];this._dispatchEvent(this.cursors[a].dragging,MouseEvent,g,b,c)}this._dispatchEvent(this.cursors[a].dragging,DragEvent,"dragend",b,c,{dataTransfer:this.cursors[a].dataTransfer}),this.cursors[a].previousHover&&this._dispatchEvent(this.cursors[a].previousHover,DragEvent,"drop",b,c,{dataTransfer:this.cursors[a].dataTransfer})}else if(this.cursors[a].previousHover)for(var h=["mousemove","mouseup","click"],i=0;i<h.length;i++){var j=h[i];this._dispatchEvent(this.cursors[a].previousHover,MouseEvent,j,b,c)}this.dragProtectionElement&&(this.dragProtectionElement.style.display="none"),delete this.cursors[a].dragging,delete this.cursors[a].dataTransfer}},{key:"click",value:function(a,c,f,g){var h=this;if(!b("allowRemoteClick"))return e("error","Remote click disabled");var i=this._selectElement(a);if(!i)return d("Element not found during click (%s)",a);if(!b("allowRemoteMiddleware").call(b(),i))return d("Remote clicking not allowed on this element");if(this.cursors[c]&&this.cursors[c].element&&this.cursors[c].element.clickAnimation(),Boolean(window.MSInputMethodContext)&&Boolean(document.documentMode))return i.click();i.ownerDocument.activeElement!==i&&i.ownerDocument.activeElement!==i.ownerDocument.body&&this._dispatchEvent(i.ownerDocument.activeElement,Event,"blur");for(var j=["mouseover","mouseenter","mousedown","mouseup","click"],k=0;k<j.length;k++){var l=j[k];this._dispatchEvent(i,MouseEvent,l,f,g)}this.isDoubleclick=this.isDoubleclick||{},this.isDoubleclick[c]?(this._dispatchEvent(i,MouseEvent,"dblclick",f,g),delete this.isDoubleclick[c]):(this.isDoubleclick[c]=!0,setTimeout(function(){return delete h.isDoubleclick[c]},200))}},{key:"type",value:function(a,c,f){var g=this;if(!b("allowRemoteType"))return e("error","Remote typing disabled");var h=this._selectElement(a);if(!h)return d("Element not found during click (%s)",a);if(!b("allowRemoteMiddleware").call(b(),h))return d("Remote typing not allowed on this element");this.blurTimeouts[a]||(this._dispatchEvent(h,FocusEvent,"focus"),this._dispatchEvent(h,FocusEvent,"focusin"));var i=h.value;h.value=f;var j=h._valueTracker;if(j&&j.setValue&&j.setValue(i),"INPUT"===h.tagName||"TEXTAREA"===h.tagName){var k=f.substr(f.length-1),l=k.charCodeAt(0);this._dispatchEvent(h,KeyboardEvent,"keydown",{which:l,key:k}),this._dispatchEvent(h,KeyboardEvent,"keypress",{which:l,key:k}),this._dispatchEvent(h,KeyboardEvent,"keyup",{which:l,key:k}),this._dispatchEvent(h,KeyboardEvent,"input")}else"SELECT"===h.tagName&&this._dispatchEvent(h,Event,"change");clearTimeout(this.blurTimeouts[a]),this.blurTimeouts[a]=setTimeout(function(){g._dispatchEvent(h,FocusEvent,"blur"),g._dispatchEvent(h,FocusEvent,"focusout"),delete g.blurTimeouts[a]},800)}},{key:"showPointer",value:function(){var a=this;d("Showing pointer"),this.hidePointerTimeout&&clearTimeout(this.hidePointerTimeout),this.overlayElement.style.cssText="display: block !important; top: "+(this.pointerPosition.y-5e3)+"px !important; left: "+(this.pointerPosition.x-5e3)+"px !important;",this.hidePointerTimeout=setTimeout(function(){a.overlayElement.className="upscope___overlay--show"},20)}},{key:"hidePointer",value:function(){var a=this;d("Hiding pointer"),this.overlayElement.className="",this.hidePointerTimeout=setTimeout(function(){a.overlayElement.style.cssText="display: none !important"},300)}},{key:"movePointer",value:function(a,b){this.pointerPosition={x:parseInt(a,10),y:parseInt(b,10)},this.overlayElement.style.cssText="display: block !important; top: "+(this.pointerPosition.y-5e3)+"px !important; left: "+(this.pointerPosition.x-5e3)+"px !important;"}},{key:"hideCursor",value:function(a){d("Hiding pointer"),this.cursors[a]&&(this.cursors[a].dragging&&this.dragEnd(a,0,0),this.cursors[a].disableTimeout&&clearTimeout(this.cursors[a].disableTimeout),this.cursors[a].previousHover&&(this._dispatchEvent(this.cursors[a].previousHover,MouseEvent,"mouseleave"),this._dispatchEvent(this.cursors[a].previousHover,MouseEvent,"mouseout")),this.cursors[a].element&&this.cursors[a].element.parentNode.removeChild(this.cursors[a].element),delete this.cursors[a])}},{key:"hideAll",value:function(){this.hidePointer();for(var a in this.cursors)this.cursors.hasOwnProperty(a)&&this.hideCursor(a)}},{key:"moveCursor",value:function(a,b,c,e,f){var g=this;this.cursors[f]=this.cursors[f]||{},this.cursors[f].position={x:parseInt(a,10),y:parseInt(b,10)},this.cursors[f].element||(d("Showing pointer"),this.cursors[f].element=this._injectCursor(c,e||"Agent",f)),this.cursors[f].element.style.cssText="z-index: 2147483646 !important; pointer-events: none !important; position: fixed !important; top: "+this.cursors[f].position.y+"px !important; left: "+this.cursors[f].position.x+"px !important;",this.cursors[f].dragging&&this._dispatchEvent(this.cursors[f].dragging,MouseEvent,"mousemove",a,b);var h=(0,s.elementForCoordinates)(a,b,[this.cursors[f].dragging,this.dragProtectionElement]);if(this.cursors[f].previousHover&&h!==this.cursors[f].previousHover){this.cursors[f].dragging&&this.cursors[f].dragging.draggable&&this._dispatchEvent(this.cursors[f].previousHover,DragEvent,"dragleave",a,b,{dataTransfer:this.cursors[f].dataTransfer}),this._dispatchEvent(this.cursors[f].previousHover,MouseEvent,"mouseout",a,b,{relatedTarget:h||null});for(var i=this.cursors[f].previousHover;i;)h&&i.contains&&i.contains(h)||this._dispatchEvent(i,MouseEvent,"mouseleave",a,b,{relatedTarget:h||null}),i=i.parentElement}if(h){if(h!==this.cursors[f].previousHover){this.cursors[f].dragging&&this.cursors[f].dragging.draggable&&(this._dispatchEvent(h,DragEvent,"dragover",a,b,{dataTransfer:this.cursors[f].dataTransfer}),this._dispatchEvent(h,DragEvent,"dragenter",a,b,{dataTransfer:this.cursors[f].dataTransfer})),this._dispatchEvent(h,MouseEvent,"mouseover",a,b,{relatedTarget:this.cursors[f].previousHover||null});for(var j=h;j;)this.cursors[f].previousHover&&j.contains&&j.contains(this.cursors[f].previousHover)||this._dispatchEvent(j,MouseEvent,"mouseenter",a,b,{relatedTarget:this.cursors[f].previousHover||null}),j=j.parentElement}this._dispatchEvent(h,MouseEvent,"mousemove",a,b)}this.cursors[f].previousHover=h,this.cursors[f].disableTimeout&&clearTimeout(this.cursors[f].disableTimeout),this.cursors[f].disableTimeout=setTimeout(function(){g.hideCursor(f)},2e4)}},{key:"drawLine",value:function(a){var c=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=document.body||document.getElementsByTagName("body")[0];c.setAttributeNS(null,"class","upscope___svg"),d.appendChild(c);var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttributeNS(null,"class","upscope___svg___line"),e.setAttributeNS(null,"d",a.path),e.setAttributeNS(null,"stroke",a.color),c.appendChild(e),clearTimeout(this.clearPathsTimeout),this.clearPathsTimeout=setTimeout(function(){for(var a=document.querySelectorAll(".upscope___svg"),b=0;b<a.length;b++){(function(b){var c=a[b];if(c.__removed)return"continue";c.__removed=!0,c.querySelector(".upscope___svg___line").setAttributeNS(null,"class","upscope___svg___line upscope___svg___line--disappear"),setTimeout(function(){c.parentNode.removeChild(c)},2e3)})(b)}},b("drawingsTtlMs"))}},{key:"redirect",value:function(a){if(!b("allowAgentRedirect"))return e("error","Agent URL changes are not allowed");if(!/^http(s)?:\/\//.test(a))return e("warn","Invalid redirect URL");if(a.indexOf("?")>-1){var c=a.substr(a.indexOf("?")+1);c=c.replace(/[&?]__upscope_[A-z_]+=[\w.0-9]+/g,""),a=a.substr(0,a.indexOf("?"))+"?"+c}a+=(a.indexOf("?")>-1?"&":"?")+"__upscope_short_id="+this.connection.shortId,b("needsProxy")(a)&&(a=b("fromProxy")?location.origin+"/"+a:b("proxyRedirectEndpoint").replace("URL",encodeURIComponent(a)).replace("TOKEN",encodeURIComponent(this.connection.proxyToken))),location.href=a}},{key:"reload",value:function(){if(!b("allowAgentRedirect"))return e("error","Agent URL changes are not allowed");location.reload()}},{key:"_selectElement",value:function(a){try{for(var b=a.split(">"),c=[],e=document,f=null,g=b.shift();g;){c.push(g);for(var h=e.getElementsByTagName?e.getElementsByTagName("*"):e.querySelectorAll("*"),i=0;i<h.length;i++){var j=h[i];if(j.__upscopeID===c.join(">")){f=j;break}}g=b.shift(),g&&(e=f.contentDocument||f.shadowRoot)}return f}catch(b){return d("Error selecting element "+a+" (%o)",b),null}}},{key:"_dispatchEvent",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},g={};"object"===(void 0===d?"undefined":q(d))?g=d:null!==d&&(g=p({clientX:d,clientY:e,layerX:d,layerY:e,offsetX:d,offsetY:e,pageX:d+(0,t.attempt)(function(){return a.ownerDocument.defaultView.scrollX},0),pageY:e+(0,t.attempt)(function(){return a.ownerDocument.defaultView.scrollY},0)},f));var h=new b(c,p({view:a.ownerDocument.defaultView,bubbles:!0,cancelable:!0},g));h.isUpscopeBrowserInstruction=!0,a.dispatchEvent(h)}},{key:"_injectElements",value:function(){if(!document.getElementById("upscope___remote-control-style")){d("Injecting overlay stylesheet");var a=document.createElement("style"),b=document.head||document.getElementsByTagName("head")[0];a.type="text/css",a.id="upscope___remote-control-style",a.styleSheet?a.styleSheet.cssText=w:a.appendChild(document.createTextNode(w)),b.appendChild(a)}if(!this.overlayElement||!document.getElementById("upscope___overlay")){d("Injecting overlay element");var c=document.createElement("div"),e=document.body||document.getElementsByTagName("body")[0];c.id="upscope___overlay",e.appendChild(c),this.overlayElement=c}if(!this.dragProtectionElement||!document.getElementById("upscope___drag-protection")){d("Injecting drag protection overlay");var f=document.createElement("div"),g=document.body||document.getElementsByTagName("body")[0];f.id="upscope___drag-protection",g.appendChild(f),this.dragProtectionElement=f}}},{key:"_injectCursor",value:function(a,b,c){var d="\n  "+v.default+"\n  background-image: url('data:image/svg+xml;base64,"+btoa('<svg width="29px" height="39px" viewBox="0 0 29 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M22.0377359,21.3349459 L16.4085968,21.3349459 L19.3824816,28.4981468 C19.4886918,28.7439431 19.4886918,28.9897387 19.3824816,29.2355351 C19.2762715,29.4813315 19.0992548,29.6568998 18.8514308,29.762241 L16.2492816,30.9209941 C16.0368612,31.0263353 15.8067394,31.0263353 15.5589154,30.9209941 C15.3110914,30.8156529 15.1340748,30.6400845 15.0278646,30.3942882 L12.213295,23.5997815 L7.59315257,28.2874644 C7.30992572,28.603488 6.97359297,28.6737151 6.58415594,28.4981468 C6.19471892,28.3225784 6,28.0241114 6,27.6027467 L6,4.9543911 C6,4.53302635 6.19471892,4.24333808 6.58415594,4.0853263 C6.97359297,3.92731451 7.30992572,3.98876381 7.59315257,4.26967338 L22.728102,19.7021575 C23.0113289,19.9830671 23.0732851,20.3254259 22.9139698,20.7292341 C22.7546546,21.1330423 22.4625766,21.3349459 22.0377359,21.3349459 Z" id="path-1"></path><filter x="-52.9%" y="-25.9%" width="205.9%" height="166.7%" filterUnits="objectBoundingBox" id="filter-2"><feMorphology radius="2" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology><feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="m" fill-rule="nonzero"><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use><path stroke="#FFFFFF" stroke-width="2" d="M17.9064919,22.3349459 L20.3004477,28.1014878 C20.5160364,28.6004131 20.5160364,29.1332688 20.3004477,29.632194 C20.0922256,30.114071 19.7263822,30.4769212 19.2582265,30.6757602 L16.6935608,31.8168825 C16.2094267,32.056969 15.6750953,32.056969 15.1677245,31.8413037 C14.683964,31.6356742 14.3181206,31.272824 14.1039943,30.776994 L11.8665846,25.3757789 L8.33784454,28.9548727 C7.76310634,29.5961637 6.95900423,29.764063 6.17316507,29.4097862 C5.42678447,29.0732984 5,28.4191189 5,27.6027467 L5,4.9543911 C5,4.1262685 5.44118974,3.46989866 6.20818129,3.15869635 C6.96247518,2.85264604 7.72495058,2.99195295 8.30710831,3.56948254 L23.4322983,18.9921522 C24.0074862,19.5626341 24.1463989,20.3302428 23.8441901,21.0962358 C23.5352294,21.8793426 22.8761449,22.3349459 22.0377359,22.3349459 L17.9064919,22.3349459 Z" fill="'+a+'" fill-rule="evenodd"></path></g></g></svg>')+"') !important;\n  width: 29px !important;\n  height: 39px !important;\n  position: absolute !important;\n  top: -4px !important;\n  left: -7px !important;\n  z-index: 2 !important;\n  pointer-events: none !important;\n",e="\n  "+v.default+"\n  background: "+a+" !important;\n  box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1) !important;\n  border-radius: 0 4px 4px 4px !important;\n  color: white !important;\n  font-family: Arial, sans-serif !important;\n  letter-spacing: 0.4px !important;\n  position: absolute !important;\n  top: 25px !important;\n  left: 22px !important;\n  padding: 0 4px !important;\n  z-index: 3 !important;\n  font-weight: 700 !important;\n  font-size: 14px !important;\n  pointer-events: none !important;\n  white-space: nowrap !important;\n",f="\n  background: "+a+" !important;\n  content: '' !important;\n  position: absolute !important;\n  top: 50% !important;\n  left: 50% !important;\n  margin: -35px 0 0 -35px !important;\n  width: 70px !important;\n  height: 70px !important;\n  border-radius: 50% !important;\n  pointer-events: none !important;\n  z-index: 1 !important;\n  opacity: 0;\n  display: none;\n",g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div");g.style.cssText=(0,u.cssWithout)("z-index","pointer-events","position","top","left","all"),h.style.cssText=d,i.style.cssText=e,j.style.cssText=f,i.innerText=b,g.appendChild(j),g.appendChild(i),g.appendChild(h),g.id="upscope___cursor__"+c,document.body.appendChild(g);var k=[];return g.clickAnimation=function(){for(;k.length>0;)clearTimeout(k.pop());j.style.display="none",j.style.transition="none",k.push(setTimeout(function(){j.style.opacity="0",j.style.transform="scale3d(0, 0, 1)",j.style.transition="all 0.15s"},5)),k.push(setTimeout(function(){j.style.display="block",j.style.opacity="0.5"},10)),k.push(setTimeout(function(){j.style.opacity="0",j.style.transform="scale3d(1.2, 1.2, 1)"},160))},g}}]),a}();c.default=x}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/browser-instructions.js"),function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"../dom-utils":299,"../utils":350,"./css-reset":323,"babel-runtime/core-js/object/assign":5,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,debug:117}],302:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return!!b("ignoreBrowserSupport")||"object"===(void 0===o?"undefined":k(o))&&null!==o&&("all"===a?("ie"!==o.name||-1!==(0,n.default)(o.version,"11"))&&("samsung"!==o.name||-1!==(0,n.default)(o.version,"6")):"audio"===a?"chrome"===o.name||("safari"===o.name&&(0,n.default)(o.version,"11")>-1||("ios"===o.name&&(0,n.default)(o.version,"11.2")>-1||("samsung"===o.name&&(0,n.default)(o.version,"6.4")>-1||("firefox"===o.name||("edge"===o.name||"opera"===o.name))))):"webp"===a?"chrome"===o.name:void 0)}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/symbol/iterator"),h=e(g),i=a("babel-runtime/core-js/symbol"),j=e(i),k="function"==typeof j.default&&"symbol"==typeof h.default?function(a){return typeof a}:function(a){return a&&"function"==typeof j.default&&a.constructor===j.default&&a!==j.default.prototype?"symbol":typeof a};c.default=f;var l=a("detect-browser"),m=a("compare-versions"),n=e(m),o=(0,l.detect)();d("Detected browser %o",o)}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/browser-support.js"))},{"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,"compare-versions":12,debug:117,"detect-browser":119}],303:[function(a,b,c){(function(b){"use strict";function d(a,c){return{detect:function(a,d){var e=function(a){a.__upscopeEventSent||"[object Animation]"===Object.prototype.toString.apply(a)&&(a.__upscopeEventSent=!0,d(a))},g=function(){var a=!0,b=!1,d=void 0;try{for(var g,h=(0,f.default)(c.getAnimations());!(a=(g=h.next()).done);a=!0){var i=g.value;e(i)}}catch(a){b=!0,d=a}finally{try{!a&&h.return&&h.return()}finally{if(b)throw d}}},h=setInterval(g,1e3),i=void 0;b("beta")&&(i=c.defaultView.Element.prototype.animate,c.defaultView.Element.prototype.animate=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var f=(a=i).call.apply(a,[this].concat(c));return e(f),f}),a(function(a){return function(){b("beta")&&(c.defaultView.Element.prototype.animate=i),clearInterval(a)}}(h))},encode:function(a){var b=h.elementId(a.effect.target),c=h.encodeAnimation(a),d=c.keyframes,e=c.options;if(b)return{animationStart:{elementId:b,keyframes:d,options:e}}}}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/get-iterator"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);c.default=d;var g=a("../../dom-utils"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g)}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),
1===arguments.length?window.Upscope._config[a]:window.Upscope._config})},{"../../dom-utils":299,"babel-runtime/core-js/get-iterator":2}],304:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){b.addEventListener("focusout",c),a(function(a){return function(){b.removeEventListener("focusout",a)}}(c));var d=function(a){"SELECT"!==a.target.tagName||a.target.multiple||a.target.blur()};b.addEventListener("change",d),a(function(a){return function(){b.removeEventListener("change",a)}}(d))},encode:function(a){if(!a.target.__upscopeMasked)return{blur:{elementId:f.elementId(a.target)}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../dom-utils"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e)},{"../../dom-utils":299}],305:[function(a,b,c){(function(b){"use strict";function d(a,c){return{detect:function(a,c){var d=this,e=setInterval(function(){try{d.checkUpdates(c)}catch(a){b("Error collecting canvas changes (%o)",a),clearInterval(e)}},200);try{this.checkUpdates(c)}catch(a){b("Error collecting canvas changes (%o)",a)}a(function(a,b){return function(){delete b.canvasUrls,clearInterval(a)}}(e,this))},checkUpdates:function(b){var d=void 0===this.canvasUrls;d&&(this.canvasUrls={});var e=a._getCanvasUrls(c,2),g=[];if(!d)for(var h in e)if(e.hasOwnProperty(h)){var i=e[h];void 0!==this.canvasUrls[h]&&this.canvasUrls[h].length===i.length&&this.canvasUrls[h]===i||g.push(h)}if(this.canvasUrls=e,g.length>0){var j=a._getCanvasUrls(c,1),k=!0,l=!1,m=void 0;try{for(var n,o=(0,f.default)(g);!(k=(n=o.next()).done);k=!0){var p=n.value;b({elementId:p,url:j[p]})}}catch(a){l=!0,m=a}finally{try{!k&&o.return&&o.return()}finally{if(l)throw m}}clearTimeout(this.sendUncompressedTimeout),this.sendUncompressedTimeout=setTimeout(function(){var d=a._getCanvasUrls(c,0),e=!0,h=!1,i=void 0;try{for(var j,k=(0,f.default)(g);!(e=(j=k.next()).done);e=!0){var l=j.value;b({elementId:l,url:d[l]})}}catch(a){h=!0,i=a}finally{try{!e&&k.return&&k.return()}finally{if(h)throw i}}},1e3)}},encode:function(a){return{canvasChange:a}}}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/get-iterator"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);c.default=d}).call(this,a("debug")("upscope:modules/browser-watcher-events/canvas-change.js"))},{"babel-runtime/core-js/get-iterator":2,debug:117}],306:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){var d=function(a){a.isUpscopeBrowserInstruction||c(a)};b.addEventListener("click",d),a(function(a){return function(){b.removeEventListener("click",a)}}(d))},encode:function(a){return{click:{x:a.clientX,y:a.clientY,elementId:a.target.__upscopeMasked?null:f.elementId(a.target)}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../dom-utils"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e)},{"../../dom-utils":299}],307:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new i.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return i.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return(0,k.default)(a)}function g(a,c){var d=c.document;return{detect:function(a,c){var e=b("domChangesDelay")||0,g=[],h=void 0;e>0&&(h=setInterval(function(){g.length>0&&(c(g),g=[])},e)),this.observer=new MutationObserver(0===e?c:function(a){var b;return(b=g).push.apply(b,f(a))}),this.observer.observe(d,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0});var i=!0,j=!1,k=void 0;try{for(var l,m=(0,o.default)(d.getElementsByTagName?d.getElementsByTagName("*"):d.querySelectorAll("*"));!(i=(l=m.next()).done);i=!0){var n=l.value;n.shadowRoot&&this.observer.observe(n.shadowRoot,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0})}}catch(a){j=!0,k=a}finally{try{!i&&m.return&&m.return()}finally{if(j)throw k}}a(function(a){return function(){h&&clearInterval(h),a.disconnect()}}(this.observer))},encode:function(f){var g=this;return e(m.default.mark(function h(){var i,j,k,l,n,p,r,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return m.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:g.mutationBatch=(g.mutationBatch||0)+1,i=String(g.mutationBatch),j=[],k=[],l=[],n=[],p=[],r=[],u=[],v=[],w=[],x=!0,y=!1,z=void 0,h.prev=5,A=(0,o.default)(f);case 7:if(x=(B=A.next()).done){h.next=46;break}if(C=B.value,(D=C.target)!==d){h.next=15;break}return h.next=13,a.getSnapshot(c);case 13:return h.t0=h.sent,h.abrupt("return",{pageLoad:h.t0});case 15:for(;D;)delete D.__upscopeScrollable,w.push(D),D=D.parentNode||D.host;if("childList"!==C.type){h.next=42;break}if(!t){h.next=20;break}return u.push(C.target),h.abrupt("continue",43);case 20:for(E=0;E<C.addedNodes.length;E++)F=C.addedNodes[E],k.push(F);if(!C.previousSibling){h.next=30;break}G=C.previousSibling;case 23:if(!G){h.next=30;break}if("ELEMENT_NODE"!==s.NODE_TYPES[G.nodeType]&&"TEXT_NODE"!==s.NODE_TYPES[G.nodeType]){h.next=27;break}return l.push(G),h.abrupt("break",30);case 27:G=G.previousSibling,h.next=23;break;case 30:if(!C.nextSibling){h.next=39;break}H=C.nextSibling;case 32:if(!H){h.next=39;break}if("ELEMENT_NODE"!==s.NODE_TYPES[H.nodeType]&&"TEXT_NODE"!==s.NODE_TYPES[H.nodeType]){h.next=36;break}return n.push(H),h.abrupt("break",39);case 36:H=H.nextSibling,h.next=32;break;case 39:C.removedNodes.length>0&&0===(0,q.default)(C.target.childNodes,function(a){return"ELEMENT_NODE"===s.NODE_TYPES[a.nodeType]||"TEXT_NODE"===s.NODE_TYPES[a.nodeType]}).length&&p.push(C.target),h.next=43;break;case 42:"attributes"===C.type?r.push(C.target):(C.type,u.push(C.target));case 43:x=!0,h.next=7;break;case 46:h.next=52;break;case 48:h.prev=48,h.t1=h.catch(5),y=!0,z=h.t1;case 52:h.prev=52,h.prev=53,!x&&A.return&&A.return();case 55:if(h.prev=55,!y){h.next=58;break}throw z;case 58:return h.finish(55);case 59:return h.finish(52);case 60:if(u.length+p.length+k.length+l.length+n.length>0){if(b("beta"))for(I=0;I<k.length;I++)a._removeIdsFromElement(k[I],!0);a._ensureHasIds(i,d,d.__upscopeRootId,function(a){a.shadowRoot&&g.observer.observe(a.shadowRoot,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0})})}return J=function(){var b=e(m.default.mark(function b(c){var d,e,f,g,h;return m.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=void 0,e=[],f=void 0,c.shadowRoot&&J(c.shadowRoot),g=0;case 3:if(!(g<c.childNodes.length)){b.next=98;break}if(h=c.childNodes[g],"ELEMENT_NODE"===s.NODE_TYPES[h.nodeType]||"TEXT_NODE"===s.NODE_TYPES[h.nodeType]||"DOCUMENT_FRAGMENT_NODE"===s.NODE_TYPES[h.nodeType]){b.next=7;break}return b.abrupt("continue",95);case 7:if(!h.parentNode.__upscopeMasked){b.next=9;break}return b.abrupt("continue",95);case 9:if(!f){b.next=24;break}if(!(k.indexOf(h)>-1||"ELEMENT_NODE"!==s.NODE_TYPES[h.nodeType])){b.next=19;break}return b.t0=f.newNodes,b.next=14,a.encodeNode(h);case 14:return b.t1=b.sent,b.t0.push.call(b.t0,b.t1),b.abrupt("continue",95);case 19:f.after=s.elementId(h),j.push(f),f=null;case 22:b.next=80;break;case 24:if(!(k.indexOf(h)>-1)){b.next=36;break}return b.t2=i,b.t3=s.elementId(c),b.next=29,a.encodeNode(h);case 29:return b.t4=b.sent,b.t5=[b.t4],b.t6=d?s.elementId(d):null,f={batch:b.t2,elementId:b.t3,type:"children",newNodes:b.t5,before:b.t6},b.abrupt("continue",95);case 36:if(!(l.indexOf(h)>-1&&n.indexOf(h)>-1)){b.next=48;break}return b.t7=j,b.t8=i,b.t9=s.elementId(c),b.next=42,a.encodeNode(c);case 42:return b.t10=b.sent.c,b.t11={batch:b.t8,elementId:b.t9,type:"children",newNodes:b.t10},b.t7.push.call(b.t7,b.t11),b.abrupt("return");case 48:if(!(l.indexOf(h)>-1)){b.next=63;break}if("ELEMENT_NODE"!==s.NODE_TYPES[h.nodeType]){b.next=53;break}f={batch:i,elementId:s.elementId(c),type:"children",newNodes:[],before:s.elementId(h)},b.next=61;break;case 53:return b.t12=i,b.t13=s.elementId(c),b.next=57,a.encodeNode(h);case 57:b.t14=b.sent,b.t15=[b.t14],b.t16=d?s.elementId(d):null,f={batch:b.t12,elementId:b.t13,type:"children",newNodes:b.t15,before:b.t16};case 61:b.next=80;break;case 63:if(!(n.indexOf(h)>-1)){b.next=67;break}"ELEMENT_NODE"===s.NODE_TYPES[h.nodeType]?j.push({batch:i,elementId:s.elementId(c),type:"children",newNodes:e,before:d?s.elementId(d):null,after:s.elementId(h)}):f={batch:i,elementId:s.elementId(c),type:"children",newNodes:e,before:d?s.elementId(d):null},b.next=80;break;case 67:if(!(u.indexOf(h)>-1)){b.next=80;break}if("ELEMENT_NODE"!==s.NODE_TYPES[h.nodeType]){b.next=79;break}return b.t17=j,b.t18=i,b.t19=s.elementId(h),b.next=74,a.encodeNode(h);case 74:b.t20=b.sent,b.t21={batch:b.t18,elementId:b.t19,type:"html",html:b.t20},b.t17.push.call(b.t17,b.t21),b.next=80;break;case 79:-1===v.indexOf(s.elementId(h))&&(v.push(s.elementId(h)),j.push({batch:i,elementId:s.elementId(h),type:"text",text:s.getMergedTextNodes(h)}));case 80:if(p.indexOf(h)>-1&&j.push({batch:i,elementId:s.elementId(h),type:"children",newNodes:[]}),r.indexOf(h)>-1&&j.push({batch:i,elementId:s.elementId(h),type:"attributes",attributes:s.getAttributes(h)}),"ELEMENT_NODE"!==s.NODE_TYPES[h.nodeType]&&"DOCUMENT_FRAGMENT_NODE"!==s.NODE_TYPES[h.nodeType]){b.next=90;break}if(d=h,e=[],!("SCRIPT"!==h.nodeName&&w.indexOf(h)>-1)){b.next=88;break}return b.next=88,J(h);case 88:b.next=95;break;case 90:return b.t22=e,b.next=93,a.encodeNode(h);case 93:b.t23=b.sent,b.t22.push.call(b.t22,b.t23);case 95:g++,b.next=3;break;case 98:f&&j.push(f);case 99:case"end":return b.stop()}},b,this)}));return function(a){return b.apply(this,arguments)}}(),h.next=64,J(d);case 64:return h.next=66,a.collectNewAssets(d);case 66:return K=h.sent,a._activateForWindow(),h.abrupt("return",{domChange:{changes:j,assets:K}});case 69:case"end":return h.stop()}},h,g,[[5,48,52,60],[53,,55,59]])}))()}}}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/promise"),i=d(h),j=a("babel-runtime/core-js/array/from"),k=d(j),l=a("babel-runtime/regenerator"),m=d(l),n=a("babel-runtime/core-js/get-iterator"),o=d(n);c.default=g;var p=a("lodash/filter"),q=d(p),r=a("../../dom-utils"),s=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(r),t=!1;if("undefined"==typeof MutationObserver){a("mutationobserver-shim");t=!0}}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config})},{"../../dom-utils":299,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,"lodash/filter":260,"mutationobserver-shim":294}],308:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){b.addEventListener("focusin",c),a(function(a){return function(){b.removeEventListener("focusin",a)}}(c))},encode:function(a){if(!a.target.__upscopeMasked)return{focus:{elementId:f.elementId(a.target)}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../dom-utils"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e)},{"../../dom-utils":299}],309:[function(a,b,c){"use strict";function d(b,c,d,e){return e?[a("./animation-start").default(b,d),a("./blur").default(b,d),a("./video-status-change").default(b,d),a("./click").default(b,d),a("./dom-change").default(b,c),a("./focus").default(b,d),a("./mouse-move").default(b,d),a("./mouse-enter").default(b,d),a("./mouse-leave").default(b,d),a("./scroll").default(b,c),a("./value-change").default(b,d),a("./target").default(b,d),a("./canvas-change").default(b,d),a("./masked-element-size-change").default(b,d),a("./style-sheet-change").default(b,d)]:[a("./animation-start").default(b,d),a("./blur").default(b,d),a("./video-status-change").default(b,d),a("./click").default(b,d),a("./dom-change").default(b,c),a("./focus").default(b,d),a("./mouse-move").default(b,d),a("./mouse-enter").default(b,d),a("./mouse-leave").default(b,d),a("./scroll").default(b,c),a("./value-change").default(b,d),a("./window-resize").default(b,d),a("./target").default(b,d),a("./canvas-change").default(b,d),a("./masked-element-size-change").default(b,d),a("./style-sheet-change").default(b,d)]}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d},{"./animation-start":303,"./blur":304,"./canvas-change":305,"./click":306,"./dom-change":307,"./focus":308,"./masked-element-size-change":310,"./mouse-enter":311,"./mouse-leave":312,"./mouse-move":313,"./scroll":314,"./style-sheet-change":315,"./target":316,"./value-change":317,"./video-status-change":318,"./window-resize":319}],310:[function(a,b,c){(function(a){"use strict";function b(b,c){return{detect:function(b,c){var d=this,e=setInterval(function(){try{d.checkUpdates(c)}catch(b){a("Error collecting masked elements changes (%o)",b),clearInterval(e)}},500);try{this.checkUpdates(c)}catch(b){a("Error collecting masked elements changes (%o)",b)}b(function(a){return function(){clearInterval(a)}}(e))},checkUpdates:function(a){var d=void 0===this.elementSizes;d&&(this.elementSizes={});var e=b._getMaskedElementsSizes(c);if(!d)for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];this.elementSizes[f]!==g&&a({elementId:f,size:g})}this.elementSizes=e},encode:function(a){return{maskedElementSizeChange:a}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=b}).call(this,a("debug")("upscope:modules/browser-watcher-events/masked-element-size-change.js"))},{debug:117}],311:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){var d=function(a){a.isUpscopeBrowserInstruction||c(a)};b.addEventListener("mouseover",d),a(function(a){return function(){b.removeEventListener("mouseover",a)}}(d))},encode:function(a){if(a.target&&!a.target.__upscopeMasked){return{mouseEnter:{elementId:f.elementId(a.target)}}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../dom-utils"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e)},{"../../dom-utils":299}],312:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){var d=function(a){a.isUpscopeBrowserInstruction||c(a)};b.addEventListener("mouseout",d),a(function(a){return function(){b.removeEventListener("mouseout",a)}}(d))},encode:function(a){var b=a.fromElement||a.target;if((!b||!b.__upscopeMasked)&&(!a.toElement||a.toElement.contentDocument)){return{mouseLeave:{elementId:f.elementId(b)}}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../dom-utils"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e)},{"../../dom-utils":299}],313:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){var d=function(a){a.isUpscopeBrowserInstruction||c(a)},f=(0,e.throttle)(d,100);b.addEventListener("mousemove",f),b.addEventListener("mouseleave",f),a(function(a){return function(){b.removeEventListener("mousemove",a),b.removeEventListener("mouseleave",a)}}(f))},encode:function(a){if("mouseleave"===a.type&&!a.toElement&&!a.relatedTarget)return this.encodeLeave();var c={x:a.clientX,y:a.clientY,hoverElementId:null},d=b.elementFromPoint(a.clientX,a.clientY);return d&&!d.__upscopeMasked&&(c.hoverElementId=g.elementId(d)),{mouseMove:c}},encodeLeave:function(){return{mouseMove:{x:-1,y:-1}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../utils"),f=a("../../dom-utils"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f)},{"../../dom-utils":299,"../../utils":350}],314:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,c){var d={},e=function(a){var e=a.target===b.document?"document":h.elementId(a.target);void 0===d[e]&&(d[e]=(0,f.throttle)(function(a){c(a)},100)),d[e](a)};b.document.addEventListener("scroll",e,!0),a(function(a){return function(){b.document.removeEventListener("scroll",a,!0)}}(e))},encode:function(a){var c=void 0;return a.target===b.document?c={x:h.windowScrollX(b),y:h.windowScrollY(b)}:a.target.__upscopeMasked||(c={elementId:h.elementId(a.target),x:a.target.scrollLeft,y:a.target.scrollTop}),{scroll:c}}}}function e(a){return{detect:function(b,c){var d={},e=function(a){var b=h.elementId(a.path[0]);void 0===d[b]&&(d[b]=(0,f.throttle)(function(a){c(a)},100)),d[b](a)};a.addEventListener("scroll",e,!0),b(function(b){return function(){a.removeEventListener("scroll",b,!0)}}(e))},encode:function(a){var b=void 0;return a.path[0].__upscopeMasked||(b={elementId:h.elementId(a.path[0]),x:a.path[0].scrollLeft,y:a.path[0].scrollTop}),{scroll:b}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,c.scrollShadowRoot=e;var f=a("../../utils"),g=a("../../dom-utils"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g)},{"../../dom-utils":299,"../../utils":350}],315:[function(a,b,c){(function(a){"use strict";function b(b,c){return{detect:function(b,c){var d=this,e=setInterval(function(){try{d.checkUpdates(c)}catch(b){a("Error collecting style sheet changes (%o)",b),clearInterval(e)}},500);try{this.checkUpdates(c)}catch(b){a("Error collecting style sheet changes (%o)",b)}var f=this;b(function(a){return function(){clearInterval(a),delete f.styleSheetContents}}(e))},checkUpdates:function(a){var d=void 0===this.styleSheetContents;d&&(this.styleSheetContents={});var e=b._getStyleSheetContents(c);if(!d)for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];this.styleSheetContents[f]!==g&&a({elementId:f,content:g})}this.styleSheetContents=e},encode:function(a){return{styleSheetChange:a}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=b}).call(this,a("debug")("upscope:modules/browser-watcher-events/style-sheet-change.js"))},{debug:117}],316:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,b){var c=this,d=setInterval(function(){return c.checkUpdates(b)},500);a(function(a){return function(){clearInterval(a)}}(d))},checkUpdates:function(a){var c=void 0===this.lastTarget,d=function(){var a=location.hash.length>0?b.getElementById(location.hash.substr(1)):null;return!a||a.__upscopeMasked?null:a.__upscopeID}();d===this.lastTarget||c||a({elementId:d}),this.lastTarget=d},encode:function(a){return{targetChange:a}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d},{}],317:[function(a,b,c){(function(a){"use strict";function b(b,c){return{detect:function(b,c){var d=this,e=setInterval(function(){try{d.checkUpdates(c)}catch(b){a("Error collecting value changes (%o)",b),clearInterval(e)}},500);try{this.checkUpdates(c)}catch(b){a("Error collecting value changes (%o)",b)}var f=this;b(function(a){return function(){clearInterval(a),delete f.formValues}}(e))},checkUpdates:function(a){var d=void 0===this.formValues;d&&(this.formValues={});var e=b._getFormValues(c);if(!d)for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];this.formValues[f]!==g&&a({elementId:f,value:g})}this.formValues=e},encode:function(a){return{valueChange:a}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=b}).call(this,a("debug")("upscope:modules/browser-watcher-events/value-change.js"))},{debug:117}],318:[function(a,b,c){(function(b){"use strict";function d(a,c){return{detect:function(a,d){c.addEventListener("play",d,!0),c.addEventListener("pause",d,!0),c.addEventListener("seeked",d,!0),c.addEventListener("ratechange",d,!0);var e=setInterval(function(){try{var a=!0,g=!1,h=void 0;try{for(var i,j=(0,f.default)(c.getElementsByTagName("video"));!(a=(i=j.next()).done);a=!0){var k=i.value;d({target:k})}}catch(a){g=!0,h=a}finally{try{!a&&j.return&&j.return()}finally{if(g)throw h}}}catch(a){b("Error collecting videos (%o)",a),clearInterval(e)}},5e3);try{var g=!0,h=!1,i=void 0;try{for(var j,k=(0,f.default)(c.getElementsByTagName("video"));!(g=(j=k.next()).done);g=!0){var l=j.value;d({target:l})}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}}catch(a){b("Error collecting videos (%o)",a)}a(function(a){return function(){c.removeEventListener("play",a,!0),c.removeEventListener("pause",a,!0),c.removeEventListener("seeked",a,!0),c.removeEventListener("ratechange",a,!0),clearInterval(e)}}(d))},encode:function(a){var b=a.target;if(!(b.__upscopeMasked||b.dataset&&"yes"===b.dataset.upscopeProxyStream))return{videoStatusChange:{elementId:h.elementId(b),time:b.currentTime,playing:!b.paused,playbackRate:b.playbackRate}}}}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/get-iterator"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);c.default=d;var g=a("../../dom-utils"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g)}).call(this,a("debug")("upscope:modules/browser-watcher-events/video-status-change.js"))},{"../../dom-utils":299,"babel-runtime/core-js/get-iterator":2,debug:117}],319:[function(a,b,c){"use strict";function d(a,b){return{detect:function(a,b){var c=(0,e.throttle)(b,1e3);window.addEventListener("resize",c),a(function(a){return function(){window.removeEventListener("resize",a)}}(c))},encode:function(a){return{windowResize:{w:window.innerWidth,h:window.innerHeight}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e=a("../../utils")},{"../../utils":350}],320:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return(0,l.default)(a)}function g(a){return function(){var b=a.apply(this,arguments);return new z.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return z.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var i=a("babel-runtime/core-js/is-iterable"),j=e(i),k=a("babel-runtime/core-js/array/from"),l=e(k),m=a("babel-runtime/core-js/symbol/iterator"),n=e(m),o=a("babel-runtime/core-js/symbol"),p=e(o),q=a("babel-runtime/core-js/object/define-property"),r=e(q),s=a("babel-runtime/core-js/object/assign"),t=e(s),u=a("babel-runtime/core-js/get-iterator"),v=e(u),w=a("babel-runtime/regenerator"),x=e(w),y=a("babel-runtime/core-js/promise"),z=e(y),A=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=(0,v.default)(a);!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,j.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=t.default||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},C="function"==typeof p.default&&"symbol"==typeof n.default?function(a){return typeof a}:function(a){return a&&"function"==typeof p.default&&a.constructor===p.default&&a!==p.default.prototype?"symbol":typeof a},D=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,r.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),E=a("wildstring"),F=e(E),G=a("lodash/map"),H=e(G),I=a("lodash/values"),J=e(I),K=a("lodash/flatten"),L=e(K),M=a("lodash"),N=a("../utils"),O=a("../dom-utils"),P=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(O),Q=a("./browser-watcher-events"),R=e(Q),S=a("./browser-watcher-events/scroll"),T=a("./assets-utils"),U=void 0===z.default?a("es6-promise").Promise:z.default,V=function(){function a(c,d){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,a),this.active=!1,this.sendEvent=c,this.killers=[],this.assetsCache={},this.sentAssets=[],this.upscopeId=0,this.consoleHandler=d,this.isChildFrame=e,b("trackConsole")&&!b("fromProxy")&&d&&this.consoleHandler.init()}return D(a,[{key:"activate",value:function(){function a(a){return b.apply(this,arguments)}var b=g(x.default.mark(function a(b){var c=this;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d("Activating browser watcher"),this.active=!0,a.next=4,this.awaitDocumentLoaded(window.document);case 4:this._ensureHasIds(null,document,b),this.activateInterval=this.activateInterval||setInterval(function(){return c._activateForWindow(window,Boolean(b),b)},2e3),this._activateForWindow(window,Boolean(b),b);case 7:case"end":return a.stop()}},a,this)}));return a}()},{key:"_activateForWindow",value:function(){function a(){return b.apply(this,arguments)}var b=g(x.default.mark(function a(){var b,c,e,f,h,i,j,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,l=this,m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.awaitDocumentLoaded(k.document);case 2:if(this.active){a.next=4;break}return a.abrupt("return");case 4:if(b=void 0,null!==(b=m?n:"root")){a.next=8;break}return a.abrupt("return");case 8:if(k.document.__upscopeTrackingActive){a.next=30;break}for(d("Activating events watchers for window %O",b),c=!0,e=!1,f=void 0,a.prev=13,h=function(){var a=j.value;a.detect(function(a){l.killers.push(a)},function(){var c=g(x.default.mark(function c(d){var e;return x.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.encode(d);case 2:e=c.sent,"object"===(void 0===e?"undefined":C(e))&&l.sendEvent(b,e);case 4:case"end":return c.stop()}},c,l)}));return function(a){return c.apply(this,arguments)}}())},i=(0,v.default)((0,R.default)(this,k,k.document,m));!(c=(j=i.next()).done);c=!0)h();a.next=22;break;case 18:a.prev=18,a.t0=a.catch(13),e=!0,f=a.t0;case 22:a.prev=22,a.prev=23,!c&&i.return&&i.return();case 25:if(a.prev=25,!e){a.next=28;break}throw f;case 28:return a.finish(25);case 29:return a.finish(22);case 30:if(P.doForShadowRoots(k.document,function(a){return l._activateForShadowRoot(b,a)}),P.doForIframes(k.document,function(a){a.__upscopeID&&(a.__upscopeFrameActive=!0,l._activateForWindow(a.contentWindow,!0,a.__upscopeID))},function(a,b){a.__upscopeID&&(a.__upscopeFrameActive=!0,b.activate(l.sendEvent,a.__upscopeID))}),k.document.__upscopeTrackingActive||k!==window&&!k.parent.document.__upscopeTrackingActive){a.next=43;break}return k.document.__upscopeTrackingActive=!0,a.t1=this,a.t2=b,a.next=38,this.getSnapshot(k);case 38:a.t3=a.sent,a.t4={pageLoad:a.t3},a.t1.sendEvent.call(a.t1,a.t2,a.t4),a.next=44;break;case 43:k.document.__upscopeTrackingActive=!0;case 44:case"end":return a.stop()}},a,this,[[13,18,22,30],[23,,25,29]])}));return a}()},{key:"_deactivateForWindow",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;b.document.__upscopeTrackingActive=!1,P.doForIframes(b.document,function(b){b.__upscopeFrameActive=!1,a._deactivateForWindow(b.contentWindow)},function(a,b){a.__upscopeFrameActive=!1,b.deactivate()},!0),P.doForShadowRoots(b.document,function(a){a.__upscopeTrackingActive=!1})}},{key:"deactivate",value:function(){d("Deactivating events watchers"),clearInterval(this.activateInterval),this.activateInterval=null,this.active=!1,this._removeIds();var a=!0,b=!1,c=void 0;try{for(var e,f=(0,v.default)(this.killers);!(a=(e=f.next()).done);a=!0){var g=e.value;try{g()}catch(a){d("Failed to kill listener (%o)",a)}}}catch(a){b=!0,c=a}finally{try{!a&&f.return&&f.return()}finally{if(b)throw c}}this.killers=[],this._deactivateForWindow()}},{key:"awaitDocumentLoaded",value:function(){function a(a){return b.apply(this,arguments)}var b=g(x.default.mark(function a(b){var c;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=function(){return"complete"===b.readyState||"interactive"===b.readyState})()){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,new U(function(a){var b=setInterval(function(){c()&&(clearInterval(b),a())},100)});case 5:case"end":return a.stop()}},a,this)}));return a}()},{key:"getSnapshot",value:function(){function a(){return c.apply(this,arguments)}var c=g(x.default.mark(function a(){var c,e,f,g,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,N.until)(function(){return Boolean(h.document.documentElement)});case 2:return this._ensureHasIds(),c={version:b("version")},e=void 0,h===window&&(this.sentAssets=[],e=this.collectNewAssets(h.document,i)),f=h.document.doctype,c.doctype=f?"<!DOCTYPE "+f.name+(f.publicId?' PUBLIC "'+f.publicId+'"':"")+(!f.publicId&&f.systemId?" SYSTEM":"")+(f.systemId?' "'+f.systemId+'"':"")+">":null,c.url=h.location.href,g=h.document.getElementsByTagName("base"),0===g.length?c.baseUrl=h.location.href:c.baseUrl=g[0].href,c.styleSheetsCount=h.document.styleSheets.length,c.windowSize={w:h.innerWidth,h:h.innerHeight},c.formValues=this._getFormValues(h.document),a.next=16,this.encodeNode(h.document.documentElement);case 16:if(c.html=a.sent,c.scrollPositions=this._getScrollPositions(h),c.scrollbarWidth=this._getScrollbarWidth(h.document),c.targetElementId=function(){var a=location.hash.length>0?h.document.getElementById(location.hash.substr(1)):null;return a?a.__upscopeID:null}(),c.focusElementId=h.document.activeElement&&"BODY"!==h.document.activeElement.tagName?h.document.activeElement.__upscopeID:null,c.console=this.consoleHandler&&this.consoleHandler.console,c.canvases=this._getCanvasUrls(h.document,i?1:0),c.maskedElementsSizes=this._getMaskedElementsSizes(h.document),c.styleSheetContents=this._getStyleSheetContents(h.document),c.animations=function(){if(!h.document.getAnimations)return[];var a=[],b=!0,c=!1,d=void 0;try{for(var e,f=(0,v.default)(h.document.getAnimations());!(b=(e=f.next()).done);b=!0){var g=e.value;if("[object Animation]"===Object.prototype.toString.apply(g)){g.__upscopeEventSent=!0;var i=P.elementId(g.effect.target);i&&a.push(B({elementId:i},P.encodeAnimation(g)))}}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return a}(),this.active||h!==window||this._removeIds(),a.prev=27,!e){a.next=32;break}return a.next=31,e;case 31:c.assets=a.sent;case 32:a.next=38;break;case 34:a.prev=34,a.t0=a.catch(27),d("Could not collect assets %o",a.t0),c.assets={};case 38:return a.abrupt("return",c);case 39:case"end":return a.stop()}},a,this,[[27,34]])}));return a}()},{key:"collectNewAssets",value:function(){function a(a){return b.apply(this,arguments)}var b=g(x.default.mark(function a(b){var c,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w,y,z=this,B=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c={},e=[],g=document.createElement("a"),h=new Date,i=void 0,e.push.apply(e,f((0,H.default)(b.styleSheets,function(a){return[a.href,a,!1]}))),e.push.apply(e,f((0,H.default)(b.images,function(a){return[a.src,a,!1]
}))),e.push.apply(e,f((0,H.default)(b.getElementsByTagName("use"),function(a){return[a.getAttribute("xlink:href")||("string"==typeof a.href?a.href:null),null,!0]}))),e.push.apply(e,f((0,H.default)((0,L.default)((0,H.default)((0,J.default)(this._getStyleSheetContents(b)),function(a){return P.findAllUrlsInCss(a)})),function(a){return[a,null,!1]})));case 6:if(!(new Date-h>(B?1e3:6e3))){a.next=9;break}return d("Stopped collecting assets as it's been longer than 6 seconds"),a.abrupt("break",62);case 9:j=[],k=!0,l=!1,m=void 0,a.prev=13,n=function(){var a=A(p.value,3),b=a[0],d=a[1],e=a[2];if(!b)return"continue";if(g.href=b,(b=g.href.split("#")[0])===location.href.split("#")[0])return"continue";if(-1===z.sentAssets.indexOf(b)){if(!e&&!z._shouldProxyAsset(b))return"continue";if((0,M.startsWith)(b,"data:"))return"continue";z.assetsCache[b]?c[b]=z.assetsCache[b]:j.push((0,T.collectAsset)(b,d).then(function(a){return[b,a]})),z.sentAssets.push(b)}},o=(0,v.default)(e);case 16:if(k=(p=o.next()).done){a.next=23;break}if("continue"!==(q=n())){a.next=20;break}return a.abrupt("continue",20);case 20:k=!0,a.next=16;break;case 23:a.next=29;break;case 25:a.prev=25,a.t0=a.catch(13),l=!0,m=a.t0;case 29:a.prev=29,a.prev=30,!k&&o.return&&o.return();case 32:if(a.prev=32,!l){a.next=35;break}throw m;case 35:return a.finish(32);case 36:return a.finish(29);case 37:return a.next=39,U.all(j);case 39:for(i=a.sent,e.length=0,r=!0,s=!1,t=void 0,a.prev=44,u=function(){var a=A(y.value,2),b=a[0],d=a[1];void 0!==d&&(c[b]=d,z.assetsCache[b]=d),window.URL&&d&&0===d.indexOf("text/css")&&e.push.apply(e,f((0,H.default)(P.findAllUrlsInCss(window.atob(d.substr(d.indexOf(":")+1))),function(a){return[new URL(a,b).href,null,!1]})))},w=(0,v.default)(i);!(r=(y=w.next()).done);r=!0)u();a.next=53;break;case 49:a.prev=49,a.t1=a.catch(44),s=!0,t=a.t1;case 53:a.prev=53,a.prev=54,!r&&w.return&&w.return();case 56:if(a.prev=56,!s){a.next=59;break}throw t;case 59:return a.finish(56);case 60:return a.finish(53);case 61:if(i.length>0){a.next=6;break}case 62:return a.abrupt("return",c);case 63:case"end":return a.stop()}},a,this,[[13,25,29,37],[30,,32,36],[44,49,53,61],[54,,56,60]])}));return a}()},{key:"_shouldProxyAsset",value:function(a){if(0===a.indexOf("blob:"))return!0;if(0===a.indexOf("chrome-extension:"))return!0;var c=!0,d=!1,e=void 0;try{for(var f,g=(0,v.default)(b("proxyAssets"));!(c=(f=g.next()).done);c=!0){var h=f.value;if(F.default.match(h,a))return!0}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}return!1}},{key:"encodeNode",value:function(){function a(a){return b.apply(this,arguments)}var b=g(x.default.mark(function a(b){var c,d=this;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("ELEMENT_NODE"!==P.NODE_TYPES[b.nodeType]){a.next=24;break}if(c={tag:b.tagName+"#"+b.__upscopeID},b.__upscopeMasked&&(c.masked=!0),b.__upscopeNoRemoteControl&&(c.rc=!1),"http://www.w3.org/2000/svg"===b.namespaceURI&&(c.svg=1),b.attributes.length>0&&(c.a=function(){for(var a={},c=0;c<b.attributes.length;c++){var d=b.attributes[c];a[d.name]=d.value,b.__upscopeMasked&&"value"===d.name&&(a[d.name]=d.value.replace(/./g,"*"))}return a}()),!(b.childNodes.length>0||b.shadowRoot)||b.__upscopeMasked){a.next=10;break}return a.next=9,g(x.default.mark(function a(){var c,e,f,g,h,i,j,k,l,m;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(c=[],e=[],f=0;f<b.childNodes.length;f++)g=b.childNodes[f],e.push(d.encodeNode(g));return h=!0,i=!1,j=void 0,a.prev=5,a.t0=v.default,a.next=9,U.all(e);case 9:a.t1=a.sent,k=(0,a.t0)(a.t1);case 11:if(h=(l=k.next()).done){a.next=17;break}m=l.value,null!==m&&"SCRIPT"!==b.tagName&&c.push(m);case 14:h=!0,a.next=11;break;case 17:a.next=23;break;case 19:a.prev=19,a.t2=a.catch(5),i=!0,j=a.t2;case 23:a.prev=23,a.prev=24,!h&&k.return&&k.return();case 26:if(a.prev=26,!i){a.next=29;break}throw j;case 29:return a.finish(26);case 30:return a.finish(23);case 31:if(!b.shadowRoot){a.next=37;break}return a.t3=c,a.next=35,d.encodeNode(b.shadowRoot);case 35:a.t4=a.sent,a.t3.push.call(a.t3,a.t4);case 37:return a.abrupt("return",c);case 38:case"end":return a.stop()}},a,d,[[5,19,23,31],[24,,26,30]])}))();case 9:c.c=a.sent;case 10:if("IFRAME"!==b.tagName){a.next=22;break}if(!P.isVisible(b)&&!b.__upscopeFrameActive){a.next=22;break}if(!b.__upscopeChildFrameHandler){a.next=18;break}return a.next=15,b.__upscopeChildFrameHandler.getSnapshot(b.__upscopeID);case 15:c.iframe=a.sent,a.next=22;break;case 18:if(void 0===b.contentWindow||!P.checkIframeAccess(b)){a.next=22;break}return a.next=21,this.getSnapshot(b.contentWindow);case 21:c.iframe=a.sent;case 22:return"IMG"===b.tagName&&(c.isLoaded=Boolean(b.complete)),a.abrupt("return",c);case 24:if("TEXT_NODE"!==P.NODE_TYPES[b.nodeType]){a.next=26;break}return a.abrupt("return",{text:b.textContent});case 26:if("DOCUMENT_FRAGMENT_NODE"!==P.NODE_TYPES[b.nodeType]){a.next=32;break}return a.next=29,g(x.default.mark(function a(){var c,e,f,g,h,i,j,k,l,m;return x.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(c=[],e=[],f=0;f<b.childNodes.length;f++)g=b.childNodes[f],e.push(d.encodeNode(g));return h=!0,i=!1,j=void 0,a.prev=5,a.t0=v.default,a.next=9,U.all(e);case 9:a.t1=a.sent,k=(0,a.t0)(a.t1);case 11:if(h=(l=k.next()).done){a.next=17;break}m=l.value,null!==m&&"SCRIPT"!==b.tagName&&c.push(m);case 14:h=!0,a.next=11;break;case 17:a.next=23;break;case 19:a.prev=19,a.t2=a.catch(5),i=!0,j=a.t2;case 23:a.prev=23,a.prev=24,!h&&k.return&&k.return();case 26:if(a.prev=26,!i){a.next=29;break}throw j;case 29:return a.finish(26);case 30:return a.finish(23);case 31:if(!b.shadowRoot){a.next=37;break}return a.t3=c,a.next=35,d.encodeNode(b.shadowRoot);case 35:a.t4=a.sent,a.t3.push.call(a.t3,a.t4);case 37:return a.abrupt("return",c);case 38:case"end":return a.stop()}},a,d,[[5,19,23,31],[24,,26,30]])}))();case 29:return a.t0=a.sent,a.t1=function(a){var b="",c=!0,d=!1,e=void 0;try{for(var f,g=(0,v.default)(a||[]);!(c=(f=g.next()).done);c=!0){var h=f.value;b+=(0,T.getStylesheetContent)(h)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}return b}(b.adoptedStyleSheets),a.abrupt("return",{shadowRoot:!0,c:a.t0,ss:a.t1});case 32:return a.abrupt("return",null);case 33:case"end":return a.stop()}},a,this)}));return a}()},{key:"_getScrollPositions",value:function(a){return{window:{x:P.windowScrollX(a),y:P.windowScrollY(a)},elements:this._getRootScrollPositions(a.document)}}},{key:"_getRootScrollPositions",value:function(a){for(var b=a.getElementsByTagName?a.getElementsByTagName("*"):a.querySelectorAll("*"),c={},d=0;d<b.length;d++){var e=b[d];e.parentNode&&e.parentNode.__upscopeMasked||"HTML"!==e.tagName&&(e.shadowRoot&&(0,t.default)(c,this._getRootScrollPositions(e.shadowRoot)),0===e.scrollLeft&&0===e.scrollTop||(c[e.__upscopeID]={x:e.scrollLeft,y:e.scrollTop}))}return c}},{key:"_activateForShadowRoot",value:function(a,b){var c=this;if(!b.__upscopeTrackingActive){b.__upscopeTrackingActive=!0;var d=(0,S.scrollShadowRoot)(b);d.detect(function(a){c.killers.push(a)},function(){var b=g(x.default.mark(function b(e){var f;return x.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,d.encode(e);case 2:f=b.sent,"object"===(void 0===f?"undefined":C(f))&&c.sendEvent(a,f);case 4:case"end":return b.stop()}},b,c)}));return function(a){return b.apply(this,arguments)}}())}}},{key:"_getFormValues",value:function(a){for(var b={},c=[].concat(f(a.getElementsByTagName("input")),f(a.getElementsByTagName("textarea")),f(a.getElementsByTagName("select"))),d=0;d<c.length;d++){var e=c[d];if(e.__upscopeID&&("file"!==e.type&&!e.parentNode.__upscopeMasked)){var g=void 0,h=void 0;"SELECT"===e.tagName?(g="selectedIndex",h=e.selectedIndex):"checkbox"===e.type||"radio"===e.type?(g="checked",h=e.checked?1:0):(g="value",h=e.value,e.__upscopeMasked&&(h=h.replace(/./g,"*"))),b[e.__upscopeID]=g+":"+h}}return b}},{key:"_getStyleSheetContents",value:function(a){var c=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f={},g=a.styleSheets;if(this.styleSheetContents=this.styleSheetContents||{},this.styleSheetContents[a.__upscopeRootId||"root"]=this.styleSheetContents[a.__upscopeRootId||"root"]||{},this.styleSheetContents[a.__upscopeRootId||"root"][e?1:0])return this.styleSheetContents[a.__upscopeRootId||"root"][e?1:0];for(var h=Number(new Date),i=0;i<g.length;i++){var j=g[i],k=j.ownerNode;try{if(!k||!k.__upscopeID||k.__upscopeError)continue;if(!e&&!b("styleSheetContentFromRules")(k))continue;f[k.__upscopeID]=(0,T.getStylesheetContent)(j)}catch(a){k.__upscopeError=!0,d("Could not retrieve content from stylesheet (%o)",a)}}var l=Number(new Date)-h;return l>100&&(this.styleSheetContents[a.__upscopeRootId||"root"][e?1:0]=f,setTimeout(function(){return delete c.styleSheetContents[a.__upscopeRootId||"root"][e?1:0]},7*l)),f}},{key:"_getScrollbarWidth",value:function(a){var b=a.createElement("div");if(b.style.width="100px",b.style.height="100px",b.style.overflow="scroll",b.style.position="absolute",b.style.top="-9999px",!a.body)return 0;a.body.appendChild(b);var c=b.offsetWidth-b.clientWidth;return a.body.removeChild(b),c}},{key:"_getCanvasUrls",value:function(a){var c=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!b("enableCanvases"))return{};0===e&&this.canvasCompressionOn&&(e=.5),this.canvasContents=this.canvasContents||{},this.canvasContents[a.__upscopeRootId||"root"]=this.canvasContents[a.__upscopeRootId||"root"]||{},this.canvasContents[a.__upscopeRootId||"root"][e]=this.canvasContents[a.__upscopeRootId||"root"][e]||{};var g=Number(new Date),h={},i=[];this.canvasErrors=this.canvasErrors||[];for(var j=[].concat(f(a.getElementsByTagName("canvas")),f(a.getElementsByTagName("video"))),k=0;k<j.length;k++){var l=j[k];if(l.__upscopeID&&(P.isVisible(l)&&("CANVAS"===l.tagName||"yes"===l.dataset.upscopeProxyStream)&&!(this.canvasErrors.indexOf(l.__upscopeID)>-1)&&P.isVisible(l)))try{this.canvasContents[a.__upscopeRootId||"root"][e][l.__upscopeID]||(i.push(l.__upscopeID),this.canvasContents[a.__upscopeRootId||"root"][e][l.__upscopeID]=(0,T.getDataUrl)(l,e)),h[l.__upscopeID]=this.canvasContents[a.__upscopeRootId||"root"][e][l.__upscopeID]}catch(a){this.canvasErrors.push(l.__upscopeID),d("Ignoring canvas %o due to error %o",l,a)}}var m=Number(new Date)-g;return setTimeout(function(){var b=!0,d=!1,f=void 0;try{for(var g,h=(0,v.default)(i);!(b=(g=h.next()).done);b=!0){var j=g.value;delete c.canvasContents[a.__upscopeRootId||"root"][e][j]}}catch(a){d=!0,f=a}finally{try{!b&&h.return&&h.return()}finally{if(d)throw f}}},7*Math.min(m,1e3)),m>800&&(this.canvasCompressionOn||d("Turning canvas compression on"),this.canvasCompressionOn=!0,clearTimeout(this.canvasCompressionOffTimeout),this.canvasCompressionOffTimeout=setTimeout(function(){c.canvasCompressionOn=!1},1e4)),h}},{key:"_getMaskedElementsSizes",value:function(a){for(var b={},c=a.getElementsByTagName("*"),d=0;d<c.length;d++){var e=c[d];e.__upscopeID&&(e.parentNode.__upscopeMasked||e.__upscopeMasked&&(b[e.__upscopeID]=[e.offsetWidth,e.offsetHeight].join("x")))}return b}},{key:"_ensureHasIds",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments[3];e&&(c.__upscopeRootId=e);for(var g=c.getElementsByTagName?c.getElementsByTagName("*"):c.querySelectorAll("*"),h=0;h<g.length;h++){var i=g[h];void 0===i.__upscopeID&&(f&&f(i),i.__upscopeID=(e?e+">":"")+(a?a+"-":"")+String(this.upscopeId++),i.__upscopeMutationBatch=a,b("maskElementMiddleware")(i)&&(i.__upscopeMasked=!0),(this.isChildFrame||i.__upscopeMasked||!b("allowRemoteMiddleware")(i))&&(i.__upscopeNoRemoteControl=!0)),"upscope___overlay"!==i.id&&void 0!==i.style&&"string"==typeof i.style.zIndex&&i.style.zIndex.length>0&&parseInt(i.style.zIndex,10)>2147483645&&(i.style.zIndex="2147483645"),i.shadowRoot&&this._ensureHasIds(a,i.shadowRoot,i.__upscopeID,f)}P.doForIframes(c,function(b){return d._ensureHasIds(a,b.contentDocument,b.__upscopeID,f)})}},{key:"_removeIdsFromElement",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==a.__upscopeID&&(delete a.__upscopeID,void 0!==a.__upscopeMasked&&delete a.__upscopeMasked,void 0!==a.__upscopeMutationBatch&&delete a.__upscopeMutationBatch,void 0!==a.__upscopeNoRemoteControl&&delete a.__upscopeNoRemoteControl,void 0!==a.__upscopeScrollable&&delete a.__upscopeScrollable,a.shadowRoot&&this._removeIds(a.shadowRoot),b))for(var c=a.getElementsByTagName?a.getElementsByTagName("*"):a.querySelectorAll("*"),d=0;d<c.length;d++)this._removeIdsFromElement(c[d],!1)}},{key:"_removeIds",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;d("Removing all elements IDs for document (%o)",b),void 0!==b.__upscopeRootId&&delete b.__upscopeRootId;for(var c=b.getElementsByTagName?b.getElementsByTagName("*"):b.querySelectorAll("*"),e=0;e<c.length;e++)this._removeIdsFromElement(c[e]);P.doForIframes(b,function(b){return a._removeIds(b.contentDocument)},null,!0),this.upscopeId=0}}]),a}();c.default=V}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/browser-watcher.js"))},{"../dom-utils":299,"../utils":350,"./assets-utils":300,"./browser-watcher-events":309,"./browser-watcher-events/scroll":314,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3,"babel-runtime/core-js/object/assign":5,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,"babel-runtime/regenerator":11,debug:117,"es6-promise":120,lodash:280,"lodash/flatten":263,"lodash/map":281,"lodash/values":292,wildstring:298}],321:[function(a,b,c){(function(b,d,e,f,g,h,i,j){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}function l(a){return Array.isArray(a)?a:(0,r.default)(a)}function m(a){return function(){var b=a.apply(this,arguments);return new J.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return J.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var o=a("babel-runtime/core-js/object/assign"),p=k(o),q=a("babel-runtime/core-js/array/from"),r=k(q),s=a("babel-runtime/core-js/symbol/iterator"),t=k(s),u=a("babel-runtime/core-js/symbol"),v=k(u),w=a("babel-runtime/core-js/is-iterable"),x=k(w),y=a("babel-runtime/core-js/object/define-property"),z=k(y),A=a("babel-runtime/core-js/object/keys"),B=k(A),C=a("babel-runtime/core-js/json/stringify"),D=k(C),E=a("babel-runtime/regenerator"),F=k(E),G=a("babel-runtime/core-js/get-iterator"),H=k(G),I=a("babel-runtime/core-js/promise"),J=k(I),K=p.default||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},L="function"==typeof v.default&&"symbol"==typeof t.default?function(a){return typeof a}:function(a){return a&&"function"==typeof v.default&&a.constructor===v.default&&a!==v.default.prototype?"symbol":typeof a},M=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=(0,H.default)(a);!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,x.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,z.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),O=a("../utils"),P=a("../dom-utils"),Q=a("./storage"),R=k(Q),S=a("./dialogs"),T=a("./browser-watcher"),U=k(T),V=a("./browser-instructions"),W=k(V),X=a("./terminate-button-controller"),Y=k(X),Z=a("./request-agent-button-controller"),$=k(Z),_=a("./lookup-code-controller"),aa=k(_),ba=a("./integration"),ca=k(ba),da=a("./console-handler"),ea=k(da),fa=a("./phone-controller"),ga=k(fa),ha=a("./history-collector"),ia=k(ha),ja=a("./link-proxy-rewrite"),ka=k(ja),la=a("./browser-support"),ma=k(la),na=void 0===J.default?a("es6-promise").Promise:J.default,oa=function(){function a(){var c=this;n(this,a),e("Setting up Upscope connection manager"),this.ws=null,this.socketReady=!1,this.waitBeforeReconnect=0,this.socketAttemptingReconnect=!1,this.brokenConnectionTimeout=null,this.socketConnected=!1,this.socketConnecting=!1,this.closedSocketAfterInactivity=!1,this.doNotReconnect=!1,this.doNotDisconnect=!1,this.shortId=null,this.uniqueConnectionId=null,this.connectionActiveSince=null,this.sessionStatus=null,this.eventId=0,this.pageLoadId=(0,O.uuid)(),this.lookupCode=null,this.listeners={},this.currentUrl=d().href,this.agentsAvailable=!1,this.consoleHandler=new ea.default(function(a){"active"===c.sessionStatus&&c.sendBrowserEvent("root",{console:a})}),this.phoneController=new ga.default,this.browserWatcher=new U.default(function(a,b){return c.sendBrowserEvent(a,b)},this.consoleHandler),this.browserInstructionsReceiver=new W.default(this,this.consoleHandler),this.integration=new ca.default(this),this.linkProxyRewrite=new ka.default(this),this.integration.init(),this._checkQueryString(),this._checkNamedCall(),new aa.default(this),(b("showUpscopeLink")||b("showTerminateButton"))&&new Y.default(this),"never"!==b("showAgentRequestButton")&&new $.default(this),b("collectHistory")&&(this.historyCollector=new ia.default(this,this.browserWatcher)),this._initialConnect()}return N(a,[{key:"_initialConnect",value:function(){function a(){return c.apply(this,arguments)}var c=m(F.default.mark(function a(){var c,d=this;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._setRegion();case 2:if(a.t1=b("autoconnect"),a.t1){a.next=7;break}return a.next=6,this._hasRecentlyConnected();case 6:a.t1=a.sent;case 7:if(a.t0=a.t1,a.t0){a.next=10;break}a.t0=this._isPriority();case 10:if(!a.t0){a.next=14;break}this._connect(this._isPriority()),a.next=15;break;case 14:c=setInterval(m(F.default.mark(function a(){var b,e,f,g,h,i,j;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(d.socketConnecting||d.socketConnected||d.doNotReconnect)&&clearInterval(c),a.next=3,d._hasRecentlyConnected();case 3:if(a.t0=a.sent,a.t0){a.next=6;break}a.t0=d._isPriority();case 6:for(b=a.t0,e=!0,f=!1,g=void 0,a.prev=10,h=(0,H.default)(window.Upscope.q);!(e=(i=h.next()).done);e=!0)j=i.value,["connect","getWatchLink","getLookupCode","getUserId","getShortId","requestAgent"].indexOf(j[0])>-1&&(b=!0);a.next=18;break;case 14:a.prev=14,a.t1=a.catch(10),f=!0,g=a.t1;case 18:a.prev=18,a.prev=19,!e&&h.return&&h.return();case 21:if(a.prev=21,!f){a.next=24;break}throw g;case 24:return a.finish(21);case 25:return a.finish(18);case 26:if(b){a.next=28;break}return a.abrupt("return");case 28:d._connect(!0),clearInterval(c);case 30:case"end":return a.stop()}},a,d,[[10,14,18,26],[19,,21,25]])})),1e3);case 15:case"end":return a.stop()}},a,this)}));return a}()},{key:"_setRegion",value:function(){function a(){return c.apply(this,arguments)}var c=m(F.default.mark(function a(){var c;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t1=b("region"),a.t1){a.next=5;break}return a.next=4,R.default.get("region");case 4:a.t1=a.sent;case 5:if(a.t0=a.t1,a.t0){a.next=8;break}a.t0=window.Upscope.__defaultRegion;case 8:c=a.t0,c&&(b("dataEndpoint",(0,O.baseEndpoint)("data--"+c,3005,"ws")+"/session"),b("pageviewsEndpoint",(0,O.baseEndpoint)("data-collection--"+c,3005)+"/pageviews"),R.default.set("region",c));case 10:case"end":return a.stop()}},a,this)}));return a}()},{key:"_getIds",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){var b;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e("Finding saved IDs"),this.uniqueConnectionId=sessionStorage.getItem("__upscope:uniqueConnectionId"),this.connectionActiveSince=sessionStorage.getItem("__upscope:connectionActiveSince"),null===this.connectionActiveSince&&(this.connectionActiveSince=new Date,sessionStorage.setItem("__upscope:connectionActiveSince",this.connectionActiveSince)),a.next=6,R.default.get("shortId");case 6:return this.shortId=a.sent,a.next=9,R.default.get("lookupCode");case 9:if(this.lookupCode=a.sent,!this.shortId&&this.shortIdFromQueryString&&(this.shortId=this.shortIdFromQueryString,R.default.set("shortId",this.shortId)),!this.lookupCode){a.next=16;break}return a.next=14,R.default.get("lookupCodeSetAt");case 14:b=a.sent,(!b||new Date-new Date(b)>36e5)&&(this.lookupCode=null);case 16:e("Found IDs: shortID (%s), uniqueConnectionId (%s), lookupCode (%s)",this.shortId,this.uniqueConnectionId,this.lookupCode);case 17:case"end":return a.stop()}},a,this)}));return a}()},{key:"encodeConnectionInfo",value:function(){var a=this.integration?this.integration.integrationUserIdentities:void 0,c=this.integration?this.integration.integrationUserUniqueId:void 0,e=navigator&&navigator.connection&&navigator.connection.downlink,f=navigator&&navigator.connection&&navigator.connection.effectiveType;return{apiKey:b("apiKey"),shortId:this.shortId,lookupCode:this.lookupCode,uniqueConnectionId:this.uniqueConnectionId,currentUrl:d().href,activeSince:this.connectionActiveSince,agentPrompt:b("agentPrompt"),identities:void 0===b("identities")?a:b("identities"),uniqueId:void 0===b("uniqueId")?c:b("uniqueId"),callName:b("callName"),tags:b("tags"),integrationIds:b("integrationIds"),integration:b("integrateWithLivechat")?this.integration.integrationId:null,requireAuthorizationForSession:b("requireAuthorizationForSession"),encrypted:b("encrypted"),allowAgentRedirect:b("allowAgentRedirect"),allowRemoteConsole:b("allowRemoteConsole"),allowRemoteClick:b("allowRemoteClick"),allowRemoteScroll:b("allowRemoteScroll"),allowRemoteType:b("allowRemoteType"),jsConfiguration:b("jsConfiguration"),audioSupported:(0,ma.default)("audio"),hasFocus:"visible"===document.visibilityState,proxied:!0===b("fromProxy"),version:b("version"),timestamp:"function"==typeof Date.now?Date.now():null,estimatedConnectionMbps:e,estimatedConnectionType:f}}},{key:"_handleSocketMessage",value:function(a){var b=this,c=JSON.parse(a.data),d=c.c,f=c.d;switch("ping"!==d&&e("Received instruction %s with data %O",d,f),d){case"ping":return this._receivedPing(),void this._emit("pong");case"youAre":return function(){var a=m(F.default.mark(function a(c){var d,e,f;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=M(c,2),e=d[0],f=d[1],b.shortId!==e&&R.default.set("shortId",e),b.uniqueConnectionId!==f&&sessionStorage.setItem("__upscope:uniqueConnectionId",f),b.uniqueConnectionId=f,b.shortId=e,b.connectionReady();case 6:case"end":return a.stop()}},a,b)}));return function(b){return a.apply(this,arguments)}}()(f);case"apiKeyError":case"dataError":return function(a){var b=M(a,2),c=b[0],d=b[1];j(c,d)}(f);case"welcomeBack":this.connectionReady();break;case"doNotReconnect":this.doNotReconnect=!0;break;case"doNotDisconnect":this.doNotDisconnect=!0;break;case"youCanDisconnect":this.doNotDisconnect=!1;break;case"beginSession":return this.handleBeginSession(f);case"continueSession":return this.handleContinueSession(f);case"sessionUpdate":return this.handleSessionUpdate(f);case"endSession":return this.handleEndSession(f);case"browserInstruction":return this.handleBrowserInstruction(f);case"newObserver":return this._trigger("newObserver",f);case"observerGone":return this._trigger("observerGone",f),this.browserInstructionsReceiver.observerGone(f);case"callStart":return this.handleCallStart(f);case"callEnd":return this.handleCallEnd();case"callAccepted":return this.handleCallAccepted();case"agentsAvailable":return this.agentsAvailable=!0,this._trigger("agentsAvailable"),void e("Agents are available");case"requestStatus":return this.handleRequestStatusChange(f);case"sessionRatingToken":this.sessionRatingInfo=f;break;case"proxyToken":this.proxyToken=f.token;break;case"closeRatingScreen":j("info","Closing rating screen");break;default:return j("error","Unrecognized connection message",d)}}},{key:"_connect",value:function(){function a(){return c.apply(this,arguments)}var c=m(F.default.mark(function a(){var c=this,d=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._getIds();case 2:if(d&&R.default.set("lastConnectedAt",new Date),(0,ma.default)("all")){a.next=5;break}return a.abrupt("return",this._reportUnsupportedBrowser());case 5:if(!(this.doNotReconnect||this.socketConnecting||this.socketConnected)){a.next=7;break}return a.abrupt("return");case 7:this.socketConnecting=!0,e("Setting up websocket connection"),this.ws=new WebSocket(b("dataEndpoint")+"?apiKey="+b("apiKey")+"&version="+b("version")+(this._isPriority()?"&priority=1":"")),this.ws.addEventListener("open",function(){e("Websocket connection opened"),c.socketConnecting=!1,c.socketConnected=!0,c.waitBeforeReconnect=0,c.socketAttemptingReconnect=!1,c.closedSocketAfterInactivity=!1,c._emit("hello",c.encodeConnectionInfo()),c._receivedPing()}),this.ws.onclose=function(){e("Websocket connection closed"),c.socketConnected&&(e("Will end session in 10 seconds after web socket connection closed"),c.startedSessionAfterDisconnect=!1,setTimeout(function(){if(c.socketConnected&&c.startedSessionAfterDisconnect)return e("Socket connected again, will not be ending session");c.handleEndSession()},2e4)),c.socketConnected=!1,c.socketConnecting=!1,c.socketReady=!1,c.socketAttemptingReconnect=!1,c.closedSocketAfterInactivity||c._reconnect()},this.ws.addEventListener("error",function(){e("Websocket connection error")}),this.ws.addEventListener("message",this._handleSocketMessage.bind(this)),this._manageIdleDisconnect();case 15:case"end":return a.stop()}},a,this)}));return a}()},{key:"_reportUnsupportedBrowser",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){var b,c=this;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=new XMLHttpRequest,b.open("POST",(0,O.baseEndpoint)("data",3005)+"/unsupported-user/"),b.setRequestHeader("Content-Type","application/json;charset=UTF-8"),b.send((0,D.default)({user:this.encodeConnectionInfo()})),b.addEventListener("load",function(){if(b.status>299)return j("error","Problem reporting unsupported browser",b.status,b.response);var a=JSON.parse(b.response),d=a.shortId;c.shortId=d,R.default.set("shortId",d),c.integration.live(c.getWatchLink())});case 5:case"end":return a.stop()}},a,this)}));return a}()},{key:"_reportPageviews",value:function(){function a(a){return c.apply(this,arguments)}var c=m(F.default.mark(function a(c){var d=this;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new na(function(a,f){var g=new XMLHttpRequest;g.open("POST",b("pageviewsEndpoint")),g.setRequestHeader("Content-Type","application/json;charset=UTF-8"),g.send((0,D.default)({user:{apiKey:b("apiKey"),shortId:d.shortId},pageviews:c})),g.addEventListener("load",function(){g.status>299&&(e("Pageview reporting returned code %d (%o)",g.status,g.response),f(new Error("Problem reporting pageviews"))),200===g.status&&a()})}));case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"_receivedPing",value:function(){var a=this;this.connected&&(this.brokenConnectionTimeout&&(this.brokenConnectionTimeout=clearInterval(this.brokenConnectionTimeout)),this.brokenConnectionTimeout=setTimeout(function(){e("Disconnecting because the server has not sent a ping for too long"),a.ws.close()},6e4))}},{key:"_reconnect",value:function(){var a=this;this.waitBeforeReconnect+=1e3,this.socketAttemptingReconnect=!0;var b=Math.floor(15*Math.random())-10,c=this._isPriority()?500:this.waitBeforeReconnect*(b>0?b:1);this.reconnectTimeout||this.socketConnecting||this.socketConnected||this.doNotReconnect||(e("Waiting %d seconds before reconnecting",parseInt(c/1e3,10)),this.reconnectTimeout=setTimeout(function(){a._connect(!1),a.reconnectTimeout=null},c))}},{key:"_isPriority",value:function(){return sessionStorage.getItem("__upscope:everActive")||sessionStorage.getItem("__upscope:integrationOpened")||sessionStorage.getItem("__upscope:lookupCodeClick")||sessionStorage.getItem("__upscope:namedCall")||b("fromProxy")}},{key:"_hasRecentlyConnected",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){var b;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.default.get("lastConnectedAt");case 2:if(b=a.sent){a.next=5;break}return a.abrupt("return",!1);case 5:return a.abrupt("return",new Date-new Date(b)<864e5);case 6:case"end":return a.stop()}},a,this)}));return a}()},{key:"_checkQueryString",value:function(){if(-1!==location.search.indexOf("__upscope_")){var a=location.search.indexOf("__upscope_call_for=")>-1&&location.search.split(/[?|&]__upscope_call_for=/).pop().split("&").shift()||void 0;a&&b("callName",a);var c=location.search.indexOf("__upscope_unique_id=")>-1&&location.search.split(/[?|&]__upscope_unique_id=/).pop().split("&").shift()||void 0;c&&b("uniqueId",c);var d=location.search.indexOf("__upscope_short_id=")>-1&&location.search.split(/[?|&]__upscope_short_id=/).pop().split("&").shift()||void 0;d&&(this.shortIdFromQueryString=d);var e=location.search.replace(/[&?]__upscope_[A-z_]+=[^&]+/g,"");0===e.indexOf("&")&&(e="?"+e.substr(1)),window.history&&window.history.replaceState(null,null,location.origin+location.pathname+e)}}},{key:"_checkNamedCall",value:function(){function a(){return c.apply(this,arguments)}var c=m(F.default.mark(function a(){var c;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b("callName")){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,R.default.get("waitingForCallAt");case 4:if(!((c=a.sent)&&new Date-new Date(c)<864e5)){a.next=7;break}return a.abrupt("return");case 7:R.default.set("waitingForCallAt",new Date),this._trigger("waitingForCall"),sessionStorage.setItem("__upscope:namedCall",!0);case 10:case"end":return a.stop()}},a,this)}));return a}()},{key:"connectionReady",value:function(){var a=this;this.socketReady=!0,this.processQueue(),this.queueInterval=this.queueInterval||setInterval(function(){return a.processQueue()},200),this._watchUrlChanges(),this._reportIdleness(),this.browserInstructionsReceiver.init(),this.integration.live(this.getWatchLink()),this._trigger("connection"),b("alertDebugInfo")&&this.getLookupCode().then(function(a){return alert("Upscope lookup code is "+a)})}},{key:"_watchUrlChanges",value:function(){var a=this;this.urlChangesInterval=this.urlChangesInterval||setInterval(function(){a.currentUrl!==d().href&&(a.currentUrl=d().href,e("Detected url changed to %s",a.currentUrl),a._emit("connectionUpdate",{currentUrl:a.currentUrl}))},1e3)}},{key:"handleBeginSession",value:function(){function a(a){return c.apply(this,arguments)}var c=m(F.default.mark(function a(c){var d,f=this;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.startedSessionAfterDisconnect=!0,d=!0,sessionStorage.setItem("__upscope:everActive",!0),e("Starting screen share"),!b("requireAuthorizationForSession")){a.next=11;break}return e("Will request authorization from user for screen share"),this._emit("sessionStatusUpdate","pendingRequest"),this.sessionStatus="pendingRequest",a.next=10,new na(function(a,d){b("onSessionRequest").call(b(),a,c.requestingAgent),f._trigger("sessionRequest")})
;case 10:d=a.sent;case 11:setTimeout(function(){if("active"===f.sessionStatus)return f._emit("sessionStatusUpdate","active");d?(e("User approved request or no approval was needed. Screen share begins now"),f._emit("sessionStatusUpdate","active"),f.sessionStatus="active",f.browserWatcher.activate(),f._trigger("sessionStart")):(e("User did not approve screen share. Terminating session now."),f._emit("stopSession"))},50);case 12:case"end":return a.stop()}},a,this)}));return a}()},{key:"handleCallStart",value:function(){function a(a){return c.apply(this,arguments)}var c=m(F.default.mark(function a(c){var d,f=this;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e("Received phone call request"),this.callToken=c,this._trigger("callStart"),a.next=5,new na(function(a){"function"==typeof b("customCallController")?b("customCallController")(a):f.phoneController.show(a)});case 5:d=a.sent,e("Phone call "+(d?"authorized":"refused")),d?this.acceptCall():this.endCall();case 8:case"end":return a.stop()}},a,this)}));return a}()},{key:"acceptCall",value:function(){this._emit("acceptCall"),window.open(b("phoneEndpoint")+"?token="+this.callToken,"upscope-phone","toolbar=no,top=0,left=0,width=400,height=200")}},{key:"endCall",value:function(){this._emit("endCall")}},{key:"handleCallAccepted",value:function(){this.phoneController.hide(),this._trigger("callAccepted")}},{key:"handleRequestStatusChange",value:function(a){e("Agent request is now %s",a),this._trigger("agentRequestUpdate",a)}},{key:"requestAgent",value:function(){e("Requesting agent"),this._emit("requestAgent")}},{key:"cancelRequestAgent",value:function(){e("Canceling agent request"),this._emit("cancelRequestAgent")}},{key:"handleCallEnd",value:function(){this.phoneController.hide(),this._trigger("callEnd")}},{key:"getLookupCode",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){var b,c;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._connect(!0);case 2:if(!this.lookupCode){for(b="",c=0;c<4;c++)b+=String(Math.floor(10*Math.random()));this.lookupCode=b,this.socketConnected&&this._emit("connectionUpdate",{lookupCode:this.lookupCode})}return R.default.set("lookupCodeSetAt",new Date),R.default.set("lookupCode",this.lookupCode),a.abrupt("return",this.lookupCode);case 6:case"end":return a.stop()}},a,this)}));return a}()},{key:"handleContinueSession",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(sessionStorage.setItem("__upscope:everActive",!0),this.startedSessionAfterDisconnect=!0,"active"!==this.sessionStatus){a.next=4;break}return a.abrupt("return",this.sendSnapshot());case 4:this.sessionStatus="active",this.browserWatcher.activate(),this._trigger("sessionContinue");case 7:case"end":return a.stop()}},a,this)}));return a}()},{key:"handleSessionUpdate",value:function(a){"active"!==this.sessionStatus&&(this.sessionStatus=a.status,"active"===a.status&&((0,S.clearDialogs)(),this.sessionStatus="active",this.browserWatcher.activate(),this._trigger("sessionStart")))}},{key:"handleEndSession",value:function(){null!==this.sessionStatus&&(0,S.clearDialogs)(),"active"===this.sessionStatus&&(e("Ending session"),this.browserWatcher.deactivate(),this.browserInstructionsReceiver.hideAll(),this._trigger("sessionEnd")),this.phoneController.hide(),this.sessionStatus=null,R.default.del("waitingForCallAt")}},{key:"stopSession",value:function(){e("Stopping session"),this._emit("stopSession"),this.handleEndSession()}},{key:"handleBrowserInstruction",value:function(a){"active"===this.sessionStatus&&this.browserInstructionsReceiver.receiveInstruction(a)}},{key:"sendSnapshot",value:function(){function a(){return b.apply(this,arguments)}var b=m(F.default.mark(function a(){var b;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.browserWatcher.getSnapshot();case 2:b=a.sent,this.sendBrowserEvent("root",{snapShot:b});case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"_dataBounce",value:function(a){this.sendBrowserEvent("root",{dataBounce:a})}},{key:"sendBrowserEvent",value:function(a,b){void 0===b.console&&this.eventId<100&&e("Sending browser event for iframe %s: %s (%o)",a,(0,B.default)(b)[0],b),b.ts=Date.now(),this._emit("browserEvent",[this.pageLoadId+":"+this.eventId++,a,b])}},{key:"updateConnection",value:function(a){a.identities&&["list of identities here","undefined","null"].indexOf("function"==typeof a.identities.join?a.identities.join(" "):a.identities)>-1&&delete a.identities,["USER UNIQUE ID","undefined","null"].indexOf(a.uniqueId)>-1&&delete a.uniqueId,a.tags&&"#list #of #tags #here"===("function"==typeof a.tags.join?a.tags.join(" "):a.tags)&&delete a.tags;for(var c=["identities","uniqueId","tags","integrationIds","callName","agentPrompt","allowRemoteConsole","allowRemoteClick","allowRemoteScroll","allowRemoteType","allowAgentRedirect"],d=0;d<c.length;d++){var e=c[d];void 0!==a[e]&&b(e,a[e])}(0,ma.default)("all")?this._emit("connectionUpdate",a):this._reportUnsupportedBrowser(),this._checkNamedCall()}},{key:"getWatchLink",value:function(){return((0,O.isProduction)()?"https://upscope.io/w/":(0,O.baseEndpoint)("app",3e3)+"/w/")+this.shortId}},{key:"_reportIdleness",value:function(){var a=this;if(!this.idlenessReporterActive){var b=void 0,c=!0;setInterval(function(){c&&"visible"!==document.visibilityState?(c=!1,b=setTimeout(function(){"visible"!==document.visibilityState&&(e("Detected page now idle"),a._emit("connectionUpdate",{status:"idle"}))},5e3)):c||"visible"!==document.visibilityState||(e("Detected page now active"),a._emit("connectionUpdate",{status:"active"}),c=!0,clearInterval(b))},1e3),window.addEventListener("focus",function(){e("Detected focus on page"),a._emit("focus")}),this.idlenessReporterActive=!0}}},{key:"_touchLastActivityAt",value:function(){this.lastActivityAt=new Date}},{key:"_manageIdleDisconnect",value:function(){var a=this;if(b("disconnectAfterSeconds")&&!(b("disconnectAfterSeconds")<1)&&!this.idleDisconnectManagerActive){this.idleDisconnectManagerActive=!0,this.lastActivityAt=new Date;var c=function b(c){c.__upscopeIdleManagerActive||(e("Adding event listeners to check for page activeness"),c.document.addEventListener("mousemove",a._touchLastActivityAt.bind(a),!0),c.document.addEventListener("scroll",a._touchLastActivityAt.bind(a),!0),c.document.addEventListener("keydown",a._touchLastActivityAt.bind(a),!0),c.__upscopeIdleManagerActive=!0),(0,P.doForIframes)(c.document,function(a){return b(a.contentWindow)})},d=new Date;c(window),setInterval(function(){var b=(new Date-a.lastActivityAt)/1e3<20?10:60;(new Date-d)/1e3<b||(c(window),d=new Date)},100),setInterval(function(){var c=(new Date-a.lastActivityAt)/1e3<b("disconnectAfterSeconds");c&&!1===a.socketConnected&&!1===a.socketConnecting&&!1===a.doNotReconnect&&!1===a.socketAttemptingReconnect?(a._connect(!1),e("Reconnecting to server after activity")):c||!0!==a.socketConnected||null!==a.sessionStatus||!1!==a.doNotDisconnect||(a.closedSocketAfterInactivity=!0,a.ws.close(),e("Disconnecting from server due to inactivity"))},100)}}},{key:"_emit",value:function(){function a(a,c){return b.apply(this,arguments)}var b=m(F.default.mark(function a(b,c){var d;return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._waitForConnectionReadyState();case 2:if("pong"!==b&&this._touchLastActivityAt(),"hello"===b){a.next=6;break}return a.next=6,this._waitForConnectionReady();case 6:d=(0,D.default)({c:b,d:c}),this.ws.send(d);case 8:case"end":return a.stop()}},a,this)}));return a}()},{key:"_waitForConnectionReadyState",value:function(){var a=this;return!1===this.socketConnected&&this._connect(!1),new na(function(b,c){if(a.ws&&1===a.ws.readyState)return b();var d=setInterval(function(){a.ws&&1===a.ws.readyState&&(clearInterval(d),b())},100)})}},{key:"_waitForConnectionReady",value:function(){var a=this;return!1===this.socketConnected&&this._connect(!1),new na(function(b,c){if(a.socketReady)return b();var d=setInterval(function(){a.socketReady&&(clearInterval(d),b())},100)})}},{key:"_trigger",value:function(a){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(void 0!==this.listeners[a]){var f=!0,g=!1,h=void 0;try{for(var i,j=(0,H.default)(this.listeners[a]);!(f=(i=j.next()).done);f=!0)!function(){var a=i.value;setTimeout(function(){return a.apply(void 0,d)},0)}()}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}if("sessionRequest"!==a){var k="on"+a.charAt(0).toUpperCase()+a.slice(1);"function"==typeof b(k)&&b(k).apply(b(),d)}}},{key:"listen",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b,e=d.pop(),f=!0,g=!1,h=void 0;try{for(var i,j=(0,H.default)(d);!(f=(i=j.next()).done);f=!0){var k=i.value;this.listeners[k]=this.listeners[k]||[],this.listeners[k].push(e)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}return this}},{key:"resetConnection",value:function(){function a(){return c.apply(this,arguments)}var c=m(F.default.mark(function a(){return F.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._trigger("connectionReset"),this.stopSession(),sessionStorage.setItem("__upscope:uniqueConnectionId",null),a.next=5,R.default.set("lookupCode",null);case 5:return a.next=7,R.default.set("shortId",null);case 7:this.shortId=null,this.lookupCode=null,b("identities",void 0),b("uniqueId",void 0),b("tags",void 0),b("integrationIds",void 0),this.ws.close(),this._connect(!1);case 15:case"end":return a.stop()}},a,this)}));return a}()},{key:"processQueue",value:function(){var a=this,b=!0,c=!1,d=void 0;try{for(var f,g=(0,H.default)(window.Upscope.q);!(b=(f=g.next()).done);b=!0){var h=function(){var b=f.value,c=l(b),d=c[0],g=c.slice(1);e("Received js command %s with args %o",d,g);try{switch(d){case"updateConnection":if(void 0===g[0])throw new Error("An argument is required");a.updateConnection(g[0]);break;case"reset":a.resetConnection();break;case"stopSession":a.stopSession();break;case"startDebug":case"stopDebug":return{v:j("warn","The startDebug and stopDebug methods are no longer supported.")};case"requestAgent":a.requestAgent();break;case"cancelRequestAgent":a.cancelRequestAgent();break;case"newPageview":if(!a.historyCollector)throw new Error("History collection not enabled");a.historyCollector.pageview();break;case"logEvent":if(!a.historyCollector)throw new Error("History collection not enabled");a.historyCollector.log(g[0],g[1]);break;case"saveHistory":if(!a.historyCollector)throw new Error("History collection not enabled");a.historyCollector.save();break;case"submitRating":a.sessionRatingInfo&&a._emit("submitRating",K({token:a.sessionRatingInfo.token},g[0]));break;case"getUserId":case"getShortId":if(void 0===g[0])throw new Error("A callback is required");g[0](a.shortId);break;case"getWatchLink":if(void 0===g[0])throw new Error("A callback is required");g[0](a.getWatchLink());break;case"getConnectionId":if(void 0===g[0])throw new Error("A callback is required");g[0](a.uniqueConnectionId);break;case"getLookupCode":if(void 0===g[0])throw new Error("A callback is required");a.getLookupCode().then(function(a){return g[0](a)});break;case"redirect":if("string"!=typeof g[0])throw new Error("A URL is required");a.linkProxyRewrite.redirect(g[0]);break;case"on":if(void 0===g[0]||"function"==typeof g[0])throw new Error("An event type is required");if("function"!=typeof g[g.length-1])throw new Error("An function is required");var h=g,i=g.pop(),k=!0,m=!1,n=void 0;try{for(var o,p=(0,H.default)(h);!(k=(o=p.next()).done);k=!0){var q=o.value;a.listen(q,i)}}catch(a){m=!0,n=a}finally{try{!k&&p.return&&p.return()}finally{if(m)throw n}}break;case"init":j("warn","It looks like you're trying to load Upscope more than once!");break;case"connect":break;default:j("error","Command "+d+" is not recognized")}}catch(a){j("error","Error processing command "+d,a,"(learn more here: https://docs.upscope.com/javascript-sdk/sdk-functions/#:~:text="+d+")")}}();if("object"===(void 0===h?"undefined":L(h)))return h.v}}catch(a){c=!0,d=a}finally{try{!b&&g.return&&g.return()}finally{if(c)throw d}}window.Upscope.q=[]}}]),a}();c.default=oa}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:modules/connection.js"),arguments[3],arguments[4],arguments[5],arguments[6],function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"../dom-utils":299,"../utils":350,"./browser-instructions":301,"./browser-support":302,"./browser-watcher":320,"./console-handler":322,"./dialogs":324,"./history-collector":326,"./integration":327,"./link-proxy-rewrite":343,"./lookup-code-controller":344,"./phone-controller":345,"./request-agent-button-controller":346,"./storage":347,"./terminate-button-controller":348,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3,"babel-runtime/core-js/json/stringify":4,"babel-runtime/core-js/object/assign":5,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/object/keys":7,"babel-runtime/core-js/promise":8,"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,"babel-runtime/regenerator":11,debug:117,"es6-promise":120}],322:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/object/define-property"),h=e(g),i=a("babel-runtime/core-js/get-iterator"),j=e(i),k=a("babel-runtime/core-js/json/stringify"),l=e(k),m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,h.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=a("debug"),o=e(n),p=a("lodash"),q=a("../utils"),r=["error","warn","info","log","debug"],s=navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion&&navigator.appVersion.indexOf("Trident/")>0,t=function(){function a(b){f(this,a),this.onConsole=b,this.console=[],this.consoleItemId=0}return m(a,[{key:"init",value:function(){this.initiated||(b("Initiating console handler"),this.initiated=!0,this._rewrite(),this._trackErrors())}},{key:"_add",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(this.console.length>500)){var e=(0,l.default)(b);(!e||e.length>1e5)&&void 0!==b&&(e=(0,l.default)((0,p.truncate)(b.toString(),{length:1e5})));var f={id:this.consoleItemId++,timestamp:Date.now(),level:a,message:e,stack:(0,p.truncate)(c,{length:1e5})};this.console.push(f),this.onConsole(f),500===this.console.length&&d("warn","Stopped logging console errors after 500 items.")}}},{key:"execute",value:function(a){var c=this;b("Received remote command %s",a),this._add("input",a),d("info","Remote console Â»",a);var e=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(b)return c._add("error",b.message);c._add("output",a),d("info","Remote console Â«",a)};!function(b,c,d,f){try{e(eval.call(window,a))}catch(a){e(null,a)}}()}},{key:"_rewrite",value:function(){var a=this,b=!0,c=!1,e=void 0;try{for(var f,g=(0,j.default)(r);!(b=(f=g.next()).done);b=!0)!function(){var b=f.value;(0,q.intercept)(window.console,b,function(){for(var c,e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];if(a.console.length<=500)try{var h=s?null:(new Error).stack.toString().split("\n").splice(2),i=f.join(" ");""===i&&(i=void 0),a._add(b,i,h&&(0,p.map)(h,p.trim).join("\n"))}catch(a){d("error","Error logging console item",a)}(c=console)["__original__"+b].apply(c,f)})}()}catch(a){c=!0,e=a}finally{try{!b&&g.return&&g.return()}finally{if(c)throw e}}void 0!==console.__original__log&&(o.default.log=console.__original__log.bind(this))}},{key:"_trackErrors",value:function(){var a=this;window.addEventListener("error",function(b){try{a._add("error",b.message,s||null===b.error||void 0===b.error.stack?null:(0,p.map)(b.error.stack.toString().split("\n"),p.trim).join("\n"))}catch(a){d("error","Error logging console error",b,a)}})}}]),a}();c.default=t}).call(this,a("debug")("upscope:modules/console-handler.js"),function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"../utils":350,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/json/stringify":4,"babel-runtime/core-js/object/define-property":6,debug:117,lodash:280}],323:[function(a,b,c){"use strict";function d(){for(var a=g,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=!0,h=!1,i=void 0;try{for(var j,k=(0,f.default)(c);!(e=(j=k.next()).done);e=!0){var l=j.value;if(a.indexOf(l)>-1){var m=a.substr(0,a.indexOf(l)),n=a.substr(a.indexOf(l)+1);n=n.substr(n.indexOf(";")+1),a=m.trim()+n.trim()}}}catch(a){h=!0,i=a}finally{try{!e&&k.return&&k.return()}finally{if(h)throw i}}return a}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/get-iterator"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);c.cssWithout=d;var g="animation: none; animation-delay: 0; animation-direction: normal; animation-duration: 0; animation-fill-mode: none; animation-iteration-count: 1; animation-name: none; animation-play-state: running; animation-timing-function: ease; backface-visibility: visible; background: 0; background-attachment: scroll; background-clip: border-box; background-color: transparent; background-image: none; background-origin: padding-box; background-position: 0 0; background-position-x: 0; background-position-y: 0; background-repeat: repeat; background-size: auto auto; border: 0; border-style: none; border-width: medium; border-color: inherit; border-bottom: 0; border-bottom-color: inherit; border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom-style: none; border-bottom-width: medium; border-collapse: separate; border-image: none; border-left: 0; border-left-color: inherit; border-left-style: none; border-left-width: medium; border-radius: 0; border-right: 0; border-right-color: inherit; border-right-style: none; border-right-width: medium; border-spacing: 0; border-top: 0; border-top-color: inherit; border-top-left-radius: 0; border-top-right-radius: 0; border-top-style: none; border-top-width: medium; bottom: auto; box-shadow: none; box-sizing: content-box; caption-side: top; clear: none; clip: auto; color: inherit; columns: auto; column-count: auto; column-fill: balance; column-gap: normal; column-rule: medium none currentColor; column-rule-color: currentColor; column-rule-style: none; column-rule-width: none; column-span: 1; column-width: auto; content: normal; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: inline; empty-cells: show; float: none; font: normal; font-family: inherit; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; height: auto; hyphens: none; left: auto; letter-spacing: normal; line-height: normal; list-style: none; list-style-image: none; list-style-position: outside; list-style-type: disc; margin: 0; margin-bottom: 0; margin-left: 0; margin-right: 0; margin-top: 0; max-height: none; max-width: none; min-height: 0; min-width: 0; opacity: 1; orphans: 0; outline: 0; outline-color: invert; outline-style: none; outline-width: medium; overflow: visible; overflow-x: visible; overflow-y: visible; padding: 0; padding-bottom: 0; padding-left: 0; padding-right: 0; padding-top: 0; page-break-after: auto; page-break-before: auto; page-break-inside: auto; perspective: none; perspective-origin: 50% 50%; position: static; right: auto; tab-size: 8; table-layout: auto; text-align: inherit; text-align-last: auto; text-decoration: none; text-decoration-color: inherit; text-decoration-line: none; text-decoration-style: solid; text-indent: 0; text-shadow: none; text-transform: none; top: auto; transform: none; transform-style: flat; transition: none; transition-delay: 0s; transition-duration: 0s; transition-property: none; transition-timing-function: ease; unicode-bidi: normal; vertical-align: baseline; visibility: visible; white-space: normal; widows: 0; width: auto; word-spacing: normal; z-index: auto; all: initial;".split(";").join(" !important;");c.default=g},{"babel-runtime/core-js/get-iterator":2}],324:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,c){return c||(c=a,a=null),i(),new s(function(d){var e=new w(a,c,d);u=e,e.addButton(void 0,b("translationsOk"),"ok"),e.render()})}function h(a,c){return c||(c=a,a=null),i(),new s(function(d){var e=new w(a,c,d);u=e,e.addButton(!1,b("translationsNo"),"no"),e.addButton(!0,b("translationsYes"),"yes"),e.render()})}function i(){u&&u.clear(),u=null}Object.defineProperty(c,"__esModule",{value:!0});var j=a("babel-runtime/core-js/get-iterator"),k=e(j),l=a("babel-runtime/core-js/object/define-property"),m=e(l),n=a("babel-runtime/core-js/promise"),o=e(n),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,m.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.alert=g,c.confirm=h,c.clearDialogs=i;var q=a("./css-reset"),r=e(q),s=void 0===o.default?a("es6-promise").Promise:o.default,t="\n.upscope___dialog-overlay {\n  "+r.default+"\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  background: #000000 !important;\n  z-index: 2147483645 !important;\n  opacity: 0.7 !important;\n}\n.upscope___dialog {\n  "+r.default+"\n  display: block !important;\n  z-index: 2147483646 !important;\n  background: white !important;\n  position: fixed !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translateX(-50%) translateY(-50%) !important;\n  width: 80% !important;\n  max-width: 600px !important;\n  padding: 15px 15px 0 !important;\n  border-radius: 5px !important;\n  overflow: hidden !important;\n}\n\n.upscope___dialog__title {\n  "+r.default+"\n  cursor: default !important;\n  display: block !important;\n  font-size: 20px !important;\n  margin: 3px 0 15px !important;\n  font-weight: 600 !important;\n  color: #4c4c4c !important;\n  font-family: 'Avenir Next', Avenir, 'Lucida Grande', Helvetica, sans-serif !important;\n}\n\n.upscope___dialog__text {\n  "+r.default+"\n  cursor: default !important;\n  display: block !important;\n  font-size: 17px !important;\n  line-height: 22px !important;\n  color: #656565 !important;\n  font-weight: 500 !important;\n  margin-bottom: 30px !important;\n  font-family: 'Avenir Next', Avenir, 'Lucida Grande', Helvetica, sans-serif !important;\n}\n\n.upscope___dialog__buttons-container {\n  "+r.default+"\n  background: #f1f1f1 !important;\n  margin: 0 -15px !important;\n  padding: 15px !important;\n  text-align: right !important;\n  display: block !important;\n  overflow: hidden !important;\n}\n\n.upscope___dialog__button, .upscope___dialog__button:hover, .upscope___dialog__button:active {\n  "+r.default+"\n  cursor: pointer !important;\n  background: #0090ff !important;\n  color: white !important;\n  padding: 0 10px !important;\n  height: 36px !important;\n  line-height: 36px !important;\n  display: inline-block !important;\n  font-size: 17px !important;\n  font-weight: 600 !important;\n  font-family: 'Avenir Next', Avenir, 'Lucida Grande', Helvetica, sans-serif !important;\n  text-decoration: none !important;\n  border-radius: 3px !important;\n  margin-left: 15px !important;\n  opacity: 0.8 !important;\n}\n\n@media only screen and (max-width: 800px) {\n  .upscope___dialog__buttons-container {\n    padding-bottom: 0 !important;\n  }\n\n  .upscope___dialog__button, .upscope___dialog__button:hover, .upscope___dialog__button:active {\n    display: block !important;\n    margin: 0 0 15px !important;\n    text-align: center !important;\n  }\n}\n\n.upscope___dialog__button:hover {\n  opacity: 1 !important;\n}\n\n.upscope___dialog__button.upscope___dialog__button--no {\n  background: #dddddd !important;\n  color: #464646 !important;\n}\n\n.upscope___dialog__button.upscope___dialog__button--ok {\n  background: #00d015 !important;\n}\n",u=void 0,v=function(){function a(b,c,d){f(this,a),this.text=b,this.onClick=d,this.className=c}return p(a,[{key:"render",value:function(a){var b=this,c=document.createElement("a");c.href="#",c.innerText=this.text,c.className="upscope___dialog__button"+(this.className?" upscope___dialog__button--"+this.className:""),c.setAttribute("role","button"),a.appendChild(c),c.addEventListener("click",function(a){a.preventDefault(),a.stopPropagation(),b.onClick()})}}]),a}(),w=function(){function a(b,c,d){f(this,a),this.title=b,this.text=c,this.callback=d,this.buttons=[],this.rendered=!1,this.elements=[],this.keyboardListener=null}return p(a,[{key:"addButton",value:function(a,b,c){var d=this;this.buttons.push(new v(b,c,function(){d.clear(),d.callback&&d.callback(a),d.callback=null}))}},{key:"clear",value:function(){if(this.rendered){this.keyboardListener&&document.removeEventListener("keydown",this.keyboardListener);var a=!0,b=!1,c=void 0;try{for(var d,e=(0,k.default)(this.elements);!(a=(d=e.next()).done);a=!0){var f=d.value;f.parentElement&&f.parentElement.removeChild(f)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}}}},{key:"render",value:function(){var a=this;this.rendered=!0;var b=document,c=b.body,e=b.head,f=document.createElement("style");f.styleSheet?f.styleSheet.cssText=t:f.appendChild(document.createTextNode(t)),e.appendChild(f),this.elements.push(f);var g=document.createElement("div");g.className="upscope___dialog-overlay",1===this.buttons.length&&(g.addEventListener("click",function(b){a.buttons[0].onClick()}),this.keyboardListener=function(b){27!==b.keyCode&&13!==b.keyCode&&8!==b.keyCode||a.buttons[0].onClick()},document.addEventListener("keydown",this.keyboardListener));var h=document.createElement("div");h.className="upscope___dialog",h.setAttribute("role","dialog"),h.setAttribute("aria-labelledby","upscope___dialog__title"),h.setAttribute("aria-describedby","upscope___dialog__text");var i=document.createElement("div");i.className="upscope___dialog__title",i.id="upscope___dialog__title",i.innerText=this.title||d().hostname,h.appendChild(i);var j=document.createElement("div");j.className="upscope___dialog__text",j.id="upscope___dialog__text",j.innerText=this.text,h.appendChild(j);var l=document.createElement("div");l.className="upscope___dialog__buttons-container";var m=!0,n=!1,o=void 0;try{for(var p,q=(0,k.default)(this.buttons);!(m=(p=q.next()).done);m=!0){p.value.render(l)}}catch(a){n=!0,o=a}finally{try{!m&&q.return&&q.return()}finally{if(n)throw o}}h.appendChild(l),this.elements.push(h),c.appendChild(h),this.elements.push(g),c.appendChild(g),document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()}}]),a}()}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location})},{"./css-reset":323,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"es6-promise":120}],325:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new m.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return m.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/object/define-property"),i=e(h),j=a("babel-runtime/regenerator"),k=e(j),l=a("babel-runtime/core-js/promise"),m=e(l),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,i.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=a("lodash/find"),p=e(o),q=a("../utils"),r=a("./browser-watcher"),s=e(r),t=void 0===m.default?a("es6-promise").Promise:m.default,u=function(){function a(){g(this,a),this._listenParent(),this._listenChildren()}return n(a,[{key:"isChild",value:function(){function a(){return c.apply(this,arguments)}var c=f(k.default.mark(function a(){var c,e=this;return k.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.parentFrameHandler){a.next=2;break}return a.abrupt("return",!0);case 2:if(window.parent&&window.parent!==window){a.next=4;break}return a.abrupt("return",d("Parent is self, not a child"));case 4:return d("Will contact parent window"),c="extension"===window.__upscopeContext__&&window.top!==window,window.parent.postMessage({__upscopeApiKey:b("apiKey"),c:"register"},"*"),a.next=9,t.race([(0,q.sleep)(500),(0,q.until)(function(){return e.parentFrameHandler})]);case 9:return a.abrupt("return",void 0!==this.parentFrameHandler||c);case 10:case"end":return a.stop()}},a,this)}));return a}()},{key:"_listenParent",value:function(){var a=this;window.addEventListener("message",function(c){c.source===window.parent&&c.data.__upscopeApiKey===b("apiKey")&&(a.parentFrameHandler=a.parentFrameHandler||new v,a.parentFrameHandler.handle(c.data))})}},{key:"_listenChildren",value:function(){window.addEventListener("message",function(a){var c=(0,p.default)(document.getElementsByTagName("iframe"),function(b){return b.contentWindow===a.source});c&&a.data.__upscopeApiKey===b("apiKey")&&(c.__upscopeChildFrameHandler=c.__upscopeChildFrameHandler||new w(c),c.__upscopeChildFrameHandler.handle(a.data))})}}]),a}();c.default=u;var v=function(){function a(){g(this,a),this.watcher=new s.default(function(a,c){window.parent.postMessage({__upscopeApiKey:b("apiKey"),c:"event",iframe:a,event:c},"*")},null,!0)}return n(a,[{key:"handle",value:function(a){switch(a.c){case"registered":return d("Parent frame recognized child frame");case"activate":if(this.watcher.active)return;return d("Parent frame asked to activate, rootId is %s",a.rootId),this.activate(a.rootId);case"deactivate":return d("Parent frame asked to deactivate"),this.deactivate();case"getSnapshot":return d("Parent frame asked for snapshot"),this.getSnapshot(a.rootId)}}},{key:"activate",value:function(a){this.watcher.activate(a)}},{key:"deactivate",value:function(){this.watcher.deactivate()}},{key:"getSnapshot",value:function(){function a(a){return c.apply(this,arguments)}var c=f(k.default.mark(function a(c){var d;return k.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.watcher._ensureHasIds(null,document,c),a.next=3,this.watcher.getSnapshot();case 3:d=a.sent,window.parent.postMessage({__upscopeApiKey:b("apiKey"),c:"snapshot",snapshot:d},"*");case 5:case"end":return a.stop()}},a,this)}));return a}()}]),a}(),w=function(){function a(b){g(this,a),this.iframe=b}return n(a,[{key:"handle",
value:function(a){switch(d("Received message %o from iframe %o",a,this.iframe),a.c){case"register":return d("Child iframe %o asked to register",this.iframe),this.iframe.contentWindow.postMessage({__upscopeApiKey:b("apiKey"),c:"registered"},"*");case"event":return d("Child iframe %o sent event %o",this.iframe,a.event),void(this.eventListener&&this.eventListener(a.iframe,a.event));case"snapshot":d("Child iframe %o sent snapshot %o",this.iframe,a.snapshot),this.snapshotListener&&this.snapshotListener(a.snapshot)}}},{key:"activate",value:function(a,c){this.eventListener=a,this.iframe.contentWindow.postMessage({__upscopeApiKey:b("apiKey"),c:"activate",rootId:c},"*")}},{key:"deactivate",value:function(){delete this.eventListener,this.iframe.contentWindow.postMessage({__upscopeApiKey:b("apiKey"),c:"deactivate"},"*")}},{key:"getSnapshot",value:function(a){var c=this;return t.race([new t(function(d){c.iframe.contentWindow.postMessage({__upscopeApiKey:b("apiKey"),c:"getSnapshot",rootId:a},"*"),c.snapshotListener=function(a){d(a),delete c.snapshotListener}}),(0,q.sleep)(5e3)])}}]),a}()}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/frame-handler.js"))},{"../utils":350,"./browser-watcher":320,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117,"es6-promise":120,"lodash/find":261}],326:[function(a,b,c){(function(b,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a){return function(){var b=a.apply(this,arguments);return new l.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return l.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var i=a("babel-runtime/core-js/get-iterator"),j=f(i),k=a("babel-runtime/core-js/promise"),l=f(k),m=a("babel-runtime/core-js/object/define-property"),n=f(m),o=a("babel-runtime/core-js/json/stringify"),p=f(o),q=a("babel-runtime/regenerator"),r=f(q),s=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,n.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),t=a("lodash/find"),u=f(t),v=a("lodash/filter"),w=f(v),x=a("lodash/map"),y=f(x),z=a("../utils"),A=function(){function a(b,c){h(this,a),this.connection=b,this.watcher=c,this.storage=new B,this.autoSaveIsOn=null,this.pageview(),this._addEventsTracking()}return s(a,[{key:"pageview",value:function(){function a(){return b.apply(this,arguments)}var b=g(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.currentPageview&&this.storage.add(this.currentPageview),this.currentPageview={pageviewId:(0,z.uuid)(),screenshot:null,ts:new Date,tse:new Date,url:d().href,events:[]},a.next=4,(0,z.until)(function(){return"complete"===document.readyState});case 4:this._updateScreenshot(),sessionStorage.getItem("__upscope:historyAutoSaveOn")&&this.turnAutoSaveOn();case 6:case"end":return a.stop()}},a,this)}));return a}()},{key:"log",value:function(a,b){if(-1===["success","error","info","warn","contact"].indexOf(a))throw new Error("Event log type "+a+" not supported");if(!b)throw new Error("Event log text required");this._addEvent("log",{type:a,text:b})}},{key:"enterFrom",value:function(){var a=document.referrer,b=a&&(0,z.parseUrl)(a).hostname;b&&-1===d().hostname.indexOf(b)&&-1===b.indexOf(d().hostname)&&this._addEvent("enter_from",{url:a})}},{key:"leaveTo",value:function(){var a=(0,z.attempt)(function(){return document.activeElement.href}),b=a&&window.URL&&(0,z.parseUrl)(a).hostname;b&&-1===d().hostname.indexOf(b)&&-1===b.indexOf(d().hostname)&&this._addEvent("leave_to",{url:a})}},{key:"click",value:function(a){if("A"===a.tagName||"A"===a.tagName||"INPUT"===a.tagName&&["button","submit","reset"].indexOf(a.type)>-1){var b=a.id||null,c=a.textContent||a.value;e("Detected click %o",{label:c,id:b}),this._addEvent("click",{label:c,id:b})}}},{key:"form",value:function(a){var c=a.id||a.name||null,d=(0,z.attempt)(function(){return a.labels[0].textContent.trim()})||(0,z.attempt)(function(){return a.placeholder.trim()})||null,f=void 0,g=!1,h=void 0;if("INPUT"===a.tagName&&["text","tel","number","search","url","email"].indexOf(a.type)>-1)h="text",f=a.value;else if("INPUT"===a.tagName&&"password"===a.type)h="password",f=null,g=!0;else if("INPUT"===a.tagName&&"checkbox"===a.type)h="bool",f=a.checked;else if("INPUT"===a.tagName&&"file"===a.type&&a.value)h="file";else{if("SELECT"!==a.tagName)return;h="multiple",f=(0,z.attempt)(function(){return a.options[a.selectedIndex].innerText.trim()})||a.value,g=!0}b("maskElementMiddleware")(a)&&(f=null,g=!0),e("Detected form input %o",{label:d,id:c,value:f,redacted:g,formType:h}),this._addEvent("form",{label:d,id:c,value:f,redacted:g,formType:h})}},{key:"save",value:function(){function a(){return b.apply(this,arguments)}var b=g(r.default.mark(function a(){var b,c=this;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.pendingSave){a.next=2;break}return a.abrupt("return");case 2:return this.pendingSave=!0,a.prev=3,a.next=6,(0,z.until)(function(){return!c.pendingEvent});case 6:return a.next=8,(0,z.until)(function(){return c.connection.shortId});case 8:return a.next=10,this.storage.get();case 10:if(b=a.sent,!(b.length>0)){a.next=15;break}return a.next=14,this.connection._reportPageviews(b);case 14:e("Saved pageviews");case 15:this.storage.clear(),this.currentPageview.events=[],this.currentPageview.screenshot=null,a.next=23;break;case 20:a.prev=20,a.t0=a.catch(3),e("Could not save pageviews");case 23:this.turnAutoSaveOn(),this.pendingSave=!1;case 25:case"end":return a.stop()}},a,this,[[3,20]])}));return a}()},{key:"turnAutoSaveOn",value:function(){this.autoSaveIsOn||(this.autoSaveIsOn=!0,this.storage.goLocal(),sessionStorage.setItem("__upscope:historyAutoSaveOn",!0),setInterval(this.save.bind(this),1e3))}},{key:"_addEventsTracking",value:function(){var a=this;this.enterFrom(),document.addEventListener("click",function(b){return a.click(b.target)}),document.addEventListener("input",function(b){return a.form(b.target)}),window.addEventListener("beforeunload",function(){return a.leaveTo()})}},{key:"_addEvent",value:function(a,b){this.pendingEvent=!0,(b.label||b.id)&&(this.currentPageview.events=(0,w.default)(this.currentPageview.events,function(c){return c.type!==a||(c.details.id||c.details.label)!==(b.id||b.label)})),this.currentPageview.events.push({eventId:(0,z.uuid)(),ts:new Date,type:a,details:b}),this.currentPageview.tse=new Date,this.storage.add(this.currentPageview),this._updateScreenshot()}},{key:"_updateScreenshot",value:function(){function a(){return b.apply(this,arguments)}var b=g(r.default.mark(function a(){var b,c,d,f,g=this;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!this.slowScreenshotWait){a.next=3;break}return a.abrupt("return");case 3:return this.slowScreenshotWait=!0,b=new Date,e("Taking screenshot for events"),a.t0=p.default,a.next=9,this.watcher.getSnapshot(window,!0);case 9:return a.t1=a.sent,c=(0,a.t0)(a.t1),c.length<8e5||this.autoSaveIsOn?this.currentPageview.screenshot=c:e("Screenshot is too big: discarding"),a.next=14,this.storage.add(this.currentPageview);case 14:d=Number(new Date)-b,f=Math.max(5e3,19*d),e("Screenshot took %sms, will wait %sms before next",d,f),setTimeout(function(){return delete g.slowScreenshotWait},f);case 17:return a.prev=17,this.pendingEvent=!1,a.finish(17);case 20:case"end":return a.stop()}},a,this,[[0,,17,20]])}));return a}()}]),a}();c.default=A;var B=function(){function a(){h(this,a)}return s(a,[{key:"goLocal",value:function(){this.isLocal=!0}},{key:"add",value:function(){function a(a){return b.apply(this,arguments)}var b=g(r.default.mark(function a(b){var c,d=this;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,z.until)(function(){return!d.pendingChanges});case 2:return a.prev=2,a.next=5,this.get();case 5:c=a.sent,this.pendingChanges=!0,(0,u.default)(c,function(a){return a.pageviewId===b.pageviewId})?c=(0,y.default)(c,function(a){return a.pageviewId===b.pageviewId?b:a}):c.unshift(b),this.isLocal||sessionStorage.setItem("__upscope:pageviews",(0,p.default)(c)),this.pageviews=c,a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),(0,z.attempt)(function(){return sessionStorage.removeItem("__upscope:pageviews")});case 15:return a.prev=15,this.pendingChanges=!1,a.finish(15);case 18:case"end":return a.stop()}},a,this,[[2,12,15,18]])}));return a}()},{key:"clear",value:function(){function a(){return b.apply(this,arguments)}var b=g(r.default.mark(function a(){var b=this;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,z.until)(function(){return!b.pendingChanges});case 2:try{this.pendingChanges=!0,sessionStorage.removeItem("__upscope:pageviews"),this.pageviews=null}finally{this.pendingChanges=!1}case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"get",value:function(){function a(){return b.apply(this,arguments)}var b=g(r.default.mark(function a(){var b,c,d,e,f,g,h,i,k=this;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,z.until)(function(){return!k.pendingChanges});case 2:if(a.prev=2,!this.isLocal){a.next=5;break}return a.abrupt("return",this.pageviews||[]);case 5:this.pendingChanges=!0,b=sessionStorage.getItem("__upscope:pageviews"),b=b?JSON.parse(b):[],c=[],d=!0,e=!1,f=void 0,a.prev=12,g=(0,j.default)(b);case 14:if(d=(h=g.next()).done){a.next=23;break}if(i=h.value,c.length>5&&(i.screenshot=null),new Date-new Date(i.tse)<864e3&&c.push(i),30!==c.length){a.next=20;break}return a.abrupt("break",23);case 20:d=!0,a.next=14;break;case 23:a.next=29;break;case 25:a.prev=25,a.t0=a.catch(12),e=!0,f=a.t0;case 29:a.prev=29,a.prev=30,!d&&g.return&&g.return();case 32:if(a.prev=32,!e){a.next=35;break}throw f;case 35:return a.finish(32);case 36:return a.finish(29);case 37:return a.abrupt("return",c);case 38:return a.prev=38,this.pendingChanges=!1,a.finish(38);case 41:case"end":return a.stop()}},a,this,[[2,,38,41],[12,25,29,37],[30,,32,36]])}));return a}()}]),a}()}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:modules/history-collector.js"))},{"../utils":350,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/json/stringify":4,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117,"lodash/filter":260,"lodash/find":261,"lodash/map":281}],327:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new i.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return i.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/promise"),i=e(h),j=a("babel-runtime/core-js/object/define-property"),k=e(j),l=a("babel-runtime/core-js/get-iterator"),m=e(l),n=a("babel-runtime/regenerator"),o=e(n),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,k.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=a("./integrations"),r=function(){function a(b){g(this,a),this.connection=b,this.isLive=!1,this.watchLink=null,this.isInitiated=!1,this.integration=null,this.integrationId=null,this.integrationUserUniqueId=void 0,this.integrationUserIdentities=void 0}return p(a,[{key:"init",value:function(){var a=this;if(b("integrateWithLivechat")&&!b("fromProxy")&&!this.isInitiated&&(d("Initiating live chat integration system"),this.trySetup(),null===this.integration))var c=0,e=setInterval(function(){++c>20&&c<40&&c%4!=0||c>40&&c%15!=0||(a.trySetup(),null!==a.integration&&clearInterval(e))},500)}},{key:"trySetup",value:function(){if(this._detect(),null!==this.integration){if(this.isInitiated=!0,window.Upscope._integration=this.integrationId,b("grabIdentityFromLivechat"))try{this.integration.getUserId&&(this.integrationUserUniqueId=this.integration.getUserId()),this.integration.getIdentities&&(this.integrationUserIdentities=this.integration.getIdentities()),d("Retrieved identities from live chat (%o)",[this.integrationUserUniqueId,this.integrationUserIdentities])}catch(a){d("Error while retrieving identities from live chat. (%o)",a)}this.rewrite(),this.trackOpens(),this.getIntegrationIdentifier(),this.watchLink&&this.live(this.watchLink)}}},{key:"live",value:function(){function a(a){return b.apply(this,arguments)}var b=f(o.default.mark(function a(b){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.watchLink=b,null!==this.integration){a.next=3;break}return a.abrupt("return");case 3:if("function"==typeof this.integration.live){a.next=5;break}return a.abrupt("return");case 5:if(this.isLive){a.next=17;break}return d("Providing live chat watch link (%s)",b),a.prev=7,a.next=10,this.integration.live(b);case 10:this.isLive=!0,d("Watch link added to live chat"),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(7),d("Error adding watch link to live chat. (%o)",a.t0);case 17:case"end":return a.stop()}},a,this,[[7,14]])}));return a}()},{key:"rewrite",value:function(){if("function"==typeof this.integration.rewrite&&b("liveChatRewrite"))try{this.integration.rewrite(),d("Patched live chat object")}catch(a){d("Error while patching live chat object. (%o)",a)}}},{key:"trackOpens",value:function(){function a(){return b.apply(this,arguments)}var b=f(o.default.mark(function a(){var b=this;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("function"==typeof this.integration.onOpen){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,this.integration.onOpen(function(){b.connection._connect(),sessionStorage.setItem("__upscope:integrationOpened",!0),b.connection.historyCollector&&setTimeout(function(){b.connection.historyCollector.log("contact","Started chat conversation"),b.connection.historyCollector.save()},100)});case 5:d("Tracked live chat opens"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),d("Error while tracking live chat opens. (%o)",a.t0);case 11:case"end":return a.stop()}},a,this,[[2,8]])}));return a}()},{key:"getIntegrationIdentifier",value:function(){function a(){return b.apply(this,arguments)}var b=f(o.default.mark(function a(){var b;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("function"==typeof this.integration.getIntegrationIdentifier){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,this.integration.getIntegrationIdentifier();case 5:b=a.sent,b&&this.connection.updateConnection({integrationIds:[this.integrationId+":"+b]}),d("Got unique identifier from %s: %s",this.integrationId,b),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),d("Could not get identifier from %s. (%o)",this.integrationId,a.t0);case 13:case"end":return a.stop()}},a,this,[[2,10]])}));return a}()},{key:"_detect",value:function(){var a=!0,b=!1,c=void 0;try{for(var e,f=(0,m.default)(q.integrations);!(a=(e=f.next()).done);a=!0){var g=e.value;g.detect()&&(this.integration=g,this.integrationId=g.id)}}catch(a){b=!0,c=a}finally{try{!a&&f.return&&f.return()}finally{if(b)throw c}}null===this.integration?d("No live chat integration found"):d('Live chat integration "%s" found',this.integrationId)}}]),a}();c.default=r}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/integration.js"))},{"./integrations":334,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117}],328:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={id:"chatra",detect:function(){return void 0!==window.Chatra},live:function(a){(0,window.Chatra)("updateIntegrationData",{"Screen share":a})}};c.default=d},{}],329:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={id:"drift",detect:function(){return void 0!==window.drift},live:function(a){window.drift.on("ready",function(){window.drift.api.setUserAttributes({screenShare:a})})}};c.default=d},{}],330:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={id:"freshchat",detect:function(){return void 0!==window.fcWidget},live:function(a){window.fcWidget.user.update({meta:{screenshare:a}})},getUserId:function(){if(window.fcSettings&&window.fcSettings.externalId)return window.fcSettings.externalId},getIdentities:function(){if(window.fcSettings&&window.fcSettings.firstName&&window.fcSettings.lastName)return[window.fcSettings.firstName+" "+window.fcSettings.lastName]}};c.default=d},{}],331:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new h.default(function(a,c){function d(e,f){try{var g=b[e](f),i=g.value}catch(a){return void c(a)}if(!g.done)return h.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}function f(){return(0,k.attempt)(function(){return window.FrontChat("user_id")})}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/promise"),h=d(g),i=a("babel-runtime/regenerator"),j=d(i),k=a("../../utils"),l={id:"front",detect:function(){return"function"==typeof window.FrontChat&&(0,k.attempt)(f)},getIntegrationIdentifier:function(){var a=this;return e(j.default.mark(function b(){return j.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,k.timeout)((0,k.until)(f),1e4);case 3:a.next=8;break;case 5:return a.prev=5,a.t0=a.catch(0),a.abrupt("return",null);case 8:return a.abrupt("return",f());case 9:case"end":return a.stop()}},b,a,[[0,5]])}))()},onOpen:function(a){var b=setInterval(function(){var c=document.querySelector("#front-chat-container");c&&c.clientHeight>100&&(clearInterval(b),a())},1e3)}};c.default=l},{"../../utils":350,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11}],332:[function(a,b,c){(function(a){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b={id:"happyfox",detect:function(){return void 0!==window.HFCHAT_CONFIG},rewrite:function(){var b=0,c=setInterval(function(){if(b>3e3&&(a("info","To integrate with HappyFoxChat, you need to add the following to the installation code.","\n\n    window.HFCHAT_CONFIG.onload = function (data) {\n      window.__upscopeHappyFoxChat = this;\n    };\n\n","To turn off this warning (and not integrate with Happy Fox Chat), add \"integrateWithLivechat: false\" to the Upscope('init') configuration."),clearInterval(c)),void 0===window.__upscopeHappyFoxChat)return void(b+=100);clearInterval(c)},100)},live:function(b){var c=setInterval(function(){void 0!==window.__upscopeHappyFoxChat&&(clearInterval(c),window.__upscopeHappyFoxChat.setCustomFields({ScreenShare:b},function(b,c){b&&(a("error","HappyFox Chat error",b),a("info",'To integrate with HappyFoxChat, you need to create a custom field of type "text" named "ScreenShare"'))}))},100)}};c.default=b}).call(this,function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{debug:117}],333:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={id:"helpscout",detect:function(){return"function"==typeof window.Beacon},live:function(a){window.Beacon("identify",{Screenshare:a})}};c.default=d},{}],334:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.integrations=void 0;var e=a("./chatra"),f=d(e),g=a("./drift"),h=d(g),i=a("./freshchat"),j=d(i),k=a("./front"),l=d(k),m=a("./happyfox"),n=d(m),o=a("./helpscout"),p=d(o),q=a("./intercom"),r=d(q),s=a("./livechat"),t=d(s),u=a("./olark"),v=d(u),w=a("./reamaze"),x=d(w),y=a("./sfdc"),z=d(y),A=a("./tawk"),B=d(A),C=a("./zendesk"),D=d(C),E=a("./zoho"),F=d(E);c.integrations=[f.default,h.default,j.default,l.default,n.default,p.default,r.default,t.default,v.default,x.default,z.default,B.default,D.default,F.default]},{"./chatra":328,"./drift":329,"./freshchat":330,"./front":331,"./happyfox":332,"./helpscout":333,"./intercom":335,"./livechat":336,"./olark":337,"./reamaze":338,"./sfdc":339,"./tawk":340,"./zendesk":341,"./zoho":342}],335:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new g.default(function(a,c){function d(e,f){try{var h=b[e](f),i=h.value}catch(a){return void c(a)}if(!h.done)return g.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/promise"),g=d(f),h=a("babel-runtime/core-js/symbol/iterator"),i=d(h),j=a("babel-runtime/core-js/symbol"),k=d(j),l=a("babel-runtime/regenerator"),m=d(l),n="function"==typeof k.default&&"symbol"==typeof i.default?function(a){return typeof a}:function(a){return a&&"function"==typeof k.default&&a.constructor===k.default&&a!==k.default.prototype?"symbol":typeof a},o=a("../../utils"),p={id:"intercom",detect:function(){return void 0!==window.Intercom},live:function(a){this.watchLink=a,window.Intercom("update",{screenshare:a}),"object"===n(window.intercomSettings)&&(window.intercomSettings.screenshare=a)},onOpen:function(a){var b=this;return e(m.default.mark(function c(){return m.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,o.until)(function(){return Boolean(window.Intercom.booted)});case 2:window.Intercom("onShow",a);case 3:case"end":return b.stop()}},c,b)}))()},getUserId:function(){if(window.intercomSettings&&window.intercomSettings.user_id)return window.intercomSettings.user_id},getIdentities:function(){if(window.intercomSettings&&window.intercomSettings.name)return[window.intercomSettings.name]},getIntegrationIdentifier:function(){var a=this;return e(m.default.mark(function b(){return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,o.timeout)((0,o.until)(function(){return Boolean(window.Intercom("getVisitorId"))}),1e4);case 3:a.next=8;break;case 5:return a.prev=5,a.t0=a.catch(0),a.abrupt("return",null);case 8:return a.abrupt("return",window.Intercom("getVisitorId"));case 9:case"end":return a.stop()}},b,a,[[0,5]])}))()}};c.default=p},{"../../utils":350,"babel-runtime/core-js/promise":8,"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,"babel-runtime/regenerator":11}],336:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new g.default(function(a,c){function d(e,f){try{var h=b[e](f),i=h.value}catch(a){return void c(a)}if(!h.done)return g.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/promise"),g=d(f),h=a("babel-runtime/regenerator"),i=d(h),j=a("../../utils"),k={id:"livechat",detect:function(){return void 0!==window.__lc},rewrite:function(){var a=this;window.__lc.params=window.__lc.params||[],this.liveChatCustomVars=window.__lc.params,this.rewrittenFunc=function(b){a.liveChatCustomVars=b,a.watchLink&&b.push({name:"Screenshare",value:a.watchLink}),window.LC_API.__original__set_custom_variables(b)},(0,j.intercept)(window.LC_API,"set_custom_variables",this.rewrittenFunc)},live:function(a){var b=this;return e(i.default.mark(function c(){return i.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return b.watchLink=a,c.next=3,(0,j.until)(function(){return window.LC_API.is_loaded()});case 3:window.LC_API.set_custom_variables!==b.rewrittenFunc&&(0,j.intercept)(window.LC_API,"set_custom_variables",b.rewrittenFunc),window.LC_API.set_custom_variables(b.liveChatCustomVars);case 5:case"end":return c.stop()}},c,b)}))()},onOpen:function(a){var b=window.LC_API.on_chat_started;window.LC_API.on_chat_started=function(c){"function"==typeof b&&b(),a()}},getUserId:function(){if(window.__lc&&window.__lc.visitor&&window.__lc.visitor.email)return window.__lc.visitor.email},getIdentities:function(){if(window.__lc&&window.__lc.visitor&&window.__lc.visitor.name)return[window.__lc.visitor.name]},getIntegrationIdentifier:function(){var a=this;return e(i.default.mark(function b(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,j.timeout)((0,j.until)(function(){return(0,j.attempt)(function(){return/^[0-9A-z]+-[0-9A-z]+-[0-9A-z]+-[0-9A-z]+-[0-9A-z]+$/.test(window.LC_API.get_visitor_id())})}),1e4);case 3:a.next=8;break;case 5:return a.prev=5,a.t0=a.catch(0),a.abrupt("return",null);case 8:return a.abrupt("return",window.LC_API.get_visitor_id()||null);case 9:case"end":return a.stop()}},b,a,[[0,5]])}))()}};c.default=k},{"../../utils":350,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11}],337:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/symbol/iterator"),f=d(e),g=a("babel-runtime/core-js/symbol"),h=d(g),i="function"==typeof h.default&&"symbol"==typeof f.default?function(a){return typeof a}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default&&a!==h.default.prototype?"symbol":typeof a},j=a("../../utils"),k={id:"olark",detect:function(){return void 0!==window.olark},rewrite:function(){var a=this;this.lastSentSnippet=[];var b=this;(0,j.intercept)(window,"olark",function(){for(var c,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];if("api.chat.updateVisitorStatus"===e[0]){var g=e[1].snippet;b.lastSentSnippet="object"===(void 0===g?"undefined":i(g))?g:[g],g=b.lastSentSnippet.slice(),g.push("Screenshare: "+a.watchLink),e[1].snippet=g}(c=window).__original__olark.apply(c,e)})},live:function(a){this.watchLink=a,window.olark("api.chat.updateVisitorStatus",{snippet:this.lastSentSnippet})}};c.default=k},{"../../utils":350,"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10}],338:[function(a,b,c){(function(a){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b={id:"reamaze",detect:function(){return void 0!==window._support&&document.documentElement.innerHTML.indexOf("reamaze")>-1},live:function(b){var c=setInterval(function(){if(void 0!==window.Reamaze){clearInterval(c);try{window._support.custom_fields=window._support.custom_fields||{},window._support.custom_fields["Screen share"]={type:"hidden",value:b},window.Reamaze.reload()}catch(b){a("Error with reamaze api",b)}}},100)}};c.default=b}).call(this,function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{debug:117}],339:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new h.default(function(a,c){function d(e,f){try{var g=b[e](f),i=g.value}catch(a){return void c(a)}if(!g.done)return h.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/promise"),h=e(g),i=a("babel-runtime/regenerator"),j=e(i),k=a("../../utils"),l={id:"sfdc",detect:function(){return void 0!==window.embedded_svc},live:function(a){var c=this;return f(j.default.mark(function e(){var f;return j.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,k.until)(function(){return window.embedded_svc.settings});case 2:f={label:b("sfdcFieldLabel"),value:a,transcriptFields:[b("sfdcFieldId")],displayToAgent:!0},window.embedded_svc.settings.extraPrechatFormDetails?"function"==typeof window.embedded_svc.settings.extraPrechatFormDetails.push?window.embedded_svc.settings.extraPrechatFormDetails.push(f):d("error","Error integrating with SFDC chat"):window.embedded_svc.settings.extraPrechatFormDetails=[f];case 4:case"end":return c.stop()}},e,c)}))()}};c.default=l}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"../../utils":350,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117}],340:[function(a,b,c){(function(a){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b={id:"tawk",detect:function(){return void 0!==window.Tawk_API},live:function(b){var c=setInterval(function(){if("function"==typeof window.Tawk_API.setAttributes){clearInterval(c);try{window.Tawk_API.setAttributes({ScreenShare:b})}catch(b){a("info","Error with twak api",b)}}},100)}};c.default=b}).call(this,function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{debug:117}],341:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new g.default(function(a,c){function d(e,f){try{var h=b[e](f),i=h.value}catch(a){return void c(a)}if(!h.done)return g.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/promise"),g=d(f),h=a("babel-runtime/regenerator"),i=d(h),j=a("../../utils"),k={id:"zendesk",detect:function(){return void 0!==window.$zopim&&void 0!==window.$zopim.livechat},live:function(a){window.$zopim.livechat.setOnChatStart(function(){window.$zopim.livechat.sendVisitorPath({url:a,title:">> SCREEN SHARE"}),window.$zopim.livechat.sendVisitorPath()})},getUserId:function(){var a=window.$zopim.livechat.getEmail()||null;if(a)return a},getIdentities:function(){var a=window.$zopim.livechat.getName()||null;if(a)return[a]},onOpen:function(a){window.$zopim.livechat.setOnChatStart(a)},getIntegrationIdentifier:function(){var a=this;return e(i.default.mark(function b(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,j.timeout)((0,j.until)(function(){return document.cookie.indexOf("__zlcmid=")>-1}),1e4);case 3:a.next=8;break;case 5:return a.prev=5,a.t0=a.catch(0),a.abrupt("return",null);case 8:return a.abrupt("return",document.cookie.split("__zlcmid=").pop().split(";").shift().trim());case 9:case"end":return a.stop()}},b,a,[[0,5]])}))()}};c.default=k},{"../../utils":350,
"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11}],342:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/symbol/iterator"),f=d(e),g=a("babel-runtime/core-js/symbol"),h=d(g),i="function"==typeof h.default&&"symbol"==typeof f.default?function(a){return typeof a}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default&&a!==h.default.prototype?"symbol":typeof a},j={id:"zoho",detect:function(){return"object"===i(window.$zoho)&&void 0!==window.$zoho.salesiq},live:function(a){var c=setInterval(function(){if(window.$zoho.salesiq.visitor&&"function"==typeof window.$zoho.salesiq.visitor.info){clearInterval(c);try{window.$zoho.salesiq.visitor.info({"Screen share":a})}catch(a){b("info","Error with zoho api",a)}}},100)}};c.default=j}).call(this,function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"babel-runtime/core-js/symbol":9,"babel-runtime/core-js/symbol/iterator":10,debug:117}],343:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/object/define-property"),g=d(f),h=a("babel-runtime/core-js/get-iterator"),i=d(h),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,g.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("../dom-utils"),l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(k),m=function(){function a(c){e(this,a),b("rewriteExternalLinks")&&(b("fromProxy")||(this.connection=c,this.killers=[],c.listen("sessionStart","sessionContinue",this.activate.bind(this)).listen("sessionEnd",this.deactivate.bind(this))))}return j(a,[{key:"activate",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;this.active=!0;var c=this._handleEvent.bind(this);b.addEventListener("click",c),b.addEventListener("submit",c),this.killers.push(function(){b.removeEventListener("click",c),b.removeEventListener("submit",c)}),l.doForIframes(b,function(b){return a.activate(b.contentDocument)})}},{key:"deactivate",value:function(){this.active=!1;var a=!0,b=!1,c=void 0;try{for(var d,e=(0,i.default)(this.killers);!(a=(d=e.next()).done);a=!0){(0,d.value)()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this.killers.length=0}},{key:"redirect",value:function(a){this.active&&(a=this._rewriteLink(a)),location.href=a}},{key:"_handleEvent",value:function(a){if(!a.__upscopeIsProxyRewritten){var c=void 0;if(a.target.href&&b("needsProxy")(a.target.href)){a.preventDefault();var d=a.target.href,e=a.target.target;a.target.href=this._rewriteLink(a.target.href),a.isUpscopeBrowserInstruction&&(a.target.target="_self"),c=function(){a.target.href=d,a.target.target=e}}else{if(!a.target.action||!b("needsProxy")(a.target.action))return;a.preventDefault();var f=a.target.action;a.target.action=this._rewriteLink(a.target.action),c=function(){a.target.action=f}}var g=new a.constructor(a.type,a);g.__upscopeIsProxyRewritten=!0,a.target.dispatchEvent(g),c()}}},{key:"_rewriteLink",value:function(a){return a+=(a.indexOf("?")>-1?"&":"?")+"__upscope_short_id="+this.connection.shortId,b("proxyRedirectEndpoint").replace("URL",encodeURIComponent(a)).replace("TOKEN",encodeURIComponent(this.connection.proxyToken))}}]),a}();c.default=m}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config})},{"../dom-utils":299,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/define-property":6}],344:[function(a,b,c){(function(b,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a){return function(){var b=a.apply(this,arguments);return new j.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return j.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var i=a("babel-runtime/core-js/promise"),j=f(i),k=a("babel-runtime/core-js/object/define-property"),l=f(k),m=a("babel-runtime/core-js/get-iterator"),n=f(m),o=a("babel-runtime/regenerator"),p=f(o),q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,l.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),r=a("wildstring"),s=f(r),t=a("../dom-utils"),u=a("./css-reset"),v=f(u),w=a("./dialogs"),x="\n#upscope___lookup-code-button {\n    "+v.default+';\n    background: #464646 !important;\n    background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAcCAYAAAAJKR1YAAAABGdBTUEAALGPC/xhBQAAAYZJREFUSA3tVjFugzAUjUlPUKZIyVSpa2+A2BAXqThBD9ETcIMeAbEhbtC1UqcgZSI3KPQ9ioekGNvUrhhiySHA83uPxxf+m77vU8wjpq9B7nRjOATAR2D3hvilsEYIcTBaLGMxAi8A2fIHCzS8LrkZ0sXLou4JQtGJa3Capvuu615xPQZsd33fxTlkT+CpgiB4KYqiURoazbzDyL0LYR0HjJ1h6ulOBWQyNBNF0UeWZQ9hGG5V2L9cb9v2K8/zz7quH6k5V9QxhXyaIT8flBr8jxErE5I1I5NJkuRniePfsiwHU6Sl5lxCjqXN6G6GdDkxoYYgvL+LoVvo6z4NPWMOpnyJ2PAG+CAVmAfMi2FD4hK7/qKWheTyqW241p+QLCSbp3KJXV1Cyr0MSZ1QTzvuxtzPuOf4GtQA95aacwlVNMDWYFzAU+dDth8jcfWrS5SKpg2aaXK6bgHpDA2aMiG2k+zgAHxjlNKo6yO5qUGtoYW1FeB3ynbNFB4mJt+OMqEpkv+49g2gcw5a2MSfIAAAAABJRU5ErkJggg==\') !important;\n    background-size: 18px 14px !important;\n    background-position: right 5px center !important;\n    background-repeat: no-repeat !important;\n    box-shadow: 1px 1px 2px 0 rgba(0, 0, 0, 0.3) !important;\n    width: 60px !important;\n    height: 40px !important;\n    position: fixed !important;\n    cursor: help !important;\n    display: block !important;\n    color: white !important;\n    font-family: "Courier New" !important;\n    font-weight: bold !important;\n    text-align: right !important;\n    line-height: 40px !important;\n    padding-right: 30px !important;\n    font-size: 18px !important;\n    transition: transform 0.5s !important;\n    z-index: 2147483645 !important;\n    transform: translateX(-75px) !important;\n}\n\n#upscope___lookup-code-button:hover {\n    transform: translateX(-68px) !important;\n}\n\n#upscope___lookup-code-button.upscope___lookup-code-button--active {\n    transform: translateX(-5px) !important;\n}\n\n#upscope___lookup-code-button[data-align="right"] {\n    background-position: left 5px center !important;\n    padding-left: 30px !important;\n    padding-right: 0 !important;\n    transform: translateX(75px) !important;\n    text-align: left !important;\n}\n#upscope___lookup-code-button[data-align="right"]:hover {\n    transform: translateX(68px) !important;\n}\n#upscope___lookup-code-button[data-align="right"].upscope___lookup-code-button--active {\n    transform: translateX(5px) !important;\n}\n',y=function(){function a(c){if(h(this,a),this.connection=c,b("injectLookupCodeButton")){if(!this.pageMatchesForButton())return e("Not showing lookup code button as the page does not match");this.injectButtonElements()}b("lookupCodeElement")&&this.populateElement(),b("enableLookupCodeOnKey")&&this.listenForKeySequence(),this.listenForTargetChange()}return q(a,[{key:"handleButtonClick",value:function(){function a(a){return b.apply(this,arguments)}var b=g(p.default.mark(function a(b){var c=this;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),sessionStorage.setItem("__upscope:lookupCodeClick",!0),a.next=4,this.connection.getLookupCode();case 4:this.linkElement.textContent=a.sent,this.linkElement.className="upscope___lookup-code-button--active",this.resetTimeout&&clearTimeout(this.resetTimeout),this.resetTimeout=setTimeout(function(){c.linkElement.className=""},5e3);case 8:case"end":return a.stop()}},a,this)}));return a}()},{key:"pageMatchesForButton",value:function(){var a=!0,c=!1,e=void 0;try{for(var f,g=(0,n.default)(b("lookupCodeButtonPages"));!(a=(f=g.next()).done);a=!0){var h=f.value;if(s.default.match(h,d().href))return!0}}catch(a){c=!0,e=a}finally{try{!a&&g.return&&g.return()}finally{if(c)throw e}}return!1}},{key:"populateElement",value:function(){var a=this,c=0,d=!1;setInterval(g(p.default.mark(function e(){var f;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||c%10==0){e.next=2;break}return e.abrupt("return");case 2:if(f=b("lookupCodeElement")instanceof Element?b("lookupCodeElement"):document.querySelector(b("lookupCodeElement"))){e.next=6;break}return d=!1,e.abrupt("return");case 6:return e.next=8,a.connection.getLookupCode();case 8:f.innerText=e.sent,d=!0,c++;case 11:case"end":return e.stop()}},e,a)})),100)}},{key:"listenForKeySequence",value:function(){var a=this,b=function b(c){c&&(c.__upscopeLookupSequenceListenerActive||c.addEventListener("keyup",a.handleKeyUp.bind(a)),c.__upscopeLookupSequenceListenerActive=!0,(0,t.doForIframes)(c,function(a){return b(a.contentDocument)},null,!0))};b(document),setInterval(function(){return b(document)},1e3)}},{key:"handleKeyUp",value:function(a){this.sequence=this.sequence||0,this.sequenceStartedAt=this.sequenceStartedAt||null,this.sequence>0&&a.keyCode!==b("lookupCodeKey")?(this.sequence=0,this.sequenceStartedAt=null):a.keyCode===b("lookupCodeKey")?((null===this.sequenceStartedAt||new Date-this.sequenceStartedAt>1e4)&&(this.sequenceStartedAt=new Date,this.sequence=0),this.sequence++):(this.sequence=0,this.sequenceStartedAt=null),this.sequence===b("lookupCodeKeyRepetitions")&&(this.showAlert(),sessionStorage.setItem("__upscope:lookupCodeClick",!0),this.sequence=0,this.sequenceStartedAt=null)}},{key:"showAlert",value:function(){function a(){return c.apply(this,arguments)}var c=g(p.default.mark(function a(){var c;return p.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.connection.getLookupCode();case 2:c=a.sent,(0,w.alert)(b("lookupCodeKeyTitle").split("{%lookupCode%}").join(c),b("lookupCodeKeyMessage").split("{%lookupCode%}").join(c));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"listenForTargetChange",value:function(){var a=this;"#upscope-lookup-code"===location.hash&&(e("Page had #upscope-lookup-code target at pageload"),this.showAlert(),sessionStorage.setItem("__upscope:lookupCodeClick",!0),history.replaceState("",document.title,window.location.pathname+window.location.search)),window.addEventListener("hashchange",function(){"#upscope-lookup-code"===location.hash&&(e("User clicked on #upscope-lookup-code link"),a.showAlert(),sessionStorage.setItem("__upscope:lookupCodeClick",!0),history.back())})}},{key:"injectButtonElements",value:function(){if(!document.querySelector("#upscope___lookup-code-button-style")){e("Adding promo link stylesheet");var a=document.createElement("style"),c=document.head||document.querySelectorAll("head")[0];a.type="text/css",a.id="upscope___lookup-code-button-style",a.styleSheet?a.styleSheet.cssText=x:a.appendChild(document.createTextNode(x)),c.appendChild(a)}if(!this.linkElement||!document.querySelector("#upscope___lookup-code-button")){e("Adding promo link element");var d=document.createElement("div"),f=document.body||document.querySelectorAll("body")[0];d.id="upscope___lookup-code-button",d.title="Screenshare code (by upscope.com)",d.style.cssText=b("lookupCodeButtonStyle").split(";").join(" !important;"),b("lookupCodeButtonStyle").indexOf("right")>-1&&(d.dataset.align="right");var g=document.createComment("\nUpscope look up code button\nDisable here: http://app.upscope.io/settings/teams/_?section=lookup_code\n");d.addEventListener("click",this.handleButtonClick.bind(this)),f.appendChild(g),f.appendChild(d),this.linkElement=d}}}]),a}();c.default=y}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:modules/lookup-code-controller.js"))},{"../dom-utils":299,"./css-reset":323,"./dialogs":324,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/define-property":6,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117,wildstring:298}],345:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/object/define-property"),h=e(g),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,h.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./css-reset"),k=e(j),l="\n#upscope___call-screen,\n#upscope___call-screen__box,\n#upscope___call-screen__box__text,\n#upscope___call-screen__box__buttons,\n#upscope___call-screen__box__buttons__accept,\n#upscope___call-screen__box__buttons__decline {\n  "+k.default+"\n  pointer-events: none !important;\n  user-select: none !important;\n}\n#upscope___call-screen {\n  pointer-events: none !important;\n  z-index: 2147483647 !important;\n  background-image: radial-gradient(50% 50%, #FFFFFF 50%, rgba(255,255,255,0.8) 100%) !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  opacity: 0 !important;\n  transition: opacity 0.5s !important;\n}\n\n#upscope___call-screen.upscope___call-screen--show {\n  opacity: 1 !important;\n}\n\n#upscope___call-screen.upscope___call-screen--show,\n#upscope___call-screen.upscope___call-screen--show #upscope___call-screen__box,\n#upscope___call-screen.upscope___call-screen--show #upscope___call-screen__box__text,\n#upscope___call-screen.upscope___call-screen--show #upscope___call-screen__box__buttons,\n#upscope___call-screen.upscope___call-screen--show #upscope___call-screen__box__buttons__accept,\n#upscope___call-screen.upscope___call-screen--show #upscope___call-screen__box__buttons__decline {\n  pointer-events: all !important;\n}\n\n#upscope___call-screen__box {\n  position: fixed!important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translateX(-50%) translateY(-50%) !important;\n}\n\n#upscope___call-screen__box__text {\n  text-align: center !important;\n  display: block !important;\n  margin-bottom: 12px !important;\n  font-family: 'Avenir Next', Avenir, 'Lucida Grande', Helvetica, sans-serif !important;\n  text-transform: uppercase !important;\n  font-size: 15px !important;\n  font-weight: 600 !important;\n  letter-spacing: 0.8px !important;\n}\n\n#upscope___call-screen__box__buttons {\n  text-align: center !important;\n  display: block !important;\n}\n\n#upscope___call-screen__box__buttons__accept,\n#upscope___call-screen__box__buttons__decline {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxwYXRoIGQ9Ik0uMTYyIDYuMmEuNzMyLjczMiAwIDAgMS0uMTUyLS41ODIuOTYzLjk2MyAwIDAgMSAuMjUzLS41M2MyLjEyNS0yLjIyIDQuNjMtMy43MjcgNy41MTMtNC41MmExNS45ODIgMTUuOTgyIDAgMCAxIDguNDQ4IDBjMi44ODQuNzkzIDUuMzg4IDIuMyA3LjUxMyA0LjUyLjEzNS4xNDIuMjIuMzE4LjI1My41M2EuNzMyLjczMiAwIDAgMS0uMTUyLjU4MWwtMi4wMjMgMy4zODRhLjgxNC44MTQgMCAwIDEtLjQ1Ni4zNy43NC43NCAwIDAgMS0uNTgyLS4wMjZMMTYuNzMgOC4yMzVhLjc4Ni43ODYgMCAwIDEtLjM5Mi0uMzU3IDEuMTUzIDEuMTUzIDAgMCAxLS4xMzktLjU2OWwuMjc4LTIuODgxYTEyLjA5MSAxMi4wOTEgMCAwIDAtNC40OS0uODMzIDEyLjYzNyAxMi42MzcgMCAwIDAtNC40NjQuODMzTDcuOCA3LjMwOWMwIC4yMTItLjA0Ni40MDEtLjE0LjU2OWEuNzg2Ljc4NiAwIDAgMS0uMzkxLjM1N0wzLjIyMyA5LjkyN2EuNzQuNzQgMCAwIDEtLjU4Mi4wMjYuODE0LjgxNCAwIDAgMS0uNDU2LS4zN0wuMTYyIDYuMTk5eiIgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQo8L3N2Zz4=) !important;\n  background-position: center center !important;\n  display: inline-block !important;\n  height: 40px !important;\n  width: 40px !important;\n  margin: 0 5px !important;\n  border-radius: 20px !important;\n  text-indent: -99999px !important;\n  background-repeat: no-repeat !important;\n  opacity: 0.8 !important;\n  cursor: pointer !important;\n}\n\n#upscope___call-screen__box__buttons__accept:hover,\n#upscope___call-screen__box__buttons__decline:hover {\n  opacity: 1 !important;\n}\n\n#upscope___call-screen__box__buttons__accept {\n  background-color: #3BD800 !important;\n  transform: rotate(-130deg) !important;\n  background-position: center 14px !important;\n}\n\n#upscope___call-screen__box__buttons__decline {\n  background-color: #F60000 !important;\n}",m=function(){function a(){f(this,a),this.callback=null}return i(a,[{key:"handleResponse",value:function(a){this.callback&&(this.callback(a),this.hide())}},{key:"show",value:function(a){this.callback=a,this._injectElements(),this.screenElement.className="upscope___call-screen--show",b.callRingtone&&(this.audio=this.audio||new Audio(b("callRingtone")),this.audio.loop=!0,this.audio.play())}},{key:"hide",value:function(){this.callback=null,this.screenElement&&(this.screenElement.className=""),this.audio&&this.audio.pause()}},{key:"_injectElements",value:function(){var a=this;if(!document.getElementById("upscope___phone-controller-style")){d("Adding promo link stylesheet");var c=document.createElement("style"),e=document.head||document.getElementsByTagName("head")[0];c.type="text/css",c.id="upscope___phone-controller-style",c.styleSheet?c.styleSheet.cssText=l:c.appendChild(document.createTextNode(l)),e.appendChild(c)}if(!this.screenElement||!document.getElementById("upscope___call-screen")){d("Adding promo link element");var f=document.createElement("div"),g=document.body||document.getElementsByTagName("body")[0];f.id="upscope___call-screen",g.appendChild(f),f.innerHTML='<div id="upscope___call-screen__box">\n  <div id="upscope___call-screen__box__text"></div>\n  <div id="upscope___call-screen__box__buttons">\n    <a id="upscope___call-screen__box__buttons__accept" href="#">Accept</a>\n    <a id="upscope___call-screen__box__buttons__decline" href="#">Decline</a>\n  </div>\n</div>',document.getElementById("upscope___call-screen__box__text").innerText=b("callPromptText"),document.getElementById("upscope___call-screen__box__buttons__accept").addEventListener("click",function(b){b.preventDefault(),a.handleResponse(!0)}),document.getElementById("upscope___call-screen__box__buttons__decline").addEventListener("click",function(b){b.preventDefault(),a.handleResponse(!1)}),this.screenElement=f}}}]),a}();c.default=m}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/phone-controller.js"))},{"./css-reset":323,"babel-runtime/core-js/object/define-property":6,debug:117}],346:[function(a,b,c){(function(b,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/object/define-property"),i=f(h),j=a("babel-runtime/core-js/get-iterator"),k=f(j),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,i.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=a("wildstring"),n=f(m),o=a("./css-reset"),p=f(o),q=a("./dialogs"),r="\n#upscope___request-agent-button {\n  "+p.default+";\n  background-image: url(\"data:image/svg+xml,%3Csvg width='19' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.856 24.393a.825.825 0 0 1-.477.514c-.23.096-.46.118-.686.065-3.568-.82-6.675-2.472-9.321-4.954a20.246 20.246 0 0 1-5.456-8.701C-.16 7.858-.288 4.35.536.795A1.1 1.1 0 0 1 .894.21a.829.829 0 0 1 .673-.202H6.22c.24-.004.46.077.66.242.2.165.317.37.35.615l.94 5.21a.938.938 0 0 1-.1.624 1.296 1.296 0 0 1-.472.493L4.57 8.68a15.243 15.243 0 0 0 2.076 5.138 15.98 15.98 0 0 0 3.707 4.085l2.67-2.061c.208-.13.426-.2.651-.207a.946.946 0 0 1 .606.184l4.286 3.127c.207.137.341.331.402.583a.978.978 0 0 1-.072.697l-2.039 4.168z' fill='%2362BB00' fill-rule='evenodd' fill-opacity='.95'/%3E%3C/svg%3E\"), linear-gradient(0deg, #F8F8F8 0%, #FFFFFF 98%) !important;\n  background-size: 19px 25px, cover !important;\n  background-position: left 15px center, 0 0 !important;\n  background-repeat: no-repeat !important;\n  box-shadow: 0 1px 5px 0 rgba(0,0,0,0.20) !important;\n  z-index: 2147483645 !important;\n  display: none !important;\n  position: absolute !important;\n  position: fixed !important;\n  padding: 10px 10px 10px 44px !important;\n  font-family: 'Avenir Next', 'Avenir', 'Helvetica', sans-serif !important;\n  border-radius: 3px !important;\n  cursor: pointer !important;\n  transition: opacity 0.3s, box-shadow 0.3s !important;\n  user-select: none !important;\n  opacity: 0.95 !important;\n}\n\n#upscope___request-agent-button span {\n  display: block !important;\n}\n\n#upscope___request-agent-button__title,\n#upscope___request-agent-button__requesting-title {\n  font-size: 16px !important;\n  font-weight: 500 !important;\n  padding-right: 10px !important;\n}\n\n#upscope___request-agent-button__subtitle,\n#upscope___request-agent-button__requesting-subtitle {\n  font-size: 14px !important;\n}\n\n#upscope___request-agent-button__requesting-title,\n#upscope___request-agent-button__requesting-subtitle {\n  visibility: hidden !important;\n  height: 0 !important;\n}\n\n.upscope___request-agent-button--pending #upscope___request-agent-button__requesting-title,\n.upscope___request-agent-button--pending #upscope___request-agent-button__requesting-subtitle {\n  visibility: visible !important;\n  height: auto !important;\n}\n\n.upscope___request-agent-button--pending #upscope___request-agent-button__title,\n.upscope___request-agent-button--pending #upscope___request-agent-button__subtitle {\n  visibility: hidden !important;\n  height: 0 !important;\n}\n\n#upscope___request-agent-button.upscope___request-agent-button--visible {\n  display: block !important;\n}\n\n#upscope___request-agent-button:hover {\n  opacity: 1 !important;\n  box-shadow: 0 3px 15px 0 rgba(0,0,0,0.50) !important;\n}\n\n#upscope___request-agent-button.upscope___request-agent-button--pending {\n  background-image: url(\"data:image/svg+xml,%3Csvg width='19' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.856 24.393a.825.825 0 0 1-.477.514c-.23.096-.46.118-.686.065-3.568-.82-6.675-2.472-9.321-4.954a20.246 20.246 0 0 1-5.456-8.701C-.16 7.858-.288 4.35.536.795A1.1 1.1 0 0 1 .894.21a.829.829 0 0 1 .673-.202H6.22c.24-.004.46.077.66.242.2.165.317.37.35.615l.94 5.21a.938.938 0 0 1-.1.624 1.296 1.296 0 0 1-.472.493L4.57 8.68a15.243 15.243 0 0 0 2.076 5.138 15.98 15.98 0 0 0 3.707 4.085l2.67-2.061c.208-.13.426-.2.651-.207a.946.946 0 0 1 .606.184l4.286 3.127c.207.137.341.331.402.583a.978.978 0 0 1-.072.697l-2.039 4.168z' fill='%23d0d0d0' fill-rule='evenodd' fill-opacity='.95'/%3E%3C/svg%3E\"), linear-gradient(0deg, #F8F8F8 0%, #FFFFFF 98%) !important;\n  opacity: 0.85 !important;\n  cursor: default !important;\n}\n\n#upscope___request-agent-button__close {\n  position: absolute !important;\n  top: 8px !important;\n  right: 8px !important;\n  height: 14px !important;\n  width: 14px !important;\n  opacity: 0.6 !important;\n}\n#upscope___request-agent-button__close::before,\n#upscope___request-agent-button__close::after {\n  content: '' !important;\n  width: 2px !important;\n  background: #535353 !important;\n  position: absolute !important;\n  left: 6px !important;\n  height: 10px !important;\n  top: 2px !important;\n  -webkit-transform: rotate(45deg) !important;\n  transform: rotate(45deg) !important;\n}\n\n#upscope___request-agent-button__close::after {\n  -webkit-transform: rotate(-45deg) !important;\n  transform: rotate(-45deg) !important;\n}\n\n#upscope___request-agent-button__close:hover {\n  opacity: 1 !important;\n}\n\n.upscope___request-agent-button--pending #upscope___request-agent-button__close {\n  display: none !important;\n}\n",s=function(){function a(c){if(g(this,a),!this._pageMatches())return e("Not showing agent request button as the page does not match");this.visible=!1,this.requesting=!1,this._injectElements(),setInterval(this._injectElements.bind(this),1e3),this.connection=c,"always"===b("showAgentRequestButton")?this.activate():c.listen("agentsAvailable",this.activate.bind(this)),c.listen("sessionStart","sessionContinue",this.deactivate.bind(this)).listen("sessionEnd",this.activate.bind(this)).listen("agentRequestUpdate",this.onStatusChange.bind(this))}return l(a,[{key:"activate",value:function(){e("Activating agent request button"),this._injectElements(),this.visible=!0,this.requesting=!1,this._toggleClass()}},{key:"deactivate",value:function(){e("Deactivating agent request button"),this._injectElements(),this.visible=!1,this.requesting&&this.connection.cancelRequestAgent(),this._toggleClass()}},{key:"onCloseButtonClick",value:function(a){a.stopPropagation(),this.deactivate()}},{key:"_toggleClass",value:function(){var a=(this.requesting?"upscope___request-agent-button--pending":"")+(this.visible?" upscope___request-agent-button--visible":"");this.buttonElement.className!==a&&(this.buttonElement.className=a)}},{key:"_pageMatches",value:function(){var a=!0,c=!1,e=void 0;try{for(var f,g=(0,k.default)(b("agentRequestButtonPages"));!(a=(f=g.next()).done);a=!0){var h=f.value;if(n.default.match(h,d().href))return!0}}catch(a){c=!0,e=a}finally{try{!a&&g.return&&g.return()}finally{if(c)throw e}}return!1}},{key:"onStatusChange",value:function(a){switch(this.requesting="pending"===a,this._toggleClass(),a){case"accepted":(0,q.alert)(b("agentRequestResultTitle"),b("agentRequestAcceptedText")),this.deactivate();break;case"unavailable":null===b("unavailableAagentRequestRedirectTo")?(0,q.alert)(b("agentRequestResultTitle"),b("agentRequestNotAvailableText")):b("unavailableAagentRequestRedirectImmediately")?location.href=b("unavailableAagentRequestRedirectTo"):(0,q.alert)(b("agentRequestResultTitle"),b("agentRequestNotAvailableText")).then(function(){location.href=b("unavailableAagentRequestRedirectTo")})}}},{key:"onButtonClick",value:function(){this.requesting?this.connection.cancelRequestAgent():this.connection.requestAgent()}},{key:"_injectElements",value:function(){if(!document.querySelector("#upscope___agent-request-style")){e("Adding agent request button stylesheet");var a=document.createElement("style"),c=document.head||document.querySelectorAll("head")[0];a.type="text/css",a.id="upscope___agent-request-style",a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),c.appendChild(a)}if(!this.buttonElement||!document.querySelector("#upscope___request-agent-button")){e("Adding agent request button element");var d=document.createElement("div"),f=document.createElement("span"),g=document.createElement("span"),h=document.createElement("span"),i=document.createElement("span"),j=document.createElement("span"),k=document.body||document.querySelectorAll("body")[0];d.id="upscope___request-agent-button",d.style.cssText=b("agentRequestButtonStyle").split(";").join(" !important;"),d.addEventListener("click",this.onButtonClick.bind(this)),f.id="upscope___request-agent-button__close",f.addEventListener("click",this.onCloseButtonClick.bind(this)),g.textContent=b("agentRequestButtonTitle"),g.id="upscope___request-agent-button__title",h.textContent=b("agentRequestButtonSubtitle"),h.id="upscope___request-agent-button__subtitle",i.textContent=b("agentRequestButtonRequestingTitle"),i.id="upscope___request-agent-button__requesting-title",j.textContent=b("agentRequestButtonRequestingSubtitle"),j.id="upscope___request-agent-button__requesting-subtitle";var l=document.createComment("\nUpscope agent request button\nDisable here: http://app.upscope.io/settings/teams/_?section=agent_request_button\n");d.appendChild(f),d.appendChild(g),d.appendChild(h),d.appendChild(i),d.appendChild(j),k.appendChild(l),k.appendChild(d),this.buttonElement=d}this._toggleClass()}}]),a}();c.default=s}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:modules/request-agent-button-controller.js"))},{"./css-reset":323,"./dialogs":324,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/define-property":6,debug:117,wildstring:298}],347:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new o.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return o.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function g(a){try{var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?atob(b[2]):null}catch(a){return null}}function h(a,b,c){try{b&&(b=btoa(b));var d=new Date;d.setMonth(d.getMonth()+1),document.cookie=a+"="+b+";domain=."+c+";path=/;expires="+d.toGMTString()}catch(a){}}function i(a,b){h(a,"",b,new Date(0))}Object.defineProperty(c,"__esModule",{value:!0});var j=a("babel-runtime/core-js/json/stringify"),k=e(j),l=a("babel-runtime/regenerator"),m=e(l),n=a("babel-runtime/core-js/promise"),o=e(n),p=a("lodash/startsWith"),q=e(p),r=void 0===o.default?a("es6-promise").Promise:o.default,s=a("cross-storage"),t=s.CrossStorageClient,u=!1,v="extension"!==window.__upscopeContext__&&(0,q.default)(b("crossStorageEndpoint"),"https://")?function(a){try{return new t(a,{timeout:5e3,frameId:"upscopeStorageFrame",promise:r})}catch(a){return d("Could not initialize cross storage client (%o)",a),null}}(b("crossStorageEndpoint")):null,w={get:function(a){var c=this;return f(m.default.mark(function e(){var f;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("extension"!==window.__upscopeContext__){e.next=2;break}return e.abrupt("return",window.storeGet(a));case 2:if("sessionStorage"!==b("crossStorageEndpoint")){e.next=4;break}return e.abrupt("return",JSON.parse(sessionStorage.getItem("__upscope:"+a)||"null"));case 4:if(f=localStorage.getItem("__upscope:"+a)||g("_upscope__"+a)||null,u||null===v){e.next=21;break}return e.prev=6,e.next=9,v.onConnect();case 9:return e.next=11,v.get(b("apiKey")+":"+a);case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0=f;case 14:f=e.t0,e.next=21;break;case 17:e.prev=17,e.t1=e.catch(6),d("Error getting "+a+" from cross storage (%o)",e.t1),u=!0;case 21:if(null!==f){e.next=23;break}return e.abrupt("return",null);case 23:try{f=JSON.parse(f)}catch(a){}return c.set(a,f),e.abrupt("return",f);case 26:case"end":return e.stop()}},e,c,[[6,17]])}))()},set:function(a,c){var e=this;return f(m.default.mark(function f(){var i,j;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("extension"!==window.__upscopeContext__){e.next=2;break}return e.abrupt("return",window.storeSet(a,c));case 2:if("sessionStorage"!==b("crossStorageEndpoint")){e.next=4;break}return e.abrupt("return",sessionStorage.setItem("__upscope:"+a,(0,k.default)(c)));case 4:c=(0,k.default)(c),localStorage.setItem("__upscope:"+a,c),i=location.hostname.split("."),j=i.length-2;case 8:if(!(j>=0)){
e.next=15;break}if(h("_upscope__"+a,c,i.slice(j).join(".")),g("_upscope__"+a)!==c){e.next=12;break}return e.abrupt("break",15);case 12:j--,e.next=8;break;case 15:if(!u&&null!==v){e.next=17;break}return e.abrupt("return");case 17:return e.prev=17,e.next=20,v.onConnect();case 20:return e.next=22,v.set(b("apiKey")+":"+a,c);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),d("Error setting "+a+" to "+c+" to cross storage (%o)",e.t0),u=!0;case 28:case"end":return e.stop()}},f,e,[[17,24]])}))()},del:function(a){var c=this;return f(m.default.mark(function e(){var f,h;return m.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("extension"!==window.__upscopeContext__){c.next=2;break}return c.abrupt("return",window.storeDelete(a));case 2:if("sessionStorage"!==b("crossStorageEndpoint")){c.next=4;break}return c.abrupt("return",sessionStorage.removeItem("__upscope:"+a));case 4:localStorage.removeItem("__upscope:"+a),f=location.hostname.split("."),h=f.length-2;case 7:if(!(h>=0)){c.next=14;break}if(i("_upscope__"+a,f.slice(h).join(".")),null!==g("_upscope__"+a)){c.next=11;break}return c.abrupt("break",14);case 11:h--,c.next=7;break;case 14:if(!u&&null!==v){c.next=16;break}return c.abrupt("return");case 16:return c.prev=16,c.next=19,v.onConnect();case 19:return c.next=21,v.del(b("apiKey")+":"+a);case 21:c.next=27;break;case 23:c.prev=23,c.t0=c.catch(16),d("Error removing "+a+" to from cross storage (%o)",c.t0),u=!0;case 27:case"end":return c.stop()}},e,c,[[16,23]])}))()}};c.default=w}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},a("debug")("upscope:modules/storage.js"))},{"babel-runtime/core-js/json/stringify":4,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,"cross-storage":116,debug:117,"es6-promise":120,"lodash/startsWith":284}],348:[function(a,b,c){(function(b,d,e){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("babel-runtime/core-js/object/define-property"),i=f(h),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,i.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("./css-reset"),l=f(k),m="\n  #upscope___promo-link,\n  #upscope___promo-link__upscope-link,\n  #upscope___promo-link__stop-button\n   {\n    "+l.default+";\n    text-decoration: none !important;\n    font-weight: 500 !important;\n    font-size: 12px !important;\n    font-family: 'Avenir Next', Avenir, 'Lucida Grande', Helvetica, sans-serif !important;\n    text-transform: uppercase !important;\n    letter-spacing: 0.4px !important;\n    -webkit-font-smoothing: subpixel-antialiased !important;\n    font-weight: 600 !important;\n    user-select: none !important;\n  }\n  #upscope___promo-link {\n    z-index: 2147483647 !important;\n    display: none !important;\n    border-radius: 0 3px 0 0 !important;\n    padding: 2px 2px 2px 5px !important;\n    position: fixed !important;\n    bottom: 0 !important;\n    left: 0 !important;\n    background: rgba(255, 255, 255, 0.8) !important;\n    color: #515151 !important;\n    border: 1px solid rgba(0, 0, 0, 0.5) !important;\n    border-left: none !important;\n    border-bottom: none !important;\n  }\n  #upscope___promo-link.upscope___promo-link--active, #upscope___promo-link.upscope___promo-link--deactivating {\n    display: block !important;\n  }\n  #upscope___promo-link__upscope-link {\n    position: relative !important;\n    cursor: pointer !important;\n  }\n  #upscope___promo-link__icon {\n    font-weight: 700 !important;\n  }\n  #upscope___promo-link__stop-button {\n    background: #d90000 !important;\n    color: white !important;\n    border-radius: 2px !important;\n    padding: 0 3px !important;\n    cursor: pointer !important;\n    text-shadow: 0.3px 0 0 white !important;\n  }\n  #upscope___promo-link__upscope-link + #upscope___promo-link__stop-button {\n    margin-left: 10px !important;\n  }\n  #upscope___promo-link__stop-button:hover {\n    background: #a30000 !important;\n  }\n  #upscope___promo-link__stop-button:active {\n    background: #770000 !important;\n  }\n  #upscope___promo-link.upscope___promo-link--deactivating #upscope___promo-link__stop-button {\n    display: none !important;\n  }\n  #upscope___promo-link.upscope___promo-link--deactivating #upscope___promo-link__screensharing-by {\n    display: none !important;\n  }\n  #upscope___promo-link__thank-you, #upscope___promo-link__learn-more {\n    display: none !important;\n  }\n  #upscope___promo-link.upscope___promo-link--deactivating #upscope___promo-link__thank-you, #upscope___promo-link.upscope___promo-link--deactivating #upscope___promo-link__learn-more {\n    display: inline !important;\n  }\n",n=function(){function a(c){g(this,a),(b("showUpscopeLink")||b("showTerminateButton"))&&(this._injectElements(),setInterval(this._injectElements.bind(this),1e3),this.connection=c,this.active=!1,c.listen("sessionStart","sessionContinue",this.activate.bind(this)).listen("sessionEnd",this.deactivate.bind(this)))}return j(a,[{key:"activate",value:function(){e("Activating info button"),this._injectElements(),this.active=!0,this.linkElement.className="upscope___promo-link--active",clearTimeout(this.deactivationTimeout)}},{key:"deactivate",value:function(){var a=this;if(e("Deactivating info button"),this._injectElements(),this.active=!1,!b("showUpscopeLink"))return void(this.linkElement.className="");this.linkElement.className="upscope___promo-link--deactivating",this.deactivationTimeout=setTimeout(function(){a.linkElement.className=""},3e4)}},{key:"_injectElements",value:function(){var a=this;if(!document.querySelector("#upscope___promo-link-style")){e("Adding info button stylesheet");var c=document.createElement("style"),f=document.head||document.querySelectorAll("head")[0];c.type="text/css",c.id="upscope___promo-link-style",c.styleSheet?c.styleSheet.cssText=m:c.appendChild(document.createTextNode(m)),f.appendChild(c)}if(!this.linkElement||!document.querySelector("#upscope___promo-link")){e("Adding info button element");var g=document.createElement("div"),h=document.body||document.querySelectorAll("body")[0];g.id="upscope___promo-link";var i=document.createComment("\nUpscope stop screen sharing button\nDisable here: http://app.upscope.io/settings/teams/_?section=co_browsing\n");if(b("showUpscopeLink")){var j=document.createElement("a");j.id="upscope___promo-link__upscope-link",j.href="https://helloscreen.com/hello?utm_source=upscope&utm_campaign=promo-link&utm_audience="+d().hostname,j.target="_blank",j.rel="noopener";var k=document.createElement("span");k.id="upscope___promo-link__screensharing-by",k.textContent="Screensharing by ";var l=document.createElement("span");l.id="upscope___promo-link__thank-you",l.textContent="Thank you for using ";var n=document.createElement("span");n.id="upscope___promo-link__icon",n.textContent="Upscope";var o=document.createElement("span");o.id="upscope___promo-link__learn-more",o.textContent=". Click to learn more.",j.appendChild(k),j.appendChild(l),j.appendChild(n),j.appendChild(o),g.appendChild(j)}if(b("showTerminateButton")){var p=document.createElement("a");p.id="upscope___promo-link__stop-button",p.href="#",p.textContent=b("translationsStopSession"),p.addEventListener("click",function(b){b.preventDefault(),a.connection.stopSession()}),g.appendChild(p)}h.appendChild(i),h.appendChild(g),this.linkElement=g,this.active&&(this.linkElement.className="upscope___promo-link--active")}}}]),a}();c.default=n}).call(this,function(a,b){return 2===arguments.length&&(window.Upscope._config[a]=b),1===arguments.length?window.Upscope._config[a]:window.Upscope._config},function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:modules/terminate-button-controller.js"))},{"./css-reset":323,"babel-runtime/core-js/object/define-property":6,debug:117}],349:[function(a,b,c){(function(b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return function(){var b=a.apply(this,arguments);return new h.default(function(a,c){function d(e,f){try{var g=b[e](f),i=g.value}catch(a){return void c(a)}if(!g.done)return h.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)});a(i)}return d("next")})}}var g=a("babel-runtime/core-js/promise"),h=e(g),i=a("babel-runtime/core-js/is-iterable"),j=e(i),k=a("babel-runtime/regenerator"),l=e(k),m=a("babel-runtime/core-js/object/keys"),n=e(m),o=a("babel-runtime/core-js/get-iterator"),p=e(o),q=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=(0,p.default)(a);!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,j.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a("lodash/assign"),s=e(r),t=a("lodash/map"),u=e(t),v=a("lodash/intersection"),w=e(v),x=a("lodash/endsWith"),y=e(x),z=a("./modules/dialogs"),A=a("./utils"),B=location.search.indexOf("upscopeDebug=showAlerts")>-1;B&&window.alert("Upscope v1.16.133 loaded!"),function(e,g){var h=this;if(void 0===g)return console.error("The Upscope javascript snippet was not installed correctly.");if(void 0!==e.Upscope._config)return console.warn("The Upscope javascript code was loaded twice.");if("string"==typeof localStorage.getItem("upscopeTestingKey")){var i=localStorage.getItem("upscopeTestingKey").split(":"),j=q(i,2),k=j[0],m=j[1];if(m!==e.Upscope.__defaultConfiguration.apiKey){delete e.Upscope.__defaultConfiguration;var o=document.createElement("script");o.type="text/javascript",o.async=!0,"development"===k?o.src="http://localhost:3005/code/"+m+".js":"staging"===k&&(o.src="https://code.upscope.xyz/"+m+".js");var r=document.querySelectorAll("script")[0];return r.parentNode.insertBefore(o,r),void console.warn("The Uspcope code is now in testing replacement mode")}}if(void 0!==e.Prototype&&e.Array&&e.Array.prototype&&void 0!==e.Array.prototype.toJSON)return console.error("This page uses a version of Prototype.js that will break JSON (and Upscope). See here: https://help.upscope.io/en/articles/1476027-upscope-compatibility-with-prototype");var t=!1;try{e.parent!==e&&void 0!==e.parent.Upscope&&(t=!0)}catch(a){c("No access to parent window.")}if(t)return void("extension"!==e.__upscopeContext__&&console.warn("Upscope is already loaded in the parent window, terminating."));e.Upscope._version="1.16.133";var v={alertDebugInfo:B,beta:!1,region:null,dataEndpoint:(0,A.baseEndpoint)("data",3005,"ws")+"/session",pageviewsEndpoint:(0,A.baseEndpoint)("data-collection",3005)+"/pageviews",phoneEndpoint:(0,A.baseEndpoint)("phone",3007),javascriptEndpoint:(0,A.baseEndpoint)("js",3002),crossStorageEndpoint:(0,A.baseEndpoint)("storage",3004),proxyRedirectEndpoint:(0,A.baseEndpoint)("app",3e3)+"/session?token=TOKEN&url=URL",requireAuthorizationForSession:!1,integrateWithLivechat:!0,liveChatRewrite:!0,grabIdentityFromLivechat:!0,showUpscopeLink:!0,cursorColor:"black",enlargeCursor:!1,showTerminateButton:!0,encrypted:!1,autoconnect:!0,trackConsole:!1,allowRemoteConsole:!1,allowRemoteClick:!0,allowRemoteScroll:!0,allowRemoteType:!0,allowAgentRedirect:!0,rewriteExternalLinks:!1,collectHistory:!1,consoleAllowed:!0,drawingsTtlMs:6e3,enableLookupCodeOnKey:!1,lookupCodeKey:17,lookupCodeKeyRepetitions:5,lookupCodeKeyTitle:"Co-browsing access code",lookupCodeKeyMessage:"Please give the agent this code: {%lookupCode%}",lookupCodeElement:null,injectLookupCodeButton:!1,lookupCodeButtonPages:["*"],lookupCodeButtonStyle:"left: 0;bottom: 100px;",disconnectAfterSeconds:900,proxyAssets:["*://localhost/*","*://localhost:*/*","*://127.0.0.1/*","*://127.0.0.1:*/*","*://*.dev/*","*://*.dev:*/*"],maskedElements:[],domChangesDelay:100,ignoreBrowserSupport:"off"===localStorage.getItem("upscope:browserDetect"),enableCanvases:!0,customCallController:null,callPromptText:"Would you like to join the voice call?",callRingtone:(0,A.isProduction)()?"https://js.upscope.io/assets-1.16.133/ringtone.mp3":"http://localhost:3002/assets/ringtone.mp3",authorizationPromptTitle:"Co-browsing request",authorizationPromptMessage:"Would you like to let {%agentName%|our agent} help you navigate {%currentDomain%}?",endOfScreenshareMessage:null,callWaitMessage:"Please stay on this page. Our agent will call you here shortly.",translationsYes:"Yes",translationsNo:"No",translationsOk:"Okay",translationsStopSession:"End session",agentRequestButtonStyle:"left: 10px;bottom: 10px;",agentRequestButtonTitle:"Request agent help",agentRequestButtonSubtitle:"An agent can screen share with you now",agentRequestButtonRequestingTitle:"Looking for an available agent...",agentRequestButtonRequestingSubtitle:"Click to cancel request",agentRequestResultTitle:"Agent request",agentRequestNotAvailableText:"An agent is not currently available. Please try again later.",agentRequestAcceptedText:"An agent will screen share with you shortly. Please stay on this page.",showAgentRequestButton:"never",agentRequestButtonPages:["*"],unavailableAagentRequestRedirectImmediately:!1,unavailableAagentRequestRedirectTo:null,fromProxy:!1,sfdcFieldLabel:"Screen_Share",sfdcFieldId:"Screen_Share__c",baseProxyUrl:(0,A.isProduction)()?"https://APIKEY.upscopeproxy.com":(0,A.isStaging)()?"https://APIKEY.upscopeproxy.xyz":"http://APIKEY.local.upscopeproxy.xyz",proxyDomain:(0,A.isProduction)()?".upscopeproxy.com":(0,A.isStaging)()?".upscopeproxy.xyz":".local.upscopeproxy.xyz",needsProxy:function(a){return!!v.fromProxy||(a=new URL(a,location.href),"pdf"===a.pathname.split(".").pop()||!(0,y.default)(a.hostname,location.hostname)&&!(0,y.default)(location.hostname,a.hostname))},onSessionRequest:function(a,c){d("info","Screen sharing request received");var e=void 0;e=-1===v.authorizationPromptMessage.indexOf("{%agentName%|")?v.authorizationPromptMessage:c?(0,u.default)(v.authorizationPromptMessage.split("{%agentName%|"),function(a,b){return 0===b?a:a.substr(a.indexOf("}")+1)}).join(c):(0,u.default)(v.authorizationPromptMessage.split("{%agentName%|"),function(a,b){return 0===b?a:a.substr(0,a.indexOf("}"))+a.substr(a.indexOf("}")+1)}).join(""),e=e.split("{%currentDomain%}").join(b().host),(0,z.confirm)(v.authorizationPromptTitle,e).then(a)},onSessionStart:function(){d("info","Screen sharing started")},onSessionEnd:function(){d("info","Screen sharing ended"),v.endOfScreenshareMessage&&(0,z.alert)(v.endOfScreenshareMessage)},onWaitingForCall:function(){d("info","Found call name"),v.callWaitMessage&&(0,z.alert)(v.callWaitMessage)},onSessionContinue:function(){d("info","Screen sharing continued")},onConnection:null,maskElementMiddleware:function(a){if("password"===a.type||"function"==typeof a.getAttribute&&"cc-number"===a.getAttribute("autocompletetype"))return!0;for(;a;){var b=!0,c=!1,d=void 0;try{for(var e,f=(0,p.default)(v.maskedElements);!(b=(e=f.next()).done);b=!0){var g=e.value;if("function"==typeof a.matches&&a.matches(g))return!0;if("function"==typeof a.msMatchesSelector&&a.msMatchesSelector(g))return!0}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}if(a.className&&/\bno-upscope\b/.test(a.className))return!0;a=a.parentNode}return!1},noRemoteElements:[],allowRemoteMiddleware:function(a){if(v.maskElementMiddleware(a))return!1;for(;a;){var b=!0,c=!1,d=void 0;try{for(var e,f=(0,p.default)(v.noRemoteElements);!(b=(e=f.next()).done);b=!0){var g=e.value;if("function"==typeof a.matches&&a.matches(g))return!1;if("function"==typeof a.msMatchesSelector&&a.msMatchesSelector(g))return!1}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}a=a.parentNode}return!0},styleSheetContentFromRules:function(a){return"STYLE"===a.tagName&&!a.href&&0===a.innerText.trim().length}},x=setInterval(f(l.default.mark(function b(){var f,i,j,k,m,o,p,r,t,u;return l.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(f=g.q.shift())){b.next=31;break}if(clearInterval(x),i=q(f,2),j=i[0],k=i[1],k=k||{},"init"===j){b.next=7;break}return b.abrupt("return",console.error('The first command must be "init"'));case 7:if(e.Upscope.__defaultConfiguration?((0,s.default)(v,e.Upscope.__defaultConfiguration),(0,w.default)((0,n.default)(k),(0,n.default)(e.Upscope.__defaultConfiguration)).length>0&&(v.jsConfiguration=!0)):v.jsConfiguration=!0,(0,s.default)(v,k),g.q.length>0&&"updateConnection"===g.q[0][0]&&(m=g.q.shift(),o=q(m,2),p=o[0],r=o[1],c("connectionUpdate called right after init, updating configuration"),(0,s.default)(v,r)),c("PAGELOAD - Initiating Upscope version %s","1.16.133"),location.href&&c("Current page is: %s",location.href),document.referrer&&c("Previous page was: %s",document.referrer),B&&e.alert("Upscope initiated"),v.apiKey){b.next=16;break}return b.abrupt("return",console.error("API key required"));case 16:return null!==v.uniqueId&&void 0!==v.uniqueId&&["USER UNIQUE ID","undefined","null"].indexOf(v.uniqueId)>-1&&delete v.uniqueId,null!==v.identities&&void 0!==v.identities&&["list of identities here","undefined","null"].indexOf("function"==typeof v.identities.join?v.identities.join(" "):v.identities)>-1&&delete v.identities,null!==v.tags&&void 0!==v.tags&&"#list #of #tags #here"===("function"==typeof v.tags.join?v.tags.join(" "):v.tags)&&delete v.tags,null!==v.integrationIds&&void 0!==v.integrationIds&&"integration_name:resource_id"===("string"==typeof v.integrationIds?v.integrationIds:v.integrationIds.join(" "))&&delete v.integrationIds,v.version="1.16.133",e.Upscope._config=v,b.next=24,(0,A.until)(function(){return Boolean(document.body)});case 24:return t=a("./modules/frame-handler").default,b.next=27,(new t).isChild();case 27:if(!b.sent){b.next=29;break}return b.abrupt("return",d("info","attached to parent iframe"));case 29:u=a("./modules/connection").default,new u;case 31:case"end":return b.stop()}},b,h)})),100);setTimeout(function(){void 0===e.Upscope._config&&"extension"!==e.__upscopeContext__&&console.warn('Please remember to call Upscope("init"); for Upscope to work!')},1e4)}(window,window.Upscope)}).call(this,function(){return window.upscope___currentLocation?upscope___currentLocation():location},a("debug")("upscope:upscope.js"),function(){var b=Array.from(arguments),c=b.shift();window.Upscope._config.consoleAllowed?(b.unshift("[Upscope]"),(console["__original__"+c]||console[c]).apply(console,b)):a("debug")("upscope:console").apply(console,b)})},{"./modules/connection":321,"./modules/dialogs":324,"./modules/frame-handler":325,"./utils":350,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3,"babel-runtime/core-js/object/keys":7,"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,debug:117,"lodash/assign":256,"lodash/endsWith":258,"lodash/intersection":267,"lodash/map":281}],350:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new w.default(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return w.default.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(){return!0}function g(){return!1}function h(){return!1}function i(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http";if(h()){var d=(0,y.default)("__ONPREM_ENDPOINT__","/");return"http"===c?d:d.replace(/^http/,c)}return g()?c+"s://"+a+".upscope.xyz":f()?c+"s://"+a+".upscope.io":c+"://localhost:"+b}function j(a,b){var c=!1,d=null;return function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=this;c?(clearTimeout(d),d=setTimeout(function(){a.apply(h,f)},b)):(clearTimeout(d),a.apply(h,f),c=!0,setTimeout(function(){c=!1},b))}}function k(a,b,c){a["__original__"+b]=a[b],a[b]=c;for(var d in a["__original__"+b])a[b][d]=a["__original__"+b][d]}function l(a,b){b=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var c="",d=0;d<a;d++){var e=Math.floor(Math.random()*b.length);c+=b.substring(e,e+1)}return c}function m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}function n(a,b){return z.race([a,new z(function(a,c){setTimeout(function(){return c(new Error("Did not complete in "+b+"ms"))},b)})])}function o(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new z(function(d,f){var g=function(){var h=e(u.default.mark(function e(){return u.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,a();case 3:if(b.sent){b.next=5;break}return b.abrupt("return",setTimeout(g,c));case 5:d(),b.next=11;break;case 8:return b.prev=8,b.t0=b.catch(0),b.abrupt("return",f(b.t0));case 11:case"end":return b.stop()}},e,b,[[0,8]])}));return function(){return h.apply(this,arguments)}}();g()})}function p(a){var b=!1;return function(){b||a.apply(void 0,arguments),b=!0}}function q(a){return new z(function(b){setTimeout(b,a)})}function r(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{return a()}catch(a){return b}}function s(a){return A=A||document.createElement("a"),A.href=a,{host:A.host,hostname:A.hostname,protocol:A.protocol,port:A.port,pathname:A.pathname,origin:A.origin,search:A.search}}Object.defineProperty(c,"__esModule",{value:!0});var t=a("babel-runtime/regenerator"),u=d(t),v=a("babel-runtime/core-js/promise"),w=d(v);c.isProduction=f,c.isStaging=g,c.isOnprem=h,c.baseEndpoint=i,c.throttle=j,c.intercept=k,c.randomString=l,c.uuid=m,c.timeout=n,c.until=o,c.once=p,c.sleep=q,c.attempt=r,c.parseUrl=s;var x=a("lodash/trimEnd"),y=d(x),z=void 0===w.default?a("es6-promise").Promise:w.default,A=void 0},{"babel-runtime/core-js/promise":8,"babel-runtime/regenerator":11,"es6-promise":120,"lodash/trimEnd":291}]},{},[349])}(void 0,0,0,void 0);